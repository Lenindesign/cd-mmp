import{v as M}from"./index-BFhOOLG3.js";const O={"Miami, FL":["Miami Chevrolet","AutoNation","Coral Springs Auto","Ocean Honda","Kendall Toyota","Rick Case Hyundai","Hollywood Kia","South Motors","Palmetto Nissan","Coconut Creek Subaru","Doral Auto","Fort Lauderdale Motors"]},T={SUV:["LX","EX","Sport","Touring","Limited","SE","SEL","XLE","Premium"],Sedan:["LX","EX","Sport","Touring","Limited","SE","SEL","Premium"],Truck:["XL","XLT","Lariat","King Ranch","Limited","SR5","TRD Pro"],Coupe:["Base","Sport","GT","Premium","Performance","Turbo"],Hatchback:["S","SE","SEL","GTI","Sport","Turbo"],Convertible:["Base","Sport","Premium","GT","Limited"],Wagon:["Base","SE","SEL","Alltrack","Outback"]},W=()=>{const e=[];let o=1;return M.forEach(a=>{const r=a.priceMin<4e4?Math.floor(Math.random()*4)+3:Math.floor(Math.random()*2)+1,i=T[a.bodyStyle]||T.SUV;for(let s=0;s<r;s++){const t=Math.random()>.7,u=!t&&Math.random()>.7,d=!t&&Math.random()>.75,S=t?Math.floor(Math.random()*500):Math.floor(Math.random()*6e4)+5e3,k=a.priceMin,R=(a.priceMax-a.priceMin)*Math.random(),$=t?0:S/1e5*k*.3,c=Math.round(k+R-$),L=d?Math.round(c*(1+Math.random()*.1)):void 0,b=O["Miami, FL"],v=`${b[Math.floor(Math.random()*b.length)]} ${a.make}`,w=Math.round((Math.random()*25+1)*10)/10,A=i[Math.floor(Math.random()*i.length)],m=Math.floor(Math.random()*60)+1,F=t?0:Math.floor(Math.random()*3)+1,D=t?0:Math.random()>.85?Math.floor(Math.random()*2)+1:0,U=t?0:Math.floor(Math.random()*15)+3,l=[];if(!t){let h=L||Math.round(c*1.08);[m,Math.floor(m*.6),Math.floor(m*.3)].forEach((B,E)=>{if(B>0){const f=new Date;f.setDate(f.getDate()-B);const C=E>0?l[E-1].price-h:0;l.push({date:f.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),price:h,change:C!==0?C:void 0}),h=Math.round(h*(.97+Math.random()*.02))}}),l.push({date:"Today",price:c,change:l.length>0?l[l.length-1].price-c:void 0})}const N={owners:F,accidents:D,serviceRecords:U,lastServiceDate:t?void 0:new Date(Date.now()-Math.random()*180*24*60*60*1e3).toLocaleDateString("en-US",{month:"short",year:"numeric"}),titleStatus:D>1?"Rebuilt":"Clean",daysOnMarket:m,priceHistory:l,carfaxScore:t?void 0:Math.floor(Math.random()*30)+70,personalUse:Math.random()>.2,fleetUse:Math.random()>.9,rentalUse:Math.random()>.92},X=Math.random()>.5?"305":"786",p=Math.floor(Math.random()*900)+100,x=Math.floor(Math.random()*9e3)+1e3,H=`${X}-${p}-${x}`,K=Math.floor(Math.random()*9e3)+1e3,P=["Biscayne Blvd","Coral Way","Flagler St","SW 8th St","Collins Ave","Bird Rd","Kendall Dr"],G=`${K} ${P[Math.floor(Math.random()*P.length)]}, Miami, FL`;e.push({id:`listing-${o++}`,year:parseInt(a.year),make:a.make,model:a.model,trim:`${A} ${a.drivetrain||"FWD"}`,price:c,originalPrice:L,mileage:S,image:a.image,slug:a.slug,bodyStyle:a.bodyStyle,features:a.features?.slice(0,3)||["Bluetooth","Backup Camera","Keyless Entry"],dealerName:v,dealerPhone:H,dealerAddress:G,dealerRating:Math.round((Math.random()*1.5+3.5)*10)/10,history:t?void 0:N,distance:w,isNew:t,isCertified:u,priceReduced:d})}}),e};let g=null;const y=()=>(g||(g=W()),g),q=e=>{let o=[...y()];if(e.maxPrice&&(o=o.filter(n=>n.price<=e.maxPrice)),e.make&&e.model){const n=o.filter(t=>t.make===e.make&&t.model===e.model),r=o.filter(t=>t.make===e.make&&t.model!==e.model),i=o.filter(t=>t.make===e.make||!e.bodyStyle?!1:M.find(d=>d.slug===t.slug)?.bodyStyle===e.bodyStyle),s=o.filter(t=>t.make===e.make?!1:e.bodyStyle?M.find(d=>d.slug===t.slug)?.bodyStyle!==e.bodyStyle:!0);o=[...n,...r,...i,...s]}else if(e.make){const n=o.filter(i=>i.make===e.make),r=o.filter(i=>i.make!==e.make);o=[...n,...r]}else if(e.bodyStyle){const n=M.filter(t=>t.bodyStyle===e.bodyStyle),r=new Set(n.map(t=>t.slug)),i=o.filter(t=>r.has(t.slug)),s=o.filter(t=>!r.has(t.slug));o=[...i,...s]}const a=n=>[...n].sort((r,i)=>r.distance-i.distance);if(e.make&&e.model){const n=a(o.filter(s=>s.make===e.make&&s.model===e.model)),r=a(o.filter(s=>s.make===e.make&&s.model!==e.model)),i=a(o.filter(s=>s.make!==e.make));o=[...n,...r,...i]}else o.sort((n,r)=>n.distance-r.distance);return o.slice(0,10)},Y=()=>y(),j=()=>{const e=y();return[...new Set(e.map(o=>o.make))].sort()};export{q as a,j as b,Y as g};
