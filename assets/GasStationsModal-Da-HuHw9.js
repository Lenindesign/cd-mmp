import{r as e,j as s}from"./iframe-BwRx_0QZ.js";import"./index.modern-D43FVlWq.js";import{Z as f}from"./zap-BV71YxP0.js";import{F as h}from"./fuel-CKoP4qv4.js";import{X as _}from"./x-DVaONjQD.js";import{L as x}from"./loader-circle-Z1iN3Twp.js";import{M as j}from"./map-pin-8-5UlPV9.js";import{E as v}from"./external-link-BqOjpEK6.js";const y=({isOpen:o,onClose:n,vehicleName:d,isElectric:t=!1})=>{const[S,r]=e.useState(null),[c,i]=e.useState(!0),[b,l]=e.useState(null),[L,u]=e.useState([]),[N,w]=e.useState(null),[G,m]=e.useState(!0),[k,E]=e.useState(null),g=t?"Charging Stations":"Gas Stations";return e.useEffect(()=>{o&&(i(!0),l(null),"geolocation"in navigator?navigator.geolocation.getCurrentPosition(a=>{r({lat:a.coords.latitude,lng:a.coords.longitude}),i(!1)},a=>{console.error("Geolocation error:",a),r({lat:34.0522,lng:-118.2437}),l("Unable to get your location. Showing results for Los Angeles."),i(!1)},{timeout:1e4,enableHighAccuracy:!0}):(r({lat:34.0522,lng:-118.2437}),l("Geolocation not supported. Showing results for Los Angeles."),i(!1)))},[o]),e.useEffect(()=>{const a=p=>{p.key==="Escape"&&n()};return o&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow=""}},[o,n]),e.useCallback(a=>{u(a),m(!1)},[]),o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"gas-stations-modal__backdrop",onClick:n,"aria-hidden":"true"}),s.jsxs("div",{className:"gas-stations-modal",role:"dialog","aria-modal":"true","aria-labelledby":"gas-stations-modal-title",children:[s.jsxs("div",{className:"gas-stations-modal__header",children:[s.jsxs("div",{className:"gas-stations-modal__header-content",children:[t?s.jsx(f,{size:24}):s.jsx(h,{size:24}),s.jsxs("div",{children:[s.jsxs("h2",{id:"gas-stations-modal-title",className:"gas-stations-modal__title",children:[g," Near You"]}),d&&s.jsxs("p",{className:"gas-stations-modal__subtitle",children:["Find ",t?"charging":"fuel"," for your ",d]})]})]}),s.jsx("button",{className:"gas-stations-modal__close",onClick:n,"aria-label":"Close modal",children:s.jsx(_,{size:24})})]}),s.jsx("div",{className:"gas-stations-modal__content",children:c?s.jsxs("div",{className:"gas-stations-modal__loading",children:[s.jsx(x,{size:32,className:"gas-stations-modal__spinner"}),s.jsx("p",{children:"Getting your location..."})]}):s.jsxs("div",{className:"gas-stations-modal__error",children:[s.jsx(j,{size:48}),s.jsx("p",{children:"Map not available"}),s.jsxs("a",{href:t?"https://www.plugshare.com":"https://www.gasbuddy.com",target:"_blank",rel:"noopener noreferrer",className:"gas-stations-modal__fallback-link",children:[t?"Find chargers on PlugShare":"Find gas prices on GasBuddy",s.jsx(v,{size:16})]})]})}),s.jsx("div",{className:"gas-stations-modal__footer",children:s.jsx("p",{className:"gas-stations-modal__disclaimer",children:t?"Charging station locations provided by Google Maps. For real-time availability, visit PlugShare.":"Gas station locations provided by Google Maps. For real-time prices, visit GasBuddy."})})]})]}):null};y.__docgenInfo={description:"",methods:[],displayName:"GasStationsModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},vehicleName:{required:!1,tsType:{name:"string"},description:""},isElectric:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{y as G};
