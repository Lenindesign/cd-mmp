import{r as g,j as e}from"./iframe--VFCZUcI.js";import{X as re}from"./x-DFZ9uvXk.js";import{C as te}from"./chevron-left-CNz8I0G8.js";import{C as ne}from"./chevron-right-aPbxIwN1.js";import{Y as D}from"./youtube-CaquzJJz.js";import{E as k}from"./external-link-Cdx6lUfb.js";import{S as O}from"./star-BP7t5tAW.js";import{I as le}from"./info-cCYJkijF.js";import{T as ie}from"./triangle-alert-BvbE8v_g.js";import{C as T}from"./circle-check-big-B3LtvI5W.js";import{L as F}from"./loader-circle-lv5-2GOm.js";import{C as M}from"./chevron-up-vsL1yprE.js";import{C as P}from"./chevron-down-CcFDwdLm.js";import{c as B}from"./createLucideIcon-v1gFwtaC.js";import{C as ce}from"./car-6C2spSjQ.js";import{U as oe}from"./users-Cb52PxI2.js";import{S as W}from"./shield-check-DMOMABwh.js";import{C as de}from"./camera-x-TY1MP6.js";import{F as me}from"./file-text-C7pA6Agd.js";import{W as he}from"./wrench-CsPQQtw8.js";import{S as _e}from"./shield-B90ytpDp.js";import{C as ye}from"./calendar-Dxq2hHlC.js";import{M as pe}from"./minus-C1BkVYHi.js";import{T as ue}from"./trending-up-njbP1GNG.js";import{T as ge}from"./trending-down-mrpV9qDP.js";const ve=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],fe=B("flame",ve);const xe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 15h.01",key:"q59x07"}],["path",{d:"M12 7v4",key:"xawao1"}]],je=B("message-square-warning",xe),q={Sedan:{avgComplaints:25,avgRecalls:3},SUV:{avgComplaints:45,avgRecalls:5},Truck:{avgComplaints:55,avgRecalls:6},Coupe:{avgComplaints:20,avgRecalls:3},Hatchback:{avgComplaints:20,avgRecalls:3},Convertible:{avgComplaints:15,avgRecalls:2},Wagon:{avgComplaints:20,avgRecalls:3},Van:{avgComplaints:40,avgRecalls:5},default:{avgComplaints:35,avgRecalls:4}},we=["BMW","Mercedes-Benz","Audi","Lexus","Porsche","Land Rover","Jaguar","Maserati","Bentley","Rolls-Royce","Genesis","Infiniti","Acura","Volvo","Lincoln","Cadillac"];function Ne(l,i,s,n){const m=we.includes(n),y=q[s]||q.default,c=m?y.avgComplaints*1.5:y.avgComplaints,p=m?y.avgRecalls*1.2:y.avgRecalls,r=l/c,h=i/p,t=Math.min(Math.round(r*50),100),A=Math.min(Math.round(h*50),100),_=N=>N<=.3?"excellent":N<=.7?"good":N<=1.3?"average":N<=2?"below-average":"poor",I=N=>N<=.5?"excellent":N<=.8?"good":N<=1.5?"average":N<=2.5?"below-average":"poor",j=_(r),S=I(h),x=r<.8?"below":r>1.2?"above":"average",v=h<.8?"below":h>1.2?"above":"average",o={excellent:5,good:4,average:3,"below-average":2,poor:1},u=o[j]*.6+o[S]*.4;let f;u>=4.5?f="excellent":u>=3.5?f="good":u>=2.5?f="average":u>=1.5?f="below-average":f="poor";const b=m?`luxury ${s.toLowerCase()}s`:`${s.toLowerCase()}s`;let w="";return f==="excellent"||f==="good"?l===0&&i===0?w="Outstanding reliability record with no reported issues.":x==="below"&&v==="below"?w=`Fewer complaints and recalls than average for ${b}.`:x==="below"?w=`Fewer owner complaints than typical for ${b}.`:w="Reliability is better than average for this segment.":f==="average"?w=`Reliability is typical for ${b} of this model year.`:x==="above"&&v==="above"?w="More complaints and recalls than average. Review issues before buying.":x==="above"?w="Higher than average complaint rate. Check common issues carefully.":w="More recalls than typical. Verify all recalls have been addressed.",{complaintsRating:j,recallsRating:S,complaintsPercentile:t,recallsPercentile:A,segmentAvgComplaints:Math.round(c),segmentAvgRecalls:Math.round(p),complaintsVsAverage:x,recallsVsAverage:v,overallRating:f,summary:w}}const z="https://api.nhtsa.gov";async function Ce(l,i,s){try{const n=typeof s=="string"?parseInt(s,10):s;if(isNaN(n))return[];const m=new Date().getFullYear();if(n>m)return[];const y=`${z}/recalls/recallsByVehicle?make=${encodeURIComponent(l)}&model=${encodeURIComponent(i)}&modelYear=${s}`,c=await fetch(y);if(c.status===400)return[];if(!c.ok)throw new Error(`NHTSA API error: ${c.status}`);const p=await c.json();return p.results||p.Results||[]}catch(n){return n instanceof Error&&!n.message.includes("400")&&console.error("Error fetching NHTSA recalls:",n),[]}}async function be(l,i,s){try{const n=typeof s=="string"?parseInt(s,10):s;if(isNaN(n))return null;const m=new Date().getFullYear();if(n>m)return null;const y=`${z}/SafetyRatings/modelyear/${s}/make/${encodeURIComponent(l)}/model/${encodeURIComponent(i)}?format=json`,c=await fetch(y);if(c.status===400)return null;if(!c.ok)throw new Error(`NHTSA API error: ${c.status}`);const p=await c.json();return p.Results&&p.Results.length>0?p.Results[0].VehicleId:null}catch(n){return console.error("Error fetching NHTSA vehicle ID:",n),null}}async function Re(l){try{const i=`${z}/SafetyRatings/VehicleId/${l}?format=json`,s=await fetch(i);if(!s.ok)throw new Error(`NHTSA API error: ${s.status}`);const n=await s.json();return n.Results&&n.Results.length>0?n.Results[0]:null}catch(i){return console.error("Error fetching NHTSA safety ratings:",i),null}}async function Se(l,i,s){const n=await be(l,i,s);return n?Re(n):null}function Ae(l){if(!l)return"Unknown date";try{return new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return l}}function Te(l){const i=l.toLowerCase();return i.includes("crash")||i.includes("fire")||i.includes("injury")||i.includes("death")||i.includes("serious")?"high":i.includes("stall")||i.includes("loss of")||i.includes("fail")?"medium":"low"}function $(l){if(!l||l==="Not Rated")return null;const i=l.match(/(\d)/);return i?parseInt(i[1],10):null}async function $e(l,i,s){try{const n=typeof s=="string"?parseInt(s,10):s;if(isNaN(n))return[];const m=new Date().getFullYear();if(n>m)return[];const y=`${z}/complaints/complaintsByVehicle?make=${encodeURIComponent(l)}&model=${encodeURIComponent(i)}&modelYear=${s}`,c=await fetch(y);if(c.status===400)return[];if(!c.ok)throw new Error(`NHTSA API error: ${c.status}`);const p=await c.json();return p.results||p.Results||[]}catch(n){return console.error("Error fetching NHTSA complaints:",n),[]}}function Ie(l){const i=l.filter(r=>r.crash).length,s=l.filter(r=>r.fire).length,n=l.reduce((r,h)=>r+(h.numberOfInjuries||0),0),m=l.reduce((r,h)=>r+(h.numberOfDeaths||0),0),y={};l.forEach(r=>{r.components&&r.components.split(",").map(t=>t.trim()).forEach(t=>{t&&(y[t]=(y[t]||0)+1)})});const c=Object.entries(y).sort((r,h)=>h[1]-r[1]).slice(0,5).map(([r,h])=>({component:r,count:h})),p=[...l].sort((r,h)=>{const t=new Date(r.dateComplaintFiled||"");return new Date(h.dateComplaintFiled||"").getTime()-t.getTime()}).slice(0,3);return{totalComplaints:l.length,crashCount:i,fireCount:s,injuryCount:n,deathCount:m,topComponents:c,recentComplaints:p}}function ke(l){if(!l)return"Unknown date";try{const i=l.split("/");if(i.length===3){const[s,n,m]=i;return new Date(parseInt(m),parseInt(n)-1,parseInt(s)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}return l}catch{return l}}const Y=({isOpen:l,onClose:i,safetyRatings:s,vehicleName:n})=>{const m=g.useRef(null),[y,c]=g.useState(0),[p,r]=g.useState({}),h=[{id:"front",label:"Frontal Crash Test",imageUrl:s.FrontCrashPicture,videoUrl:s.FrontCrashVideo,rating:s.OverallFrontCrashRating,description:"Simulates a head-on collision between two vehicles of similar weight, each traveling at 35 mph."},{id:"side",label:"Side Crash Test",imageUrl:s.SideCrashPicture,videoUrl:s.SideCrashVideo,rating:s.OverallSideCrashRating,description:"A 3,015-pound barrier moving at 38.5 mph strikes the driver side of the vehicle."},{id:"pole",label:"Side Pole Crash Test",imageUrl:s.SidePolePicture,videoUrl:s.SidePoleVideo,rating:s.SidePoleCrashRating,description:"The vehicle slides sideways at 20 mph into a rigid pole, simulating a tree or utility pole impact."}].filter(o=>o.imageUrl),t=`NHTSA ${s.ModelYear} ${s.Make} ${s.Model} crash test`,A=`https://www.youtube.com/results?search_query=${encodeURIComponent(t)}`;g.useEffect(()=>{const o=u=>{u.key==="Escape"&&i(),u.key==="ArrowLeft"&&I(),u.key==="ArrowRight"&&j()};return l&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow=""}},[l,i,y]);const _=o=>{o.target===o.currentTarget&&i()},I=()=>{c(o=>o>0?o-1:h.length-1)},j=()=>{c(o=>o<h.length-1?o+1:0)},S=o=>{r(u=>({...u,[o]:!0}))},x=(o,u=20)=>{const f=$(o||"");return f===null?e.jsx("span",{className:"crash-test-modal__not-rated",children:"Not Rated"}):e.jsx("div",{className:"crash-test-modal__stars",children:[1,2,3,4,5].map(b=>e.jsx(O,{size:u,className:b<=f?"crash-test-modal__star--filled":"crash-test-modal__star--empty",fill:b<=f?"currentColor":"none"},b))})};if(!l||h.length===0)return null;const v=h[y];return e.jsx("div",{className:"crash-test-modal",onClick:_,children:e.jsxs("div",{className:"crash-test-modal__content",ref:m,children:[e.jsxs("header",{className:"crash-test-modal__header",children:[e.jsxs("div",{className:"crash-test-modal__header-content",children:[e.jsx("h2",{className:"crash-test-modal__title",children:"Crash Test Results"}),e.jsx("p",{className:"crash-test-modal__subtitle",children:n})]}),e.jsx("button",{className:"crash-test-modal__close",onClick:i,"aria-label":"Close modal",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"crash-test-modal__body",children:[e.jsxs("div",{className:"crash-test-modal__gallery",children:[h.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"crash-test-modal__nav crash-test-modal__nav--prev",onClick:I,"aria-label":"Previous image",children:e.jsx(te,{size:28})}),e.jsx("button",{className:"crash-test-modal__nav crash-test-modal__nav--next",onClick:j,"aria-label":"Next image",children:e.jsx(ne,{size:28})})]}),e.jsx("div",{className:"crash-test-modal__image-container",children:!p[v.id]&&v.imageUrl?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:v.imageUrl,alt:`${n} ${v.label}`,className:"crash-test-modal__image",onError:()=>S(v.id)}),e.jsxs("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"crash-test-modal__play-btn",children:[e.jsx(D,{size:28}),e.jsx("span",{children:"Watch Video"})]})]}):e.jsx("div",{className:"crash-test-modal__image-placeholder",children:e.jsx("span",{children:"Image not available"})})}),e.jsxs("div",{className:"crash-test-modal__image-info",children:[e.jsxs("div",{className:"crash-test-modal__image-header",children:[e.jsx("h3",{className:"crash-test-modal__image-label",children:v.label}),e.jsx("div",{className:"crash-test-modal__image-rating",children:x(v.rating)})]}),e.jsx("p",{className:"crash-test-modal__image-description",children:v.description})]})]}),h.length>1&&e.jsx("div",{className:"crash-test-modal__thumbnails",children:h.map((o,u)=>e.jsxs("button",{className:`crash-test-modal__thumbnail ${u===y?"crash-test-modal__thumbnail--active":""}`,onClick:()=>c(u),"aria-label":`View ${o.label}`,children:[!p[o.id]&&o.imageUrl?e.jsx("img",{src:o.imageUrl,alt:o.label,onError:()=>S(o.id)}):e.jsx("div",{className:"crash-test-modal__thumbnail-placeholder"}),e.jsx("span",{className:"crash-test-modal__thumbnail-label",children:o.label.replace(" Test","")})]},o.id))})]}),e.jsxs("footer",{className:"crash-test-modal__footer",children:[e.jsx("p",{className:"crash-test-modal__disclaimer",children:"Images and ratings provided by NHTSA. Videos from YouTube."}),e.jsxs("div",{className:"crash-test-modal__footer-links",children:[e.jsxs("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"crash-test-modal__youtube-link",children:[e.jsx(D,{size:16}),"More Videos on YouTube"]}),e.jsxs("a",{href:"https://www.nhtsa.gov/ratings",target:"_blank",rel:"noopener noreferrer",className:"crash-test-modal__nhtsa-link",children:["NHTSA.gov",e.jsx(k,{size:14})]})]})]})]})})};Y.__docgenInfo={description:"",methods:[],displayName:"CrashTestModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},safetyRatings:{required:!0,tsType:{name:"NHTSASafetyRating"},description:""},vehicleName:{required:!0,tsType:{name:"string"},description:""}}};const ze=({items:l,title:i="Warranty & Safety",make:s,model:n,year:m,bodyStyle:y="SUV"})=>{const[c,p]=g.useState([]),[r,h]=g.useState(null),[t,A]=g.useState(null),[_,I]=g.useState(null),[j,S]=g.useState(!1),[x,v]=g.useState(!1),[o,u]=g.useState(!1),[f,b]=g.useState(null),[w,N]=g.useState(null),[E,G]=g.useState(!1),[X,U]=g.useState(!1);g.useEffect(()=>{s&&n&&m&&(S(!0),Ce(s,n,m).then(a=>{p(a)}).finally(()=>{S(!1)}),v(!0),$e(s,n,m).then(a=>{const d=Ie(a);h(d)}).finally(()=>{v(!1)}),u(!0),Se(s,n,m).then(a=>{A(a)}).finally(()=>{u(!1)}))},[s,n,m]),g.useEffect(()=>{if(!j&&!x&&s){const a=r?.totalComplaints||0,d=c.length,C=Ne(a,d,y,s);I(C)}},[j,x,r,c,y,s]);const J=a=>{b(d=>d===a?null:a)},K=a=>{N(d=>d===a?null:a)},Q=E?c:c.slice(0,3),H=c.length>0,Z=j||x||o,R=(a,d=18)=>{const C=$(a||"");return C===null?e.jsx("span",{className:"warranty__safety-not-rated",children:"Not Rated"}):e.jsx("div",{className:"warranty__safety-stars",children:[1,2,3,4,5].map(V=>e.jsx(O,{size:d,className:V<=C?"warranty__safety-star--filled":"warranty__safety-star--empty",fill:V<=C?"currentColor":"none"},V))})},ee=a=>{const d=$(a||"");return d===null?"Not Tested":d===5?"Excellent":d===4?"Good":d===3?"Acceptable":d===2?"Marginal":"Poor"},ae=t&&(t.FrontCrashPicture||t.SideCrashPicture||t.SidePolePicture),se=a=>{switch(a){case"excellent":return"warranty__rating--excellent";case"good":return"warranty__rating--good";case"average":return"warranty__rating--average";case"below-average":return"warranty__rating--below-average";case"poor":return"warranty__rating--poor";default:return""}},L=a=>{switch(a){case"below":return e.jsx(ge,{size:14});case"above":return e.jsx(ue,{size:14});default:return e.jsx(pe,{size:14})}};return e.jsxs("section",{className:"warranty",children:[e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"warranty__header",children:e.jsx("h2",{className:"warranty__title",children:i})}),s&&n&&m&&e.jsxs("div",{className:"warranty__nhtsa",children:[_&&!Z&&e.jsxs("div",{className:"warranty__reliability",children:[e.jsxs("div",{className:"warranty__reliability-header",children:[e.jsxs("div",{className:"warranty__reliability-score",children:[e.jsx("span",{className:"warranty__reliability-label",children:"NHTSA Reliability"}),e.jsx("span",{className:`warranty__reliability-rating ${se(_.overallRating)}`,children:_.overallRating.replace("-"," ").replace(/\b\w/g,a=>a.toUpperCase())})]}),e.jsxs("div",{className:"warranty__reliability-info",children:[e.jsx(le,{size:16}),e.jsx("span",{children:"Based on owner complaints and recalls vs. segment average"})]})]}),e.jsx("p",{className:"warranty__reliability-summary",children:_.summary})]}),e.jsxs("div",{className:"warranty__nhtsa-grid",children:[e.jsxs("div",{className:"warranty__recalls",children:[e.jsxs("div",{className:"warranty__recalls-header",children:[e.jsxs("h3",{className:"warranty__recalls-title",children:[e.jsx(ie,{size:20}),"Recalls"]}),!j&&e.jsx("div",{className:`warranty__recalls-badge ${H?"warranty__recalls-badge--warning":"warranty__recalls-badge--success"}`,children:H?e.jsxs(e.Fragment,{children:[c.length," Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{size:12}),"None"]})})]}),_&&!j&&e.jsxs("div",{className:"warranty__metric-inline",children:[e.jsx("div",{className:"warranty__metric-inline-header",children:e.jsxs("span",{className:`warranty__reliability-comparison warranty__reliability-comparison--${_.recallsVsAverage}`,children:[L(_.recallsVsAverage),_.recallsVsAverage==="below"?"Below Avg":_.recallsVsAverage==="above"?"Above Avg":"Average"]})}),e.jsxs("div",{className:"warranty__reliability-bar",children:[e.jsx("div",{className:`warranty__reliability-bar-fill warranty__reliability-bar-fill--${_.recallsRating}`,style:{width:`${Math.min(_.recallsPercentile,100)}%`}}),e.jsx("div",{className:"warranty__reliability-bar-marker",style:{left:"50%"},title:"Segment Average"})]}),e.jsxs("div",{className:"warranty__reliability-metric-footer",children:[e.jsxs("span",{children:[c.length," issued"]}),e.jsxs("span",{className:"warranty__reliability-avg",children:["Avg: ",_.segmentAvgRecalls]})]})]}),j?e.jsxs("div",{className:"warranty__recalls-loading",children:[e.jsx(F,{size:24,className:"warranty__recalls-spinner"}),e.jsx("span",{children:"Checking recalls..."})]}):H?e.jsxs("div",{className:"warranty__recalls-list",children:[Q.map(a=>{const d=f===a.NHTSACampaignNumber,C=Te(a.Consequence);return e.jsxs("div",{className:`warranty__recall-item warranty__recall-item--${C}`,children:[e.jsxs("button",{className:"warranty__recall-header",onClick:()=>J(a.NHTSACampaignNumber),"aria-expanded":d,children:[e.jsxs("div",{className:"warranty__recall-info",children:[e.jsx("span",{className:`warranty__recall-severity warranty__recall-severity--${C}`,children:C==="high"?"Critical":C==="medium"?"Important":"Notice"}),e.jsx("span",{className:"warranty__recall-component",children:a.Component}),e.jsx("span",{className:"warranty__recall-date",children:Ae(a.ReportReceivedDate)})]}),e.jsx("div",{className:"warranty__recall-toggle",children:d?e.jsx(M,{size:20}):e.jsx(P,{size:20})})]}),d&&e.jsxs("div",{className:"warranty__recall-details",children:[e.jsxs("div",{className:"warranty__recall-section",children:[e.jsx("h4",{children:"Summary"}),e.jsx("p",{children:a.Summary})]}),e.jsxs("div",{className:"warranty__recall-section",children:[e.jsx("h4",{children:"Consequence"}),e.jsx("p",{children:a.Consequence})]}),e.jsxs("div",{className:"warranty__recall-section",children:[e.jsx("h4",{children:"Remedy"}),e.jsx("p",{children:a.Remedy})]}),a.Notes&&e.jsxs("div",{className:"warranty__recall-section",children:[e.jsx("h4",{children:"Additional Notes"}),e.jsx("p",{children:a.Notes})]}),e.jsxs("div",{className:"warranty__recall-footer",children:[e.jsxs("span",{className:"warranty__recall-campaign",children:["#",a.NHTSACampaignNumber]}),e.jsxs("a",{href:`https://www.nhtsa.gov/recalls?nhtsaId=${a.NHTSACampaignNumber}`,target:"_blank",rel:"noopener noreferrer",className:"warranty__recall-link",children:["NHTSA.gov",e.jsx(k,{size:14})]})]})]})]},a.NHTSACampaignNumber)}),c.length>3&&e.jsx("button",{className:"warranty__recalls-toggle",onClick:()=>G(!E),children:E?e.jsxs(e.Fragment,{children:["Show Less ",e.jsx(M,{size:16})]}):e.jsxs(e.Fragment,{children:["Show All ",c.length," ",e.jsx(P,{size:16})]})})]}):e.jsxs("div",{className:"warranty__recalls-empty",children:[e.jsx(T,{size:28,className:"warranty__recalls-empty-icon"}),e.jsx("p",{children:"No open recalls"})]})]}),e.jsxs("div",{className:"warranty__complaints",children:[e.jsxs("div",{className:"warranty__complaints-header",children:[e.jsxs("h3",{className:"warranty__complaints-title",children:[e.jsx(je,{size:20}),"Owner Complaints"]}),!x&&r&&e.jsx("div",{className:`warranty__complaints-badge ${r.totalComplaints>50?"warranty__complaints-badge--warning":r.totalComplaints>0?"warranty__complaints-badge--caution":"warranty__complaints-badge--success"}`,children:r.totalComplaints>0?e.jsxs(e.Fragment,{children:[r.totalComplaints," Reports"]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{size:12}),"None"]})})]}),_&&!x&&e.jsxs("div",{className:"warranty__metric-inline",children:[e.jsx("div",{className:"warranty__metric-inline-header",children:e.jsxs("span",{className:`warranty__reliability-comparison warranty__reliability-comparison--${_.complaintsVsAverage}`,children:[L(_.complaintsVsAverage),_.complaintsVsAverage==="below"?"Below Avg":_.complaintsVsAverage==="above"?"Above Avg":"Average"]})}),e.jsxs("div",{className:"warranty__reliability-bar",children:[e.jsx("div",{className:`warranty__reliability-bar-fill warranty__reliability-bar-fill--${_.complaintsRating}`,style:{width:`${Math.min(_.complaintsPercentile,100)}%`}}),e.jsx("div",{className:"warranty__reliability-bar-marker",style:{left:"50%"},title:"Segment Average"})]}),e.jsxs("div",{className:"warranty__reliability-metric-footer",children:[e.jsxs("span",{children:[r?.totalComplaints||0," reported"]}),e.jsxs("span",{className:"warranty__reliability-avg",children:["Avg: ",_.segmentAvgComplaints]})]})]}),x?e.jsxs("div",{className:"warranty__complaints-loading",children:[e.jsx(F,{size:24,className:"warranty__complaints-spinner"}),e.jsx("span",{children:"Loading complaints..."})]}):r&&r.totalComplaints>0?e.jsxs("div",{className:"warranty__complaints-content",children:[(r.crashCount>0||r.fireCount>0||r.injuryCount>0)&&e.jsxs("div",{className:"warranty__complaints-stats",children:[r.crashCount>0&&e.jsxs("div",{className:"warranty__complaints-stat warranty__complaints-stat--crash",children:[e.jsx(ce,{size:16}),e.jsxs("span",{children:[r.crashCount," Crash",r.crashCount!==1?"es":""]})]}),r.fireCount>0&&e.jsxs("div",{className:"warranty__complaints-stat warranty__complaints-stat--fire",children:[e.jsx(fe,{size:16}),e.jsxs("span",{children:[r.fireCount," Fire",r.fireCount!==1?"s":""]})]}),r.injuryCount>0&&e.jsxs("div",{className:"warranty__complaints-stat warranty__complaints-stat--injury",children:[e.jsx(oe,{size:16}),e.jsxs("span",{children:[r.injuryCount," Injur",r.injuryCount!==1?"ies":"y"]})]})]}),r.topComponents.length>0&&e.jsxs("div",{className:"warranty__complaints-components",children:[e.jsx("h4",{children:"Most Reported Issues"}),e.jsx("div",{className:"warranty__complaints-component-list",children:r.topComponents.map((a,d)=>e.jsxs("div",{className:"warranty__complaints-component",children:[e.jsx("span",{className:"warranty__complaints-component-name",children:a.component}),e.jsx("span",{className:"warranty__complaints-component-count",children:a.count})]},d))})]}),r.recentComplaints.length>0&&e.jsxs("div",{className:"warranty__complaints-recent",children:[e.jsx("h4",{children:"Recent Reports"}),r.recentComplaints.map(a=>{const d=w===a.odiNumber;return e.jsxs("div",{className:"warranty__complaint-item",children:[e.jsxs("button",{className:"warranty__complaint-header",onClick:()=>K(a.odiNumber),"aria-expanded":d,children:[e.jsxs("div",{className:"warranty__complaint-info",children:[e.jsx("span",{className:"warranty__complaint-component",children:a.components}),e.jsx("span",{className:"warranty__complaint-date",children:ke(a.dateComplaintFiled)}),(a.crash||a.fire)&&e.jsxs("div",{className:"warranty__complaint-flags",children:[a.crash&&e.jsx("span",{className:"warranty__complaint-flag warranty__complaint-flag--crash",children:"Crash"}),a.fire&&e.jsx("span",{className:"warranty__complaint-flag warranty__complaint-flag--fire",children:"Fire"})]})]}),e.jsx("div",{className:"warranty__complaint-toggle",children:d?e.jsx(M,{size:18}):e.jsx(P,{size:18})})]}),d&&e.jsxs("div",{className:"warranty__complaint-details",children:[e.jsx("p",{children:a.summary}),e.jsxs("div",{className:"warranty__complaint-footer",children:[e.jsxs("span",{className:"warranty__complaint-id",children:["ODI #",a.odiNumber]}),e.jsxs("a",{href:`https://www.nhtsa.gov/vehicle/${m}/${s}/${n}/complaints`,target:"_blank",rel:"noopener noreferrer",className:"warranty__complaint-link",children:["View All on NHTSA",e.jsx(k,{size:14})]})]})]})]},a.odiNumber)})]})]}):e.jsxs("div",{className:"warranty__complaints-empty",children:[e.jsx(T,{size:28,className:"warranty__complaints-empty-icon"}),e.jsx("p",{children:"No complaints filed"})]})]}),e.jsxs("div",{className:"warranty__safety",children:[e.jsxs("div",{className:"warranty__safety-header",children:[e.jsxs("h3",{className:"warranty__safety-title",children:[e.jsx(W,{size:20}),"Crash Test Ratings"]}),!o&&t&&e.jsxs("div",{className:`warranty__safety-badge warranty__safety-badge--${$(t.OverallRating)===5?"excellent":$(t.OverallRating)===4?"good":"average"}`,children:[$(t.OverallRating)||"—"," ★"]})]}),o?e.jsxs("div",{className:"warranty__safety-loading",children:[e.jsx(F,{size:24,className:"warranty__safety-spinner"}),e.jsx("span",{children:"Loading ratings..."})]}):t?e.jsxs("div",{className:"warranty__safety-content",children:[e.jsxs("div",{className:"warranty__safety-overall",children:[e.jsx("div",{className:"warranty__safety-overall-label",children:"Overall Rating"}),e.jsxs("div",{className:"warranty__safety-overall-rating",children:[R(t.OverallRating,24),e.jsx("span",{className:"warranty__safety-overall-text",children:ee(t.OverallRating)})]})]}),e.jsxs("div",{className:"warranty__safety-details",children:[e.jsxs("div",{className:"warranty__safety-category",children:[e.jsxs("div",{className:"warranty__safety-category-header",children:[e.jsx("span",{className:"warranty__safety-category-name",children:"Frontal Crash"}),R(t.OverallFrontCrashRating,14)]}),e.jsxs("div",{className:"warranty__safety-subcategories",children:[e.jsxs("div",{className:"warranty__safety-subcategory",children:[e.jsx("span",{children:"Driver"}),R(t.FrontCrashDriversideRating,12)]}),e.jsxs("div",{className:"warranty__safety-subcategory",children:[e.jsx("span",{children:"Passenger"}),R(t.FrontCrashPassengersideRating,12)]})]})]}),e.jsxs("div",{className:"warranty__safety-category",children:[e.jsxs("div",{className:"warranty__safety-category-header",children:[e.jsx("span",{className:"warranty__safety-category-name",children:"Side Crash"}),R(t.OverallSideCrashRating,14)]}),e.jsxs("div",{className:"warranty__safety-subcategories",children:[e.jsxs("div",{className:"warranty__safety-subcategory",children:[e.jsx("span",{children:"Driver"}),R(t.SideCrashDriversideRating,12)]}),e.jsxs("div",{className:"warranty__safety-subcategory",children:[e.jsx("span",{children:"Passenger"}),R(t.SideCrashPassengersideRating,12)]}),t.SidePoleCrashRating&&$(t.SidePoleCrashRating)!==null&&e.jsxs("div",{className:"warranty__safety-subcategory",children:[e.jsx("span",{children:"Pole"}),R(t.SidePoleCrashRating,12)]})]})]}),e.jsxs("div",{className:"warranty__safety-category",children:[e.jsxs("div",{className:"warranty__safety-category-header",children:[e.jsx("span",{className:"warranty__safety-category-name",children:"Rollover"}),R(t.RolloverRating,14)]}),t.RolloverPossibility&&e.jsxs("div",{className:"warranty__safety-rollover-info",children:[e.jsxs("span",{className:"warranty__safety-rollover-percent",children:[t.RolloverPossibility.toFixed(1),"%"]}),e.jsx("span",{className:"warranty__safety-rollover-label",children:"rollover risk"})]})]})]}),(t.NHTSAElectronicStabilityControl||t.NHTSAForwardCollisionWarning||t.NHTSALaneDepartureWarning)&&e.jsxs("div",{className:"warranty__safety-features",children:[e.jsx("h4",{children:"Safety Technology"}),e.jsxs("div",{className:"warranty__safety-features-list",children:[t.NHTSAElectronicStabilityControl&&t.NHTSAElectronicStabilityControl!=="Not Rated"&&e.jsxs("div",{className:"warranty__safety-feature",children:[e.jsx(T,{size:14}),e.jsx("span",{children:"Electronic Stability Control"})]}),t.NHTSAForwardCollisionWarning&&t.NHTSAForwardCollisionWarning!=="Not Rated"&&e.jsxs("div",{className:"warranty__safety-feature",children:[e.jsx(T,{size:14}),e.jsx("span",{children:"Forward Collision Warning"})]}),t.NHTSALaneDepartureWarning&&t.NHTSALaneDepartureWarning!=="Not Rated"&&e.jsxs("div",{className:"warranty__safety-feature",children:[e.jsx(T,{size:14}),e.jsx("span",{children:"Lane Departure Warning"})]})]})]}),ae&&e.jsxs("button",{className:"warranty__safety-photos-btn",onClick:()=>U(!0),children:[e.jsx(de,{size:16}),"View Crash Test Photos"]})]}):e.jsxs("div",{className:"warranty__safety-empty",children:[e.jsx(W,{size:28,className:"warranty__safety-empty-icon"}),e.jsx("p",{children:"No crash test data available"}),e.jsx("span",{className:"warranty__safety-empty-note",children:"This vehicle may not have been tested yet"})]})]})]}),e.jsxs("p",{className:"warranty__nhtsa-disclaimer",children:["Data provided by the National Highway Traffic Safety Administration (NHTSA).",e.jsxs("a",{href:`https://www.nhtsa.gov/vehicle/${m}/${s}/${n}`,target:"_blank",rel:"noopener noreferrer",children:["Verify on NHTSA.gov ",e.jsx(k,{size:12})]})]})]}),e.jsx("div",{className:"warranty__grid",children:l.map((a,d)=>e.jsxs("div",{className:"warranty__card",children:[e.jsx("div",{className:"warranty__card-icon",children:a.icon}),e.jsx("h3",{className:"warranty__card-title",children:a.title}),e.jsx("div",{className:"warranty__card-coverage",children:a.coverage}),e.jsx("p",{className:"warranty__card-description",children:a.description})]},d))}),e.jsx("div",{className:"warranty__note",children:e.jsx("p",{children:"* See dealer for limited warranty details. Warranty coverage varies by manufacturer."})})]}),t&&e.jsx(Y,{isOpen:X,onClose:()=>U(!1),safetyRatings:t,vehicleName:`${m} ${s} ${n}`})]})},na=[{icon:e.jsx(me,{size:28}),title:"Basic Warranty",coverage:"3 Years / 36,000 Miles",description:"Bumper-to-bumper limited warranty covering most vehicle components."},{icon:e.jsx(he,{size:28}),title:"Powertrain Warranty",coverage:"5 Years / 60,000 Miles",description:"Covers engine, transmission, and drivetrain components."},{icon:e.jsx(_e,{size:28}),title:"Corrosion Warranty",coverage:"6 Years / 100,000 Miles",description:"Protection against rust-through corrosion on body panels."},{icon:e.jsx(ye,{size:28}),title:"Complimentary Maintenance",coverage:"First Visit",description:"Includes first scheduled maintenance service at no additional cost."}];ze.__docgenInfo={description:"",methods:[],displayName:"Warranty",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"WarrantyItem"}],raw:"WarrantyItem[]"},description:""},title:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Warranty & Safety"',computed:!1}},make:{required:!1,tsType:{name:"string"},description:""},model:{required:!1,tsType:{name:"string"},description:""},year:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},bodyStyle:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'SUV'",computed:!1}}}};export{ze as W,na as d};
