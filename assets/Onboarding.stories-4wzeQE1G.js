import{d as y,u as C,r as a,j as e,L as z,A as S,M as _,h as L,i as M}from"./iframe-CCFupnSY.js";import{C as H}from"./car-C53QNlYQ.js";import{H as Y}from"./heart-CnWHdjLm.js";import{c as G}from"./createLucideIcon-CunauoQi.js";import"./index-CR0fvk7o.js";import"./preload-helper-PPVm8Dsz.js";const Q=[["circle",{cx:"9",cy:"9",r:"7",key:"p2h5vp"}],["circle",{cx:"15",cy:"15",r:"7",key:"19ennj"}]],X=G("blend",Q),Z=({step:s})=>{const t={1:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e811a35f00029a6a69/step1.svg",2:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e711a35f00029a6a67/step2.svg",3:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e611a35f00029a6a65/step3.svg",4:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e611a35f00029a6a63/step4.svg"};return e.jsx("div",{className:"step-indicator",children:e.jsx("img",{src:t[s],alt:`Step ${s} of 4`,className:"step-indicator-img"})})},K=({onClick:s,isLoading:t})=>e.jsx("button",{type:"button",className:`step1-location-btn ${t?"step1-location-btn--loading":""}`,onClick:s,title:"Use my current location","aria-label":"Detect my location",children:t?e.jsx("svg",{className:"step1-location-icon step1-location-icon--spinning",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"31.4 31.4"})}):e.jsx("svg",{className:"step1-location-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z",fill:"currentColor"})})}),J=()=>e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{d:"M11.25 13.5L6.75 9L11.25 4.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),ee=()=>e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{d:"M6.75 4.5L11.25 9L6.75 13.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),$=()=>{const s=y(),{user:t,isAuthenticated:h,updateUser:d}=C(),[o,c]=a.useState(""),[m,g]=a.useState(""),[x,l]=a.useState(!1),[r,p]=a.useState(null);a.useEffect(()=>{h||s("/sign-in")},[h,s]),a.useEffect(()=>{t&&(t.name&&c(t.name),t.location&&g(t.location))},[t]);const u=a.useCallback(async(i,j)=>{try{const n=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${i}&lon=${j}&zoom=10&addressdetails=1`,{headers:{"Accept-Language":"en-US,en"}});if(!n.ok)throw new Error("Failed to fetch location");const f=await n.json(),N=f.address,E=N.city||N.town||N.village||N.municipality||N.county,I=N.state;return E&&I?`${E}, ${I}`:E||I||f.display_name?.split(",").slice(0,2).join(",")||"Location found"}catch(n){throw console.error("Reverse geocoding error:",n),new Error("Could not determine city name")}},[]),v=a.useCallback(async()=>{if(!navigator.geolocation){p("Geolocation is not supported by your browser");return}l(!0),p(null),navigator.geolocation.getCurrentPosition(async i=>{try{const{latitude:j,longitude:n}=i.coords,f=await u(j,n);g(f),l(!1)}catch{p("Could not determine your city"),l(!1)}},i=>{switch(l(!1),i.code){case i.PERMISSION_DENIED:p("Location access denied. Please enter manually.");break;case i.POSITION_UNAVAILABLE:p("Location unavailable. Please enter manually.");break;case i.TIMEOUT:p("Location request timed out. Please try again.");break;default:p("Could not detect location. Please enter manually.")}},{enableHighAccuracy:!1,timeout:1e4,maximumAge:3e5})},[u]),w=async()=>{try{await d({name:o||t?.name,location:m||t?.location})}catch(i){console.error("Failed to save user data:",i)}s("/onboarding/step-2")},b=()=>{s("/onboarding/step-2")},k=()=>{s("/sign-in")};return e.jsx("div",{className:"onboarding-step1",children:e.jsxs("div",{className:"step1-container",children:[e.jsx(Z,{step:1}),e.jsxs("header",{className:"step1-header",children:[e.jsx("span",{className:"step1-subtitle",children:"Start Your Engines"}),e.jsx("h1",{className:"step1-title",children:"Let's get to know each other"})]}),e.jsxs("form",{className:"step1-card","aria-label":"Personal information",autoComplete:"on",onSubmit:i=>{i.preventDefault(),w()},children:[e.jsxs("div",{className:"step1-field",children:[e.jsx("label",{htmlFor:"name-input",className:"step1-label",children:"WHAT IS YOUR NAME?"}),e.jsx("div",{className:"step1-input-wrapper",children:e.jsx("input",{id:"name-input",name:"fullname",type:"text",className:"step1-input",placeholder:"Enter your name",value:o,onChange:i=>c(i.target.value),onFocus:i=>i.target.select(),autoComplete:"name"})})]}),e.jsxs("div",{className:"step1-field",children:[e.jsx("label",{htmlFor:"location-input",className:"step1-label",children:"WHERE ARE YOU LOCATED? (OPTIONAL)"}),e.jsxs("div",{className:"step1-input-wrapper step1-input-with-icon",children:[e.jsx("input",{id:"location-input",name:"city",type:"text",className:"step1-input",placeholder:"Enter city or click icon to detect",value:m,onChange:i=>{g(i.target.value),p(null)},onFocus:i=>i.target.select(),autoComplete:"address-level2",disabled:x}),e.jsx(K,{onClick:v,isLoading:x})]}),r&&e.jsx("span",{className:"step1-location-error",children:r})]})]}),e.jsxs("nav",{className:"step1-navigation","aria-label":"Onboarding navigation",children:[e.jsxs("button",{className:"cta cta--md cta--secondary",onClick:k,type:"button",children:[e.jsx(J,{}),"Back"]}),e.jsx("button",{className:"step1-skip",onClick:b,type:"button",children:"Skip this step"}),e.jsxs("button",{className:"cta cta--md cta--primary",onClick:w,type:"button",children:["Next",e.jsx(ee,{})]})]}),e.jsx("div",{className:"step1-logo",children:e.jsx("img",{src:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e911a35f00029a6a6b/logo.svg",alt:"Car and Driver",className:"step1-logo-img"})})]})})};$.__docgenInfo={description:"",methods:[],displayName:"OnboardingStep1"};const se=({step:s})=>{const t={1:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e811a35f00029a6a69/step1.svg",2:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e711a35f00029a6a67/step2.svg",3:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e611a35f00029a6a65/step3.svg",4:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e611a35f00029a6a63/step4.svg"};return e.jsx("div",{className:"step-indicator",children:e.jsx("img",{src:t[s],alt:`Step ${s} of 4`,className:"step-indicator-img"})})},te=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12.5 15L7.5 10L12.5 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),ne=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M7.5 15L12.5 10L7.5 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),ae=[{id:"buyer",title:"Car Buyer",description:"I'm shopping for a new or used car.",icon:e.jsx(H,{size:28,fill:"currentColor",strokeWidth:0})},{id:"enthusiast",title:"Car Enthusiast",description:"I nerd out on all things car-related.",icon:e.jsx(Y,{size:28,fill:"currentColor",strokeWidth:0})},{id:"both",title:"Both",description:"I'm a car lover on the lookout for my next ride.",icon:e.jsx(X,{size:28,strokeWidth:1.5})}],F=()=>{const s=y(),{user:t,isAuthenticated:h,updateUser:d}=C(),[o,c]=a.useState(null);a.useEffect(()=>{h||s("/sign-in")},[h,s]),a.useEffect(()=>{t?.userType&&c(t.userType)},[t]);const m=async()=>{if(o){try{await d({userType:o})}catch(l){console.error("Failed to save user type:",l)}s("/onboarding/step-3")}},g=()=>{s("/onboarding/step-1")},x=()=>{s("/onboarding/step-3")};return e.jsx("div",{className:"onboarding-step2",children:e.jsxs("div",{className:"step2-container",children:[e.jsx(se,{step:2}),e.jsxs("header",{className:"step2-header",children:[e.jsx("h1",{className:"step2-title",children:"What describes you best?"}),e.jsx("p",{className:"step2-subtitle",children:"Choose the option that best fits your automotive interests"})]}),e.jsx("div",{className:"step2-cards",role:"group","aria-label":"User type selection",children:ae.map(l=>e.jsxs("button",{className:`step2-card ${o===l.id?"step2-card--selected":""}`,onClick:()=>c(l.id),"aria-pressed":o===l.id,type:"button",children:[e.jsx("div",{className:`step2-card__image ${o===l.id?"step2-card__image--selected":""}`,children:e.jsx("div",{className:"step2-card__icon",children:l.icon})}),e.jsxs("div",{className:"step2-card__content",children:[e.jsx("h3",{className:"step2-card__title",children:l.title}),e.jsx("p",{className:"step2-card__description",children:l.description})]})]},l.id))}),e.jsxs("nav",{className:"step2-navigation","aria-label":"Onboarding navigation",children:[e.jsxs("button",{className:"cta cta--md cta--secondary",onClick:g,type:"button",children:[e.jsx(te,{}),"Back"]}),e.jsx("button",{className:"step2-skip",onClick:x,type:"button",children:"Skip this step"}),e.jsxs("button",{className:"cta cta--md cta--primary",onClick:m,type:"button",disabled:!o,children:["Next",e.jsx(ne,{})]})]}),e.jsx("div",{className:"step2-logo",children:e.jsx("img",{src:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e911a35f00029a6a6b/logo.svg",alt:"Car and Driver",className:"step2-logo-img"})})]})})};F.__docgenInfo={description:"",methods:[],displayName:"OnboardingStep2"};const oe=({step:s})=>{const t={1:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e811a35f00029a6a69/step1.svg",2:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e711a35f00029a6a67/step2.svg",3:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e611a35f00029a6a65/step3.svg",4:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e611a35f00029a6a63/step4.svg"};return e.jsx("div",{className:"step-indicator",children:e.jsx("img",{src:t[s],alt:`Step ${s} of 4`,className:"step-indicator-img"})})},re=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12.5 15L7.5 10L12.5 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),ie=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M7.5 15L12.5 10L7.5 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),ce=()=>e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"11",cy:"11",r:"7",stroke:"currentColor",strokeWidth:"2"}),e.jsx("path",{d:"M20 20L16 16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),P=[{id:"1",name:"2025 Toyota Camry",make:"Toyota",model:"Camry",year:"2025"},{id:"2",name:"2025 Honda Accord",make:"Honda",model:"Accord",year:"2025"},{id:"3",name:"2025 Ford Mustang",make:"Ford",model:"Mustang",year:"2025"},{id:"4",name:"2025 Chevrolet Trax",make:"Chevrolet",model:"Trax",year:"2025"},{id:"5",name:"2025 BMW 3 Series",make:"BMW",model:"3 Series",year:"2025"},{id:"6",name:"2025 Mercedes-Benz C-Class",make:"Mercedes-Benz",model:"C-Class",year:"2025"},{id:"7",name:"2025 Audi A4",make:"Audi",model:"A4",year:"2025"},{id:"8",name:"2025 Tesla Model 3",make:"Tesla",model:"Model 3",year:"2025"},{id:"9",name:"2025 Hyundai Sonata",make:"Hyundai",model:"Sonata",year:"2025"},{id:"10",name:"2025 Mazda CX-5",make:"Mazda",model:"CX-5",year:"2025"}],V=()=>{const s=y(),{user:t,isAuthenticated:h,updateUser:d}=C(),[o,c]=a.useState(""),[m,g]=a.useState([]),[x,l]=a.useState(!1),[r,p]=a.useState(P),u=a.useRef(null),v=a.useRef(null);a.useEffect(()=>{h||s("/sign-in")},[h,s]),a.useEffect(()=>{t?.savedVehicles&&t.savedVehicles.length>0&&g(t.savedVehicles.map(n=>({id:n.id,name:n.name})))},[t]),a.useEffect(()=>{if(o.trim()){const n=P.filter(f=>f.name.toLowerCase().includes(o.toLowerCase())||f.make.toLowerCase().includes(o.toLowerCase())||f.model.toLowerCase().includes(o.toLowerCase()));p(n),l(!0)}else p(P),l(!1)},[o]),a.useEffect(()=>{const n=f=>{v.current&&!v.current.contains(f.target)&&u.current&&!u.current.contains(f.target)&&l(!1)};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[]);const w=n=>{m.find(f=>f.id===n.id)||g([...m,{id:n.id,name:n.name}]),c(""),l(!1)},b=n=>{g(m.filter(f=>f.id!==n))},k=async()=>{try{await d({savedVehicles:m.map(n=>({id:n.id,name:n.name,ownership:"want"}))})}catch(n){console.error("Failed to save vehicles:",n)}s("/onboarding/step-4")},i=()=>{s("/onboarding/step-2")},j=()=>{s("/onboarding/step-4")};return e.jsx("div",{className:"onboarding-step3",children:e.jsxs("div",{className:"step3-container",children:[e.jsx(oe,{step:3}),e.jsxs("header",{className:"step3-header",children:[e.jsx("h1",{className:"step3-title",children:"Tell Us About Your Ride"}),e.jsx("p",{className:"step3-subtitle",children:"Choose what you drive now and what you'd like next"})]}),e.jsxs("div",{className:"step3-card",children:[e.jsx("label",{htmlFor:"vehicle-search",className:"step3-label",children:"SEARCH FOR A VEHICLE"}),e.jsxs("div",{className:"step3-search-wrapper",children:[e.jsx(ce,{}),e.jsx("input",{ref:u,id:"vehicle-search",type:"text",className:"step3-search-input",placeholder:"Start typing to search",value:o,onChange:n=>c(n.target.value),onFocus:()=>o&&l(!0),autoComplete:"off"})]}),x&&r.length>0&&e.jsx("div",{ref:v,className:"step3-suggestions",children:r.slice(0,5).map(n=>e.jsx("button",{className:"step3-suggestion-item",onClick:()=>w(n),type:"button",children:n.name},n.id))}),m.length>0&&e.jsx("div",{className:"step3-selected",children:m.map(n=>e.jsxs("div",{className:"step3-selected-item",children:[e.jsx("span",{children:n.name}),e.jsx("button",{className:"step3-selected-remove",onClick:()=>b(n.id),"aria-label":`Remove ${n.name}`,type:"button",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M12 4L4 12M4 4L12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]},n.id))})]}),e.jsxs("nav",{className:"step3-navigation","aria-label":"Onboarding navigation",children:[e.jsxs("button",{className:"cta cta--md cta--secondary",onClick:i,type:"button",children:[e.jsx(re,{}),"Back"]}),e.jsx("button",{className:"step3-skip",onClick:j,type:"button",children:"Skip this step"}),e.jsxs("button",{className:"cta cta--md cta--primary",onClick:k,type:"button",children:["Next",e.jsx(ie,{})]})]}),e.jsx("div",{className:"step3-logo",children:e.jsx("img",{src:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e911a35f00029a6a6b/logo.svg",alt:"Car and Driver",className:"step3-logo-img"})})]})})};V.__docgenInfo={description:"",methods:[],displayName:"OnboardingStep3"};const le=({step:s})=>{const t={1:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e811a35f00029a6a69/step1.svg",2:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e711a35f00029a6a67/step2.svg",3:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e611a35f00029a6a65/step3.svg",4:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e611a35f00029a6a63/step4.svg"};return e.jsx("div",{className:"step-indicator",children:e.jsx("img",{src:t[s],alt:`Step ${s} of 4`,className:"step-indicator-img"})})},de=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12.5 15L7.5 10L12.5 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),he=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M7.5 15L12.5 10L7.5 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),pe=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M4 10L8 14L16 6",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),me=()=>e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#000",display:"flex",alignItems:"center",justifyContent:"center",padding:"12px"},children:e.jsx("img",{src:"https://www.caranddriver.com/_assets/design-tokens/caranddriver/static/images/logos/logo.68b8e69.svg?primary=%23fff",alt:"Car and Driver",style:{width:"100%",height:"auto",objectFit:"contain"}})}),ue=[{id:"car-and-driver",title:"Subscribe to Car and Driver Newsletter",description:"Trust Car and Driver for the best car reviews, news, car rankings, and much more",logo:e.jsx(me,{})}],T=()=>{const s=y(),{user:t,isAuthenticated:h,completeOnboarding:d}=C(),[o,c]=a.useState(["car-and-driver"]);a.useEffect(()=>{h||s("/sign-in")},[h,s]),a.useEffect(()=>{t?.newsletterSubscriptions&&t.newsletterSubscriptions.length>0&&c(t.newsletterSubscriptions)},[t]);const m=r=>{c(p=>p.includes(r)?p.filter(u=>u!==r):[...p,r])},g=async()=>{try{await d({newsletters:o})}catch(r){console.error("Failed to complete onboarding:",r)}s("/onboarding/welcome")},x=()=>{s("/onboarding/step-3")},l=async()=>{try{await d({})}catch(r){console.error("Failed to complete onboarding:",r)}s("/onboarding/welcome")};return e.jsx("div",{className:"onboarding-step4",children:e.jsxs("div",{className:"step4-container",children:[e.jsx(le,{step:4}),e.jsxs("header",{className:"step4-header",children:[e.jsx("h1",{className:"step4-title",children:"Let's Keep In Touch"}),e.jsxs("p",{className:"step4-subtitle",children:["Select one of our newsletters that provide",e.jsx("br",{}),"car information suited to your needs"]})]}),e.jsx("div",{className:"step4-newsletters",children:ue.map(r=>e.jsxs("button",{className:`step4-newsletter-card ${o.includes(r.id)?"step4-newsletter-card--selected":""}`,onClick:()=>m(r.id),"aria-pressed":o.includes(r.id),type:"button",children:[e.jsx("div",{className:"step4-newsletter-logo",children:r.logo}),e.jsxs("div",{className:"step4-newsletter-content",children:[e.jsx("div",{className:`step4-checkbox ${o.includes(r.id)?"step4-checkbox--checked":""}`,children:o.includes(r.id)&&e.jsx(pe,{})}),e.jsx("h3",{className:"step4-newsletter-title",children:r.title}),e.jsx("p",{className:"step4-newsletter-description",children:r.description})]})]},r.id))}),e.jsxs("nav",{className:"step4-navigation","aria-label":"Onboarding navigation",children:[e.jsxs("button",{className:"cta cta--md cta--secondary",onClick:x,type:"button",children:[e.jsx(de,{}),"Back"]}),e.jsx("button",{className:"step4-skip",onClick:l,type:"button",children:"Skip this step"}),e.jsxs("button",{className:"cta cta--md cta--primary",onClick:g,type:"button",children:["Complete",e.jsx(he,{})]})]}),e.jsx("div",{className:"step4-logo",children:e.jsx("img",{src:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e911a35f00029a6a6b/logo.svg",alt:"Car and Driver",className:"step4-logo-img"})})]})})};T.__docgenInfo={description:"",methods:[],displayName:"OnboardingStep4"};const ge=()=>{const[s,t]=a.useState([]),h=["#D2232A","#0061AF","#DBCA8B","#26870D","#1B5F8A","#FFD700","#FF6B6B","#4ECDC4"];return a.useEffect(()=>{const d=[];for(let c=0;c<150;c++)d.push({id:c,x:Math.random()*100,color:h[Math.floor(Math.random()*h.length)],delay:Math.random()*.5,duration:2+Math.random()*2,size:6+Math.random()*8,rotation:Math.random()*360});t(d);const o=setTimeout(()=>t([]),5e3);return()=>clearTimeout(o)},[]),s.length===0?null:e.jsx("div",{className:"confetti-container","aria-hidden":"true",children:s.map(d=>e.jsx("div",{className:"confetti-piece",style:{left:`${d.x}%`,backgroundColor:d.color,width:`${d.size}px`,height:`${d.size*.6}px`,animationDelay:`${d.delay}s`,animationDuration:`${d.duration}s`,transform:`rotate(${d.rotation}deg)`}},d.id))})},xe=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12.5 15L7.5 10L12.5 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),fe=()=>e.jsx("div",{style:{width:"100%",height:"100%",borderRadius:"50%",background:"linear-gradient(180deg, #ffffff 0%, #000000 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1px"},children:e.jsx("div",{style:{width:"100%",height:"100%",borderRadius:"50%",background:"linear-gradient(180deg, #cccccc 0%, #ffffff 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"5%",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:e.jsx("img",{src:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e911a35f00029a6a6b/logo.svg",alt:"Car and Driver",style:{width:"100%",height:"auto",objectFit:"contain"}})})}),q=()=>{const s=y(),{user:t,isAuthenticated:h}=C(),[d,o]=a.useState(!1),[c,m]=a.useState(""),[g,x]=a.useState(""),[l,r]=a.useState(""),[p,u]=a.useState("");a.useEffect(()=>{h||s("/sign-in")},[h,s]),a.useEffect(()=>{const i=setTimeout(()=>o(!0),100);if(t){m(t.name||"Member");const j=t.createdAt?new Date(t.createdAt):new Date,n=`${String(j.getMonth()+1).padStart(2,"0")}/${String(j.getDate()).padStart(2,"0")}/${j.getFullYear()}`;x(n),t.savedVehicles&&t.savedVehicles.length>0?r(t.savedVehicles[0].name):r("Not specified"),t.newsletterSubscriptions&&t.newsletterSubscriptions.includes("car-and-driver")?u("Car and Driver"):u("None selected")}return()=>clearTimeout(i)},[t]);const v=()=>{s("/")},w=()=>{s("/onboarding/step-4")},b=()=>{s("/")},k=c.split(" ")[0]||"Member";return e.jsxs("div",{className:"onboarding-welcome",children:[e.jsx(ge,{}),e.jsxs("div",{className:"welcome-container",children:[e.jsx("header",{className:"welcome-header",children:e.jsxs("svg",{viewBox:"0 0 1364 263",className:"welcome-logo welcome-logo--animated",xmlns:"http://www.w3.org/2000/svg","aria-label":"Car and Driver",children:[e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M76.91 198.564c0 7.861-2.052 13.33-8.888 13.33-7.176 0-9.57-4.787-9.57-13.33V62.862c0-8.887 2.05-12.647 9.23-12.647 7.176 0 9.228 4.445 9.228 12.647v39.308h55.716V60.466c0-33.495-15.038-59.473-60.158-59.473H62.213C16.408.993 0 29.705 0 66.282v129.207c0 38.966 15.04 67.334 62.554 67.334h9.914c44.435 0 60.158-30.42 60.158-62.554v-52.635H76.91z"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M217.63 258.722h54.694l-35.55-254.31h-69.39l-32.473 254.31h48.88l3.76-37.259h25.979zM200.54 93.968l7.862 77.248H192.68z"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M334.666 48.162h8.205c7.52 0 9.229 3.076 9.229 11.966v34.178c0 8.89-3.079 12.31-10.255 12.31h-7.18zm0 106.308h7.861c7.52 0 9.573 3.76 9.573 12.304v73.835c0 9.228 2.049 15.038 4.442 18.113h55.716v-1.708c-1.708-3.42-3.416-8.89-3.416-18.46V154.47c0-19.146-12.648-29.397-22.218-33.158 9.91-4.445 22.218-15.04 22.218-38.625V49.186c0-30.077-17.09-44.774-42.045-44.774h-88.53v254.31h56.399z"}),e.jsx("path",{className:"welcome-logo__bar",d:"M428.499 64.016h166.27V4.609H428.5z",fill:"#d2232a"}),e.jsx("path",{className:"welcome-logo__bar",d:"M428.499 258.039h166.27v-59.402H428.5z",fill:"#0061af"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M453.644 183.665h19.441L468.018 78.982h-25.422L430.7 183.665h17.907l1.38-15.34h10.11zm-6.856-70.79 3.476 35.957h-6.354zm32.232-33.893v104.683h17.907V129.07l12.271 54.594h18.158V78.982h-17.658v50.651l-10.644-50.651zm57.382 104.683h29.679c12.145 0 18.532-7.742 18.532-24.063V102.06c0-16.743-7.138-23.08-18.658-23.08h-29.553zm19.819-85.263h3.724c2.755 0 3.632 1.825 3.632 6.05v52.76c0 4.36-.877 6.33-3.883 6.33h-3.473z"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M615.674 258.722h81.008c33.157 0 50.592-18.801 50.592-58.453V60.466c0-40.671-19.484-56.054-50.933-56.054h-80.667zm55.715-207.14h8.544c7.52 0 9.914 4.445 9.914 14.7v128.18c0 10.596-2.393 15.383-10.596 15.383h-7.862z"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M813.307 48.162h8.203c7.52 0 9.228 3.076 9.228 11.966v34.178c0 8.89-3.075 12.31-10.255 12.31h-7.176zm0 106.308h7.862c7.52 0 9.57 3.76 9.57 12.304v73.835c0 9.228 2.051 15.038 4.444 18.113H890.9v-1.708c-1.708-3.42-3.419-8.89-3.419-18.46V154.47c0-19.146-12.648-29.397-22.217-33.158 9.913-4.445 22.217-15.04 22.217-38.625V49.186c0-30.077-17.087-44.774-42.042-44.774h-88.532v254.31h56.401z"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M900.092 258.722h56.4V4.412h-56.4z"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M999.319 258.719h73.832l34.186-254.31h-54.349l-15.385 159.286-15.382-159.286h-59.473z"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M1113.586 4.412v254.31h107.674v-53.664h-51.958V154.47h39.996v-54.008h-39.996V57.05h49.906V4.412z"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M1285.454 48.162h8.2c7.52 0 9.228 3.076 9.228 11.966v34.178c0 8.89-3.075 12.31-10.255 12.31h-7.173zm0 106.308h7.859c7.52 0 9.57 3.76 9.57 12.304v73.835c0 9.228 2.051 15.038 4.444 18.113h55.716v-1.708c-1.708-3.42-3.419-8.89-3.419-18.46V154.47c0-19.146-12.645-29.397-22.217-33.158 9.913-4.445 22.217-15.04 22.217-38.625V49.186c0-30.077-17.087-44.774-42.042-44.774h-88.532v254.31h56.404z"})]})}),e.jsxs("div",{className:`welcome-content ${d?"welcome-content--visible":""}`,children:[e.jsxs("h1",{className:"welcome-title",children:["Welcome to the Club, ",k,"!"]}),e.jsx("p",{className:"welcome-subtitle",children:"Enjoy your Car And Driver member benefits."}),e.jsx("div",{className:"membership-card-wrapper",children:e.jsx("div",{className:"membership-card",children:e.jsxs("div",{className:"membership-card__inner",children:[e.jsx("img",{src:"https://www.caranddriver.com/_assets/design-tokens/caranddriver/static/images/logos/logo.68b8e69.svg?primary=%23fff",alt:"",className:"membership-card__watermark","aria-hidden":"true"}),e.jsxs("div",{className:"membership-card__header",children:[e.jsx("div",{className:"membership-card__badge",children:e.jsx(fe,{})}),e.jsxs("div",{className:"membership-card__header-text",children:[e.jsx("h2",{className:"membership-card__title",children:"Membership Card"}),e.jsx("p",{className:"membership-card__subtitle",children:"Car And Driver Member"})]})]}),e.jsxs("div",{className:"membership-card__details",children:[e.jsxs("div",{className:"membership-card__field",children:[e.jsx("span",{className:"membership-card__label",children:"Member Since"}),e.jsx("span",{className:"membership-card__value",children:g})]}),e.jsxs("div",{className:"membership-card__field",children:[e.jsx("span",{className:"membership-card__label",children:"Name"}),e.jsx("span",{className:"membership-card__value",children:c})]}),e.jsxs("div",{className:"membership-card__field",children:[e.jsx("span",{className:"membership-card__label",children:"My Car"}),e.jsx("span",{className:"membership-card__value",children:l})]}),e.jsxs("div",{className:"membership-card__field",children:[e.jsx("span",{className:"membership-card__label",children:"Newsletter"}),e.jsx("span",{className:"membership-card__value",children:p})]})]})]})})})]}),e.jsxs("nav",{className:"welcome-navigation","aria-label":"Onboarding navigation",children:[e.jsxs("button",{className:"cta cta--md cta--secondary",onClick:w,type:"button",children:[e.jsx(xe,{}),"Back"]}),e.jsx("button",{className:"welcome-skip",onClick:b,type:"button",children:"Skip this step"}),e.jsxs("button",{className:"cta cta--md cta--primary",onClick:v,type:"button",children:["Close",e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{d:"M13.5 4.5L4.5 13.5M4.5 4.5L13.5 13.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})]})};q.__docgenInfo={description:"",methods:[],displayName:"OnboardingWelcome"};const U=()=>{const s=y(),{signIn:t,socialSignIn:h,isAuthenticated:d,user:o,isLoading:c,error:m,clearError:g}=C(),[x,l]=a.useState(""),[r,p]=a.useState(""),[u,v]=a.useState(!1),[w,b]=a.useState(null);a.useEffect(()=>{d&&o&&(o.onboardingCompleted?s("/"):s("/onboarding/step-1"))},[d,o,s]),a.useEffect(()=>{m&&g(),w&&b(null)},[x,r]);const k=async n=>{if(n.preventDefault(),b(null),!x.trim()){b("Please enter your email address");return}if(!r){b("Please enter your password");return}try{await t({email:x,password:r})}catch{}},i=async n=>{try{await h(n)}catch{}},j=w||m;return e.jsx("div",{className:"signin-page",children:e.jsxs("div",{className:"signin-container",children:[e.jsx("div",{className:"signin-logo",children:e.jsx("img",{src:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e911a35f00029a6a6b/logo.svg",alt:"Car and Driver",className:"signin-logo-img"})}),e.jsx("h1",{className:"signin-title",children:"Sign In"}),j&&e.jsxs("div",{className:"signin-error",role:"alert",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),e.jsx("path",{d:"M12 8v4M12 16h.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),e.jsx("span",{children:j})]}),e.jsxs("form",{className:"signin-form",onSubmit:k,children:[e.jsxs("div",{className:"signin-field",children:[e.jsx("label",{className:"signin-label",htmlFor:"email",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",className:"signin-input",placeholder:"Enter your email",value:x,onChange:n=>l(n.target.value),disabled:c,autoComplete:"email",required:!0})]}),e.jsxs("div",{className:"signin-field",children:[e.jsx("label",{className:"signin-label",htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"signin-password-wrapper",children:[e.jsx("input",{id:"password",type:u?"text":"password",className:"signin-input",placeholder:"Enter Password",value:r,onChange:n=>p(n.target.value),disabled:c,autoComplete:"current-password",required:!0}),e.jsx("button",{type:"button",className:"signin-password-toggle",onClick:()=>v(!u),"aria-label":u?"Hide password":"Show password",disabled:c,children:u?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})]}),e.jsx(z,{to:"/forgot-password",className:"signin-forgot-link",children:"Forgot or need a password?"}),e.jsx("button",{type:"submit",className:"signin-submit-btn",disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"signin-spinner"}),"Signing in..."]}):"Continue"})]}),e.jsxs("p",{className:"signin-signup-text",children:["Don't have an account? ",e.jsx(z,{to:"/sign-up",className:"signin-signup-link",children:"Sign Up"})]}),e.jsx("div",{className:"signin-divider",children:e.jsx("span",{children:"Or"})}),e.jsxs("div",{className:"signin-social-buttons",children:[e.jsxs("button",{className:"signin-social-btn signin-social-btn--google",onClick:()=>i("google"),type:"button",disabled:c,children:[e.jsx("img",{src:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e311a35f00029a6a61/google.svg",alt:"",className:"signin-social-icon"}),"Continue with Google"]}),e.jsxs("button",{className:"signin-social-btn signin-social-btn--facebook",onClick:()=>i("facebook"),type:"button",disabled:c,children:[e.jsx("img",{src:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e311a35f00029a6a5f/facebook.svg",alt:"",className:"signin-social-icon"}),"Continue with Facebook"]}),e.jsxs("button",{className:"signin-social-btn signin-social-btn--apple",onClick:()=>i("apple"),type:"button",disabled:c,children:[e.jsx("img",{src:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e211a35f00029a6a5d/apple.svg",alt:"",className:"signin-social-icon"}),"Continue with Apple"]})]})]})})};U.__docgenInfo={description:"",methods:[],displayName:"SignIn"};const ye={title:"Pages/Onboarding",parameters:{layout:"fullscreen",router:{skip:!0},docs:{description:{component:"The Car and Driver onboarding flow guides new users through account setup, preferences, and personalization."}}},tags:["autodocs"]},R={render:()=>e.jsx(S,{children:e.jsx(_,{initialEntries:["/sign-in"],children:e.jsx(L,{children:e.jsx(M,{path:"*",element:e.jsx(U,{})})})})}),parameters:{docs:{description:{story:"Sign in page for the Car and Driver onboarding flow. Users can sign in with email or social accounts."}}}},A={render:()=>e.jsx(S,{children:e.jsx(_,{initialEntries:["/onboarding/step-1"],children:e.jsx(L,{children:e.jsx(M,{path:"*",element:e.jsx($,{})})})})}),parameters:{docs:{description:{story:"Step 1 of the onboarding flow. Users enter their name and optional location."}}}},B={render:()=>e.jsx(S,{children:e.jsx(_,{initialEntries:["/onboarding/step-2"],children:e.jsx(L,{children:e.jsx(M,{path:"*",element:e.jsx(F,{})})})})}),parameters:{docs:{description:{story:"Step 2 of the onboarding flow. Users select their shopping intent (buying, researching, etc.)."}}}},D={render:()=>e.jsx(S,{children:e.jsx(_,{initialEntries:["/onboarding/step-3"],children:e.jsx(L,{children:e.jsx(M,{path:"*",element:e.jsx(V,{})})})})}),parameters:{docs:{description:{story:"Step 3 of the onboarding flow. Users select their lifestyle interests and preferences."}}}},W={render:()=>e.jsx(S,{children:e.jsx(_,{initialEntries:["/onboarding/step-4"],children:e.jsx(L,{children:e.jsx(M,{path:"*",element:e.jsx(T,{})})})})}),parameters:{docs:{description:{story:"Step 4 of the onboarding flow. Users select their preferred vehicle types."}}}},O={render:()=>e.jsx(S,{children:e.jsx(_,{initialEntries:["/onboarding/welcome"],children:e.jsx(L,{children:e.jsx(M,{path:"*",element:e.jsx(q,{})})})})}),parameters:{docs:{description:{story:"Welcome/completion page shown after finishing the onboarding flow."}}}};R.parameters={...R.parameters,docs:{...R.parameters?.docs,source:{originalSource:`{
  render: () => <AuthProvider>
    <MemoryRouter initialEntries={['/sign-in']}>
      <Routes>
        <Route path="*" element={<SignIn />} />
      </Routes>
    </MemoryRouter>
    </AuthProvider>,
  parameters: {
    docs: {
      description: {
        story: 'Sign in page for the Car and Driver onboarding flow. Users can sign in with email or social accounts.'
      }
    }
  }
}`,...R.parameters?.docs?.source}}};A.parameters={...A.parameters,docs:{...A.parameters?.docs,source:{originalSource:`{
  render: () => <AuthProvider>
    <MemoryRouter initialEntries={['/onboarding/step-1']}>
      <Routes>
        <Route path="*" element={<OnboardingStep1 />} />
      </Routes>
    </MemoryRouter>
    </AuthProvider>,
  parameters: {
    docs: {
      description: {
        story: 'Step 1 of the onboarding flow. Users enter their name and optional location.'
      }
    }
  }
}`,...A.parameters?.docs?.source}}};B.parameters={...B.parameters,docs:{...B.parameters?.docs,source:{originalSource:`{
  render: () => <AuthProvider>
    <MemoryRouter initialEntries={['/onboarding/step-2']}>
      <Routes>
        <Route path="*" element={<OnboardingStep2 />} />
      </Routes>
    </MemoryRouter>
    </AuthProvider>,
  parameters: {
    docs: {
      description: {
        story: 'Step 2 of the onboarding flow. Users select their shopping intent (buying, researching, etc.).'
      }
    }
  }
}`,...B.parameters?.docs?.source}}};D.parameters={...D.parameters,docs:{...D.parameters?.docs,source:{originalSource:`{
  render: () => <AuthProvider>
    <MemoryRouter initialEntries={['/onboarding/step-3']}>
      <Routes>
        <Route path="*" element={<OnboardingStep3 />} />
      </Routes>
    </MemoryRouter>
    </AuthProvider>,
  parameters: {
    docs: {
      description: {
        story: 'Step 3 of the onboarding flow. Users select their lifestyle interests and preferences.'
      }
    }
  }
}`,...D.parameters?.docs?.source}}};W.parameters={...W.parameters,docs:{...W.parameters?.docs,source:{originalSource:`{
  render: () => <AuthProvider>
    <MemoryRouter initialEntries={['/onboarding/step-4']}>
      <Routes>
        <Route path="*" element={<OnboardingStep4 />} />
      </Routes>
    </MemoryRouter>
    </AuthProvider>,
  parameters: {
    docs: {
      description: {
        story: 'Step 4 of the onboarding flow. Users select their preferred vehicle types.'
      }
    }
  }
}`,...W.parameters?.docs?.source}}};O.parameters={...O.parameters,docs:{...O.parameters?.docs,source:{originalSource:`{
  render: () => <AuthProvider>
    <MemoryRouter initialEntries={['/onboarding/welcome']}>
      <Routes>
        <Route path="*" element={<OnboardingWelcome />} />
      </Routes>
    </MemoryRouter>
    </AuthProvider>,
  parameters: {
    docs: {
      description: {
        story: 'Welcome/completion page shown after finishing the onboarding flow.'
      }
    }
  }
}`,...O.parameters?.docs?.source}}};const Ce=["SignInPage","Step1_PersonalInfo","Step2_UserType","Step3_Interests","Step4_VehicleTypes","Welcome_Completion"];export{R as SignInPage,A as Step1_PersonalInfo,B as Step2_UserType,D as Step3_Interests,W as Step4_VehicleTypes,O as Welcome_Completion,Ce as __namedExportsOrder,ye as default};
