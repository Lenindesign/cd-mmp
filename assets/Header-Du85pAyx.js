import{r as l,j as e,u as je,L as I,l as ye,d as Se}from"./iframe-cxIeY4xe.js";import{i as ke,s as Ve}from"./vehicleService-ByoDejvg.js";import{u as Le,g as Me}from"./useSupabaseRating-CkT-CMyO.js";import{v as L,s as ae,c as $e,a as pe}from"./index-Dto8T7jp.js";import{B as V}from"./Button-Cmw1Vk38.js";import{E as Re}from"./ExitIntentModal-ZPg_yMhL.js";import{O as Y}from"./OptimizedImage-BP_HVZ4l.js";import"./DealerLocatorMap-D7nSpBI7.js";import"./MakeOfferModal-D4rgB0t5.js";import"./OfferNegotiation-B7uDmTzS.js";import{D as He}from"./DealerMapModal-BS54TvOI.js";import{X as q}from"./x-BdxpChNc.js";import{D as ze}from"./dollar-sign-Dmb6l1FU.js";import{S as le}from"./star-BdSMzOYn.js";import{G as Ee}from"./gauge-BFDqn3Ew.js";import{F as Ie}from"./fuel-DgR8O87V.js";import{c as Ae}from"./createLucideIcon-D2YFKtch.js";import{C as te}from"./check-DNtRCkP7.js";import{M as he}from"./minus-Bp_zLfWh.js";import{C as ve}from"./clock-El8kFutq.js";import{B as O}from"./bookmark-gAzHGdb_.js";import{C as K}from"./car-DXhjvGLO.js";import{T as De,G as X,M as Oe,L as Te}from"./trash-2-DWi9aJsq.js";import{M as Fe}from"./map-pin-BaZ9QAjw.js";import{C as ge}from"./chevron-right-CXuBxHJ2.js";import{S as ne}from"./search-B2hKGUqI.js";import{P as re}from"./plus-Ddb-7nBq.js";import{S as Pe}from"./sparkles-fX5Zo5dl.js";import{U as We}from"./user-CFQzy2tL.js";const Ze=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Be=Ae("settings",Ze),Ue=(n,t)=>L.find(c=>c.make===n&&c.model===t),Ge={"avatar-family":{make:"Honda",model:"Pilot",fallback:pe},"avatar-adventure":{make:"Jeep",model:"Wrangler",fallback:pe},"avatar-luxury":{make:"Mercedes-Benz",model:"S-Class",fallback:ae},"avatar-eco-friendly":{make:"Tesla",model:"Model 3",fallback:ae},"avatar-performance":{make:"Porsche",model:"911",fallback:$e},"avatar-commuter":{make:"Toyota",model:"Camry",fallback:ae},"avatar-value":{make:"Honda",model:"Civic",fallback:ae}},ie=n=>{if(!n||n==="initials")return null;const t=Ge[n];return t&&(Ue(t.make,t.model)||t.fallback[0])?.image||null},xe=n=>{if(!n)return"U";const t=n.split(" ");return t.length>=2?`${t[0][0]}${t[1][0]}`.toUpperCase():t[0].substring(0,2).toUpperCase()},ue="recentlyViewedVehicles",Ye=20,qe=()=>{try{const n=localStorage.getItem(ue);return n?JSON.parse(n):[]}catch{return[]}},ks=n=>{try{const t=qe(),c={id:n.id,name:`${n.year} ${n.make} ${n.model}`,slug:n.slug,image:n.image,price:n.priceMin,mileage:n.mileage,viewedAt:new Date().toISOString()},S=t.filter(x=>x.id!==n.id&&x.slug!==n.slug),z=[c,...S].slice(0,Ye);localStorage.setItem(ue,JSON.stringify(z))}catch(t){console.error("Error saving recently viewed vehicle:",t)}},Qe=()=>{try{localStorage.removeItem(ue)}catch(n){console.error("Error clearing recently viewed vehicles:",n)}},be=({isOpen:n,onClose:t,vehicles:c})=>{const S=l.useRef(null);l.useEffect(()=>{const a=o=>{o.key==="Escape"&&t()};return n&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow=""}},[n,t]);const z=a=>{a.target===a.currentTarget&&t()},x=a=>{const o=a.split(" ");if(o.length>=1&&/^\d{4}$/.test(o[0])&&o.length>=3){const b=parseInt(o[0]),d=o[1],u=o.slice(2).join(" ");let H=L.find(y=>Number(y.year)===b&&y.make.toLowerCase()===d.toLowerCase()&&y.model.toLowerCase()===u.toLowerCase());return H||(H=L.find(y=>y.make.toLowerCase()===d.toLowerCase()&&y.model.toLowerCase()===u.toLowerCase())),H}else if(o.length>=2){const b=o[0],d=o.slice(1).join(" ");return L.find(u=>u.make.toLowerCase()===b.toLowerCase()&&u.model.toLowerCase()===d.toLowerCase())}return null},h=l.useMemo(()=>c.map(a=>({...a,details:x(a.name)})),[c]),f=l.useMemo(()=>[{category:"Pricing",specs:[{name:"Starting MSRP",values:h.map(a=>a.details?.priceMin?`$${a.details.priceMin.toLocaleString()}`:"â€”"),highlight:"lower"},{name:"Price Range",values:h.map(a=>a.details?.priceRange||"â€”")}]},{category:"Ratings",specs:[{name:"C/D Rating",values:h.map(a=>a.details?.staffRating?`${a.details.staffRating.toFixed(1)}/10`:"â€”"),highlight:"higher"},{name:"Community Rating",values:h.map(a=>a.details?.communityRating?`${a.details.communityRating.toFixed(1)}/10`:"â€”"),highlight:"higher"}]},{category:"Performance",specs:[{name:"Horsepower",values:h.map(a=>a.details?.horsepower?`${a.details.horsepower} hp`:"â€”"),highlight:"higher"},{name:"Fuel Economy",values:h.map(a=>a.details?.mpg||"â€”"),highlight:"higher"},{name:"Drivetrain",values:h.map(a=>a.details?.drivetrain||"â€”")},{name:"Transmission",values:h.map(a=>a.details?.transmission||"â€”")}]},{category:"Details",specs:[{name:"Body Style",values:h.map(a=>a.details?.bodyStyle||"â€”")},{name:"Fuel Type",values:h.map(a=>a.details?.fuelType||"â€”")},{name:"Seating",values:h.map(a=>a.details?.seatingCapacity?`${a.details.seatingCapacity} passengers`:"â€”")},{name:"Cargo Space",values:h.map(a=>a.details?.cargoSpace?`${a.details.cargoSpace} cu ft`:"â€”"),highlight:"higher"}]},{category:"Awards",specs:[{name:"Editor's Choice",values:h.map(a=>a.details?.editorsChoice??!1)},{name:"10Best",values:h.map(a=>a.details?.tenBest??!1)},{name:"EV of the Year",values:h.map(a=>a.details?.evOfTheYear??!1)}]}],[h]),R=(a,o)=>{if(!o)return null;const b=a.map(d=>{if(typeof d=="string"){const u=d.match(/[\d,.]+/);return u?parseFloat(u[0].replace(/,/g,"")):null}return null}).map((d,u)=>({value:d,index:u})).filter(d=>d.value!==null);return b.length<2?null:o==="higher"?b.reduce((d,u)=>u.value>d.value?u:d).index:b.reduce((d,u)=>u.value<d.value?u:d).index};if(!n||c.length<2)return null;const k=(a,o=!1)=>a===!0?e.jsx("span",{className:"vehicle-compare-value vehicle-compare-value--yes",children:e.jsx(te,{size:18})}):a===!1?e.jsx("span",{className:"vehicle-compare-value vehicle-compare-value--no",children:e.jsx(he,{size:16})}):a===null||a==="â€”"?e.jsx("span",{className:"vehicle-compare-value vehicle-compare-value--na",children:e.jsx(he,{size:16})}):e.jsx("span",{className:`vehicle-compare-value vehicle-compare-value--text ${o?"vehicle-compare-value--best":""}`,children:a});return e.jsx("div",{className:"vehicle-comparison-modal",onClick:z,children:e.jsxs("div",{className:"vehicle-comparison-modal__content",ref:S,children:[e.jsxs("header",{className:"vehicle-comparison-modal__header",children:[e.jsxs("div",{className:"vehicle-comparison-modal__header-content",children:[e.jsx("h2",{className:"vehicle-comparison-modal__title",children:"Compare Vehicles"}),e.jsxs("p",{className:"vehicle-comparison-modal__subtitle",children:["Side-by-side comparison of ",c.length," vehicles"]})]}),e.jsx("button",{className:"vehicle-comparison-modal__close",onClick:t,"aria-label":"Close comparison",children:e.jsx(q,{size:24})})]}),e.jsxs("div",{className:"vehicle-comparison-modal__body",children:[e.jsx("div",{className:"vehicle-comparison-modal__vehicles",children:h.map(a=>e.jsxs("div",{className:"vehicle-compare-card",children:[e.jsx("div",{className:"vehicle-compare-card__image",children:e.jsx(Y,{src:a.details?.image||a.image,alt:a.name,width:200,height:130})}),e.jsxs("div",{className:"vehicle-compare-card__info",children:[e.jsx("h3",{className:"vehicle-compare-card__name",children:a.name}),e.jsxs("div",{className:"vehicle-compare-card__meta",children:[e.jsxs("span",{className:"vehicle-compare-card__price",children:[e.jsx(ze,{size:14}),a.details?.priceMin?`$${a.details.priceMin.toLocaleString()}`:`$${a.price.toLocaleString()}`]}),a.details?.staffRating&&e.jsxs("span",{className:"vehicle-compare-card__rating",children:[e.jsx(le,{size:14,fill:"currentColor"}),a.details.staffRating.toFixed(1)]})]}),a.details&&e.jsxs("div",{className:"vehicle-compare-card__specs",children:[a.details.horsepower&&e.jsxs("span",{className:"vehicle-compare-card__spec",children:[e.jsx(Ee,{size:12}),a.details.horsepower," hp"]}),a.details.mpg&&e.jsxs("span",{className:"vehicle-compare-card__spec",children:[e.jsx(Ie,{size:12}),a.details.mpg]}),a.details.drivetrain&&e.jsxs("span",{className:"vehicle-compare-card__spec",children:[e.jsx(Be,{size:12}),a.details.drivetrain]})]})]})]},a.id))}),e.jsx("div",{className:"vehicle-comparison-table-wrapper",children:e.jsxs("table",{className:"vehicle-comparison-table",children:[e.jsx("thead",{className:"vehicle-comparison-table__head",children:e.jsxs("tr",{children:[e.jsx("th",{className:"vehicle-comparison-table__corner",children:"Specification"}),h.map(a=>e.jsxs("th",{className:"vehicle-comparison-table__vehicle-header",children:[a.details?.make," ",a.details?.model]},a.id))]})}),e.jsx("tbody",{className:"vehicle-comparison-table__body",children:f.map(a=>e.jsxs(e.Fragment,{children:[e.jsx("tr",{className:"vehicle-comparison-table__category-row",children:e.jsx("td",{colSpan:h.length+1,className:"vehicle-comparison-table__category",children:a.category})},a.category),a.specs.map(o=>{const j=R(o.values,o.highlight);return e.jsxs("tr",{className:"vehicle-comparison-table__spec-row",children:[e.jsx("td",{className:"vehicle-comparison-table__spec-name",children:o.name}),o.values.map((b,d)=>e.jsx("td",{className:`vehicle-comparison-table__spec-value ${j===d?"vehicle-comparison-table__spec-value--best":""}`,children:k(b,j===d)},d))]},o.name)})]}))})]})})]}),e.jsxs("footer",{className:"vehicle-comparison-modal__footer",children:[e.jsxs("div",{className:"vehicle-comparison-legend",children:[e.jsxs("span",{className:"vehicle-comparison-legend__item",children:[e.jsx(te,{size:16,className:"vehicle-comparison-legend__icon vehicle-comparison-legend__icon--yes"}),e.jsx("span",{children:"Yes"})]}),e.jsxs("span",{className:"vehicle-comparison-legend__item",children:[e.jsx(he,{size:16,className:"vehicle-comparison-legend__icon vehicle-comparison-legend__icon--na"}),e.jsx("span",{children:"Not Available"})]}),e.jsxs("span",{className:"vehicle-comparison-legend__item vehicle-comparison-legend__item--best",children:[e.jsx("span",{className:"vehicle-comparison-legend__best-indicator"}),e.jsx("span",{children:"Best in Category"})]})]}),e.jsx("p",{className:"vehicle-comparison-disclaimer",children:"Specifications shown are for base models. Verify with dealer for exact features."})]})]})})};be.__docgenInfo={description:"",methods:[],displayName:"VehicleComparisonModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},vehicles:{required:!0,tsType:{name:"Array",elements:[{name:"CompareVehicle"}],raw:"CompareVehicle[]"},description:""}}};const Ne=({isOpen:n,onClose:t})=>{const{user:c,addSavedVehicle:S,removeSavedVehicle:z}=je(),[x,h]=l.useState("recently-viewed"),[f,R]=l.useState([]),[k,a]=l.useState(!1),[o,j]=l.useState(!1),[b,d]=l.useState(""),[u,H]=l.useState(""),[y,E]=l.useState([]),[Q,T]=l.useState([]),A=l.useRef(null),W=l.useRef(null),[J,Z]=l.useState(!1),[B,ee]=l.useState(null),[N,D]=l.useState(!1),[w,F]=l.useState([]),[ce,se]=l.useState(!1);l.useEffect(()=>{const s=localStorage.getItem("recentlyViewedVehicles");if(s)try{const r=JSON.parse(s);R(r.slice(0,10))}catch{R([])}},[n]);const oe=()=>{Qe(),R([])},U=s=>{const r=s.split(" ");if(r.length>=1&&/^\d{4}$/.test(r[0])&&r.length>=3){const m=parseInt(r[0]),v=r[1],$=r.slice(2).join(" ");let g=L.find(C=>Number(C.year)===m&&C.make.toLowerCase()===v.toLowerCase()&&C.model.toLowerCase()===$.toLowerCase());return g||(g=L.find(C=>C.make.toLowerCase()===v.toLowerCase()&&C.model.toLowerCase()===$.toLowerCase())),g||(g=L.find(C=>C.make.toLowerCase()===v.toLowerCase()&&(C.model.toLowerCase().includes($.toLowerCase())||$.toLowerCase().includes(C.model.toLowerCase())))),g}else if(r.length>=2){const m=r[0],v=r.slice(1).join(" ");let $=L.find(g=>g.make.toLowerCase()===m.toLowerCase()&&g.model.toLowerCase()===v.toLowerCase());if($||($=L.find(g=>g.make.toLowerCase()===m.toLowerCase()&&(g.model.toLowerCase().includes(v.toLowerCase())||v.toLowerCase().includes(g.model.toLowerCase())))),!$){const g=s.toLowerCase();$=L.find(C=>`${C.make} ${C.model}`.toLowerCase().includes(g)||g.includes(`${C.make} ${C.model}`.toLowerCase()))}return $}return null},M=c?.savedVehicles?.filter(s=>s.ownership==="want")||[],P=c?.savedVehicles?.filter(s=>s.ownership==="own")||[],i=s=>{const r=s.target.value;if(d(r),r.length>=2){const _=L.filter(m=>`${m.year} ${m.make} ${m.model}`.toLowerCase().includes(r.toLowerCase())).slice(0,6);E(_)}else E([])},p=s=>{const r=s.target.value;if(H(r),r.length>=2){const _=L.filter(m=>`${m.year} ${m.make} ${m.model}`.toLowerCase().includes(r.toLowerCase())).slice(0,6);T(_)}else T([])},de=s=>{S({id:`own-${s.id}`,name:`${s.year} ${s.make} ${s.model}`,ownership:"own",savedAt:new Date().toISOString()}),d(""),E([]),a(!1)},me=s=>{S({id:`want-${s.id}`,name:`${s.year} ${s.make} ${s.model}`,ownership:"want",savedAt:new Date().toISOString()}),H(""),T([]),j(!1)};l.useEffect(()=>{k&&A.current&&A.current.focus()},[k]),l.useEffect(()=>{o&&W.current&&W.current.focus()},[o]);const G=s=>{F(r=>r.includes(s)?r.filter(_=>_!==s):r.length>=3?r:[...r,s])},_e=()=>{w.length>=2&&se(!0)},Ce=()=>x==="recently-viewed"?w.map(s=>f.find(r=>r.id===s)).filter(s=>s!==void 0):x==="want"?w.map(s=>{const r=M.find(m=>m.id===s);if(!r)return;const _=U(r.name);if(_)return{id:r.id,name:r.name,slug:_.slug,image:_.image,price:_.priceMin,viewedAt:r.savedAt?new Date(r.savedAt):new Date}}).filter(s=>s!==void 0):[];if(l.useEffect(()=>{D(!1),F([])},[x]),l.useEffect(()=>{const s=r=>{r.key==="Escape"&&t()};return n&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow=""}},[n,t]),!n)return null;const we=[{id:"recently-viewed",label:"Recently Viewed",icon:e.jsx(ve,{size:16}),count:f.length},{id:"want",label:"Cars I Want",icon:e.jsx(O,{size:16}),count:M.length},{id:"own",label:"Cars I Own",icon:e.jsx(K,{size:16}),count:P.length}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"saved-sidebar__overlay",onClick:t}),e.jsxs("aside",{className:"saved-sidebar",role:"dialog","aria-label":"Saved vehicles",children:[e.jsxs("div",{className:"saved-sidebar__header",children:[e.jsxs("div",{className:"saved-sidebar__header-content",children:[e.jsx(O,{size:20,fill:"currentColor",className:"saved-sidebar__header-icon"}),e.jsx("h2",{className:"saved-sidebar__title",children:"My Garage"})]}),e.jsx(V,{variant:"ghost",size:"small",className:"saved-sidebar__close",onClick:t,"aria-label":"Close sidebar",iconLeft:e.jsx(q,{size:24})})]}),e.jsxs("div",{className:"saved-sidebar__welcome",children:[e.jsx("span",{className:"saved-sidebar__welcome-text",children:"Welcome!"}),e.jsx("p",{className:"saved-sidebar__welcome-desc",children:"Here are the cars you've viewed, followed or own."})]}),e.jsx("div",{className:"saved-sidebar__tabs",children:we.map(s=>e.jsxs("button",{className:`saved-sidebar__tab ${x===s.id?"saved-sidebar__tab--active":""}`,onClick:()=>h(s.id),children:[s.icon,e.jsx("span",{children:s.label}),s.count>0&&e.jsx("span",{className:"saved-sidebar__tab-count",children:s.count})]},s.id))}),e.jsxs("div",{className:"saved-sidebar__content",children:[x==="recently-viewed"&&e.jsx("div",{className:"saved-sidebar__section",children:f.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"saved-sidebar__section-header",children:[e.jsxs("span",{className:"saved-sidebar__section-title",children:["Recently Viewed (",f.length,")"]}),e.jsxs("div",{className:"saved-sidebar__section-actions",children:[e.jsx(V,{variant:"ghost",size:"small",className:"saved-sidebar__clear-btn",onClick:oe,iconLeft:e.jsx(De,{size:14}),children:"Clear"}),f.length>=2&&(N?w.length>=2?e.jsxs(V,{variant:"primary",size:"small",className:"saved-sidebar__compare-action",onClick:_e,iconLeft:e.jsx(X,{size:14}),children:["COMPARE (",w.length,")"]}):e.jsx(V,{variant:"ghost",size:"small",className:"saved-sidebar__section-link",onClick:()=>{D(!1),F([])},children:"Cancel"}):e.jsx(V,{variant:"ghost",size:"small",className:"saved-sidebar__section-link",onClick:()=>D(!0),iconLeft:e.jsx(X,{size:14}),children:"COMPARE"}))]})]}),N&&e.jsx("p",{className:"saved-sidebar__compare-hint",children:"Select 2-3 vehicles to compare"}),e.jsx("div",{className:"saved-sidebar__vehicles",children:f.map((s,r)=>{const _=U(s.name),m=w.includes(s.id);return e.jsxs("div",{className:`saved-sidebar__vehicle-container ${m?"saved-sidebar__vehicle-container--selected":""}`,children:[N&&e.jsx("button",{className:`saved-sidebar__compare-checkbox ${m?"saved-sidebar__compare-checkbox--checked":""}`,onClick:()=>G(s.id),"aria-label":m?"Remove from compare":"Add to compare",children:m&&e.jsx(te,{size:14})}),e.jsxs(I,{to:`/${s.slug}`,className:"saved-sidebar__vehicle",onClick:v=>{N?(v.preventDefault(),G(s.id)):t()},children:[e.jsx("div",{className:"saved-sidebar__vehicle-image",children:e.jsx(Y,{src:s.image,alt:s.name,width:80,height:60})}),e.jsxs("div",{className:"saved-sidebar__vehicle-info",children:[e.jsx("span",{className:"saved-sidebar__vehicle-name",children:s.name}),e.jsxs("div",{className:"saved-sidebar__vehicle-meta",children:[e.jsxs("span",{className:"saved-sidebar__vehicle-price",children:["$",s.price.toLocaleString()]}),_?.staffRating&&e.jsxs("span",{className:"saved-sidebar__vehicle-rating",children:[e.jsx(le,{size:12,fill:"currentColor"}),e.jsx("span",{children:_.staffRating.toFixed(1)}),e.jsx("span",{className:"saved-sidebar__vehicle-rating-label",children:"C/D"})]})]}),s.mileage&&e.jsxs("span",{className:"saved-sidebar__vehicle-mileage",children:[s.mileage.toLocaleString()," mi"]})]}),!N&&e.jsx("button",{className:`saved-sidebar__vehicle-favorite ${c?.savedVehicles?.some(v=>v.name===s.name)?"saved-sidebar__vehicle-favorite--active":""}`,onClick:v=>{if(v.preventDefault(),v.stopPropagation(),c?.savedVehicles?.some(g=>g.name===s.name)){const g=c?.savedVehicles?.find(C=>C.name===s.name);g&&z(g.id)}else S({id:`want-${s.id}-${Date.now()}`,name:s.name,ownership:"want",savedAt:new Date().toISOString()})},"aria-label":c?.savedVehicles?.some(v=>v.name===s.name)?"Remove from saved":"Save vehicle",children:e.jsx(O,{size:18,fill:c?.savedVehicles?.some(v=>v.name===s.name)?"currentColor":"none"})})]})]},`${s.id}-${r}`)})})]}):e.jsxs("div",{className:"saved-sidebar__empty",children:[e.jsx(ve,{size:48,className:"saved-sidebar__empty-icon"}),e.jsx("h3",{className:"saved-sidebar__empty-title",children:"No recently viewed"}),e.jsx("p",{className:"saved-sidebar__empty-desc",children:"Start browsing vehicles and they'll appear here."}),e.jsx(I,{to:"/vehicles",className:"saved-sidebar__empty-cta",onClick:t,children:"Browse Vehicles"})]})}),x==="want"&&e.jsxs("div",{className:"saved-sidebar__section",children:[M.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"saved-sidebar__section-header",children:[e.jsxs("span",{className:"saved-sidebar__section-title",children:["Cars I Want (",M.length,")"]}),e.jsx("div",{className:"saved-sidebar__section-actions",children:M.length>=2&&(N?w.length>=2?e.jsxs(V,{variant:"primary",size:"small",className:"saved-sidebar__compare-action",onClick:_e,iconLeft:e.jsx(X,{size:14}),children:["COMPARE (",w.length,")"]}):e.jsx(V,{variant:"ghost",size:"small",className:"saved-sidebar__section-link",onClick:()=>{D(!1),F([])},children:"Cancel"}):e.jsx(V,{variant:"ghost",size:"small",className:"saved-sidebar__section-link",onClick:()=>D(!0),iconLeft:e.jsx(X,{size:14}),children:"COMPARE"}))})]}),N&&e.jsx("p",{className:"saved-sidebar__compare-hint",children:"Select 2-3 vehicles to compare"}),e.jsx("div",{className:"saved-sidebar__vehicles",children:M.map(s=>{const r=U(s.name),_=w.includes(s.id);return e.jsxs("div",{className:`saved-sidebar__vehicle-wrapper ${N?"saved-sidebar__vehicle-wrapper--with-checkbox":""} ${_?"saved-sidebar__vehicle-wrapper--selected":""}`,children:[N&&e.jsx("button",{className:`saved-sidebar__compare-checkbox ${_?"saved-sidebar__compare-checkbox--checked":""}`,onClick:()=>G(s.id),"aria-label":_?"Remove from compare":"Add to compare",children:_&&e.jsx(te,{size:14})}),e.jsxs(I,{to:r?`/${r.slug}`:"/vehicles",className:"saved-sidebar__vehicle",onClick:m=>{N?(m.preventDefault(),G(s.id)):t()},children:[e.jsx("div",{className:"saved-sidebar__vehicle-image",children:r?.image?e.jsx(Y,{src:r.image,alt:s.name,width:80,height:60}):e.jsx("div",{className:"saved-sidebar__vehicle-placeholder",children:e.jsx(K,{size:24})})}),e.jsxs("div",{className:"saved-sidebar__vehicle-info",children:[e.jsx("span",{className:"saved-sidebar__vehicle-name",children:s.name}),e.jsxs("div",{className:"saved-sidebar__vehicle-meta",children:[r&&e.jsxs("span",{className:"saved-sidebar__vehicle-price",children:["$",r.priceMin.toLocaleString()]}),r?.staffRating&&e.jsxs("span",{className:"saved-sidebar__vehicle-rating",children:[e.jsx(le,{size:12,fill:"currentColor"}),e.jsx("span",{children:r.staffRating.toFixed(1)}),e.jsx("span",{className:"saved-sidebar__vehicle-rating-label",children:"C/D"})]})]})]}),!N&&e.jsx("button",{className:"saved-sidebar__vehicle-unsave",onClick:m=>{m.preventDefault(),m.stopPropagation(),z(s.id)},"aria-label":"Remove from saved",title:"Remove from saved",children:e.jsx(O,{size:18,fill:"currentColor"})})]}),r&&!N&&e.jsxs("button",{className:"saved-sidebar__vehicle-dealers",onClick:()=>{ee({year:parseInt(r.year,10),make:r.make,model:r.model,msrp:r.priceMin,image:r.image,galleryImages:r.galleryImages,priceMin:r.priceMin,priceMax:r.priceMax}),Z(!0)},children:[e.jsx(Fe,{size:14}),e.jsx("span",{children:"See cars available near you"}),e.jsx(ge,{size:14})]})]},s.id)})})]}):!o&&e.jsxs("div",{className:"saved-sidebar__empty",children:[e.jsx(O,{size:48,className:"saved-sidebar__empty-icon"}),e.jsx("h3",{className:"saved-sidebar__empty-title",children:"No saved vehicles"}),e.jsx("p",{className:"saved-sidebar__empty-desc",children:'Use the "Add a Vehicle" button below to search and save vehicles you want.'}),e.jsxs(I,{to:"/vehicles",className:"saved-sidebar__empty-cta",onClick:t,children:["Browse All Vehicles ",e.jsx(ge,{size:16})]})]}),o?e.jsxs("div",{className:"saved-sidebar__add-vehicle",children:[e.jsxs("div",{className:"saved-sidebar__search-wrapper",children:[e.jsx(ne,{size:18,className:"saved-sidebar__search-icon"}),e.jsx("input",{ref:W,type:"text",className:"saved-sidebar__search-input",placeholder:"Search by year, make, or model...",value:u,onChange:p}),e.jsx("button",{className:"saved-sidebar__search-close",onClick:()=>{j(!1),H(""),T([])},children:e.jsx(q,{size:18})})]}),Q.length>0&&e.jsx("div",{className:"saved-sidebar__search-results",children:Q.map(s=>e.jsxs("button",{className:"saved-sidebar__search-result",onClick:()=>me(s),children:[e.jsx("div",{className:"saved-sidebar__search-result-image",children:e.jsx(Y,{src:s.image,alt:`${s.year} ${s.make} ${s.model}`,width:60,height:45})}),e.jsxs("div",{className:"saved-sidebar__search-result-info",children:[e.jsxs("span",{className:"saved-sidebar__search-result-name",children:[s.year," ",s.make," ",s.model]}),e.jsxs("span",{className:"saved-sidebar__search-result-price",children:["$",s.priceMin.toLocaleString()," - $",s.priceMax.toLocaleString()]})]}),e.jsx(re,{size:18,className:"saved-sidebar__search-result-add"})]},s.id))}),u.length>=2&&Q.length===0&&e.jsxs("div",{className:"saved-sidebar__search-no-results",children:['No vehicles found for "',u,'"']})]}):e.jsx(V,{variant:"outline",className:"saved-sidebar__add-btn",onClick:()=>j(!0),iconLeft:e.jsx(re,{size:18}),children:"Add a Vehicle"})]}),x==="own"&&e.jsxs("div",{className:"saved-sidebar__section",children:[P.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"saved-sidebar__section-header",children:e.jsxs("span",{className:"saved-sidebar__section-title",children:["Cars I Own (",P.length,")"]})}),e.jsx("div",{className:"saved-sidebar__vehicles",children:P.map(s=>{const r=U(s.name);return e.jsxs(I,{to:r?`/${r.slug}`:"/vehicles",className:"saved-sidebar__vehicle",onClick:t,children:[e.jsx("div",{className:"saved-sidebar__vehicle-image",children:r?.image?e.jsx(Y,{src:r.image,alt:s.name,width:80,height:60}):e.jsx("div",{className:"saved-sidebar__vehicle-placeholder",children:e.jsx(K,{size:24})})}),e.jsxs("div",{className:"saved-sidebar__vehicle-info",children:[e.jsx("span",{className:"saved-sidebar__vehicle-name",children:s.name}),e.jsxs("div",{className:"saved-sidebar__vehicle-meta",children:[r&&e.jsxs("span",{className:"saved-sidebar__vehicle-price",children:["$",r.priceMin.toLocaleString()]}),r?.staffRating&&e.jsxs("span",{className:"saved-sidebar__vehicle-rating",children:[e.jsx(le,{size:12,fill:"currentColor"}),e.jsx("span",{children:r.staffRating.toFixed(1)}),e.jsx("span",{className:"saved-sidebar__vehicle-rating-label",children:"C/D"})]})]})]}),e.jsx("button",{className:"saved-sidebar__vehicle-unsave",onClick:_=>{_.preventDefault(),_.stopPropagation(),z(s.id)},"aria-label":"Remove from saved",title:"Remove from saved",children:e.jsx(O,{size:18,fill:"currentColor"})})]},s.id)})})]}),P.length===0&&!k&&e.jsxs("div",{className:"saved-sidebar__empty",children:[e.jsx(K,{size:48,className:"saved-sidebar__empty-icon"}),e.jsx("h3",{className:"saved-sidebar__empty-title",children:"No vehicles added"}),e.jsx("p",{className:"saved-sidebar__empty-desc",children:'Use the "Add a Vehicle" button below to add cars you own.'})]}),k?e.jsxs("div",{className:"saved-sidebar__add-vehicle",children:[e.jsxs("div",{className:"saved-sidebar__search-wrapper",children:[e.jsx(ne,{size:18,className:"saved-sidebar__search-icon"}),e.jsx("input",{ref:A,type:"text",className:"saved-sidebar__search-input",placeholder:"Search by year, make, or model...",value:b,onChange:i}),e.jsx("button",{className:"saved-sidebar__search-close",onClick:()=>{a(!1),d(""),E([])},children:e.jsx(q,{size:18})})]}),y.length>0&&e.jsx("div",{className:"saved-sidebar__search-results",children:y.map(s=>e.jsxs("button",{className:"saved-sidebar__search-result",onClick:()=>de(s),children:[e.jsx("div",{className:"saved-sidebar__search-result-image",children:e.jsx(Y,{src:s.image,alt:`${s.year} ${s.make} ${s.model}`,width:60,height:45})}),e.jsxs("div",{className:"saved-sidebar__search-result-info",children:[e.jsxs("span",{className:"saved-sidebar__search-result-name",children:[s.year," ",s.make," ",s.model]}),e.jsxs("span",{className:"saved-sidebar__search-result-price",children:["$",s.priceMin.toLocaleString()," - $",s.priceMax.toLocaleString()]})]}),e.jsx(re,{size:18,className:"saved-sidebar__search-result-add"})]},s.id))}),b.length>=2&&y.length===0&&e.jsxs("div",{className:"saved-sidebar__search-no-results",children:['No vehicles found for "',b,'"']})]}):e.jsx(V,{variant:"outline",className:"saved-sidebar__add-btn",onClick:()=>a(!0),iconLeft:e.jsx(re,{size:18}),children:"Add a Vehicle"})]})]}),e.jsx("div",{className:"saved-sidebar__footer",children:e.jsx(V,{as:"a",href:"/account?tab=saved",variant:"primary",fullWidth:!0,className:"saved-sidebar__footer-btn",onClick:t,children:"View All Saved"})})]}),B&&e.jsx(He,{isOpen:J,onClose:()=>{Z(!1),ee(null)},vehicle:B}),e.jsx(be,{isOpen:ce,onClose:()=>{se(!1),D(!1),F([])},vehicles:Ce()})]})};Ne.__docgenInfo={description:"",methods:[],displayName:"SavedVehiclesSidebar",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const fe="cd_welcome_tooltip_shown",Je=()=>{const n=ye(),t=Se(),{user:c,isAuthenticated:S,signOut:z}=je(),[x,h]=l.useState(!1),[f,R]=l.useState(""),[k,a]=l.useState([]),[o,j]=l.useState(!1),[b,d]=l.useState(-1),[u,H]=l.useState(!1),[y,E]=l.useState(!1),[Q,T]=l.useState(!1),[A,W]=l.useState(!1),J=l.useRef(null),Z=l.useRef(null),B=l.useRef(null),{getRating:ee}=Le();l.useEffect(()=>{if(S&&c?.onboardingCompleted&&!localStorage.getItem(fe)){const p=setTimeout(()=>{W(!0)},500);return()=>clearTimeout(p)}},[S,c?.onboardingCompleted]),l.useEffect(()=>{const i=p=>{B.current&&!B.current.contains(p.target)&&N()};if(A)return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[A]);const N=()=>{W(!1),localStorage.setItem(fe,"true")},D="https://d2kde5ohu8qb21.cloudfront.net/files/659f9ed490e84500088bd486/012-2024-lamborghini-revuelto.jpg",w=l.useMemo(()=>{const i=n.pathname.match(/^\/(\d{4})\/([^/]+)\/([^/]+)/);if(i){const[,p,de,me]=i,G=`${p}/${de}/${me}`;return ke(G)}return null},[n.pathname]),F=w?.image||(w?D:void 0),ce=i=>ee(i.id,Me(i.bodyStyle),i.staffRating),se=[{label:"Browse All Vehicles",href:"/vehicles",isRoute:!0},{label:"Shop New Cars",href:"/vehicles?type=new&sort=rating",isRoute:!0},{label:"Shop Used Cars",href:"/vehicles?type=used&sort=price-low",isRoute:!0},{label:"Research Cars",href:"#"},{label:"Expert Reviews",href:"/rankings",isRoute:!0},{label:"What's My Car Worth?",href:"/whats-my-car-worth",isRoute:!0},{label:"News + Stories",href:"/news"}];l.useEffect(()=>{if(f.trim().length>=2){const i=Ve(f).slice(0,8);a(i),j(!0)}else a([]),j(!1);d(-1)},[f]),l.useEffect(()=>{const i=p=>{J.current&&!J.current.contains(p.target)&&j(!1),Z.current&&!Z.current.contains(p.target)&&E(!1)};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[]);const oe=async()=>{await z(),E(!1),t("/")},U=i=>{i.preventDefault(),f.trim()&&(t(`/vehicles?search=${encodeURIComponent(f.trim())}`),R(""),j(!1))},M=i=>{t(`/${i.slug}`),R(""),j(!1)},P=i=>{!o||k.length===0||(i.key==="ArrowDown"?(i.preventDefault(),d(p=>p<k.length-1?p+1:p)):i.key==="ArrowUp"?(i.preventDefault(),d(p=>p>0?p-1:-1)):i.key==="Enter"&&b>=0?(i.preventDefault(),M(k[b])):i.key==="Escape"&&j(!1))};return e.jsxs("header",{className:"header",children:[e.jsxs("div",{className:"header__container",children:[e.jsxs("div",{className:"header__top",children:[e.jsx("button",{className:"header__mobile-menu-btn",onClick:()=>h(!x),"aria-label":x?"Close menu":"Open menu",children:x?e.jsx(q,{size:24}):e.jsx(Oe,{size:24})}),e.jsx(I,{to:"/",className:"header__logo","aria-label":"Car and Driver Home",children:e.jsxs("svg",{viewBox:"0 0 1364 262",className:"header__logo-svg header__logo-svg--animated",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M68.022 210.901C74.858 210.901 76.91 205.432 76.91 197.571V146.641H132.626V199.276C132.626 231.41 116.903 261.83 72.468 261.83H62.554C15.04 261.83 0 233.462 0 194.496V65.289C0 28.712 16.408 0 62.213 0H72.468C117.588 0 132.626 25.978 132.626 59.473V101.177H76.91V61.869C76.91 53.667 74.858 49.222 67.682 49.222C60.502 49.222 58.452 52.982 58.452 61.869V197.571C58.452 206.114 60.846 210.901 68.022 210.901Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M272.324 257.729H217.63L213.53 220.47H187.551L183.791 257.729H134.911L167.384 3.41907H236.774L272.324 257.729ZM192.681 170.223H208.402L200.54 92.9747L192.681 170.223Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M366.797 3.41907C391.752 3.41907 408.842 18.1158 408.842 48.1925V81.6935C408.842 105.278 396.534 115.873 386.624 120.318C396.194 124.079 408.842 134.331 408.842 153.477V237.561C408.842 247.13 410.55 252.601 412.258 256.021V257.729H356.542C354.149 254.654 352.101 248.844 352.101 239.616V165.781C352.101 157.237 350.047 153.477 342.527 153.477H334.666V257.729H278.268V3.41907H366.797ZM334.665 105.623H341.845C349.021 105.623 352.1 102.203 352.1 93.3126V59.1349C352.1 50.245 350.391 47.1691 342.871 47.1691H334.666L334.665 105.623Z"}),e.jsx("path",{className:"header__logo-bar",d:"M428.499 63.023H594.769V3.61597H428.5L428.499 63.023Z",fill:"#D2232A"}),e.jsx("path",{className:"header__logo-bar",d:"M428.499 257.046H594.769V197.644H428.5L428.499 257.046Z",fill:"#0061AF"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M481.039 182.672H461.599L460.098 167.332H449.987L448.607 182.672H430.7L442.597 77.9894H468.019L481.039 182.672ZM451.864 147.839H458.219L454.742 111.882L451.864 147.839Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M486.974 182.672V77.9889H507.008L517.652 128.64V77.9889H535.31V182.671H517.152L504.881 128.077V182.672H486.974Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M573.909 77.9874C585.429 77.9875 592.567 84.3239 592.567 101.067V158.609C592.567 174.929 586.18 182.672 574.035 182.672H544.356V77.9874H573.909ZM564.175 162.549H567.647C570.653 162.549 571.531 160.579 571.531 156.219V103.459C571.531 99.2341 570.653 97.4093 567.898 97.4093H564.175V162.549Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M696.341 3.41907C727.79 3.41907 747.273 18.8019 747.273 59.4728V199.276C747.273 238.928 729.839 257.729 696.682 257.729H615.674V3.41907H696.341ZM671.389 208.852H679.251C687.454 208.852 689.847 204.065 689.847 193.469V65.2892C689.847 55.0342 687.453 50.589 679.933 50.589H671.389V208.852Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M845.438 3.41907C870.393 3.41907 887.48 18.1158 887.48 48.1925V81.6935C887.48 105.278 875.177 115.873 865.264 120.318C874.833 124.079 887.48 134.331 887.48 153.477V237.561C887.48 247.13 889.191 252.601 890.899 256.021V257.729H835.183C832.79 254.654 830.738 248.844 830.738 239.616V165.781C830.738 157.237 828.689 153.477 821.169 153.477H813.307L813.308 257.729H756.907V3.41907H845.438ZM813.307 105.623H820.482C827.662 105.623 830.737 102.203 830.737 93.3126V59.1349C830.737 50.245 829.03 47.1691 821.51 47.1691H813.307V105.623Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M956.492 257.732H900.092V3.41895H956.492V257.732Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M1073.15 257.729H999.319L962.748 3.41895H1022.22L1037.6 162.705L1052.99 3.41895H1107.34L1073.15 257.729Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M1113.59 257.729V3.41895H1219.21V56.0569H1169.3V99.4689H1209.3V153.477H1169.3V204.065H1221.26V257.729H1113.59Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M1285.45 47.1689H1293.65C1301.17 47.1689 1302.88 50.2449 1302.88 59.1349V93.313C1302.88 102.203 1299.81 105.623 1292.63 105.623H1285.45V47.1689ZM1285.45 153.477H1293.31C1300.83 153.477 1302.88 157.237 1302.88 165.781V239.616C1302.88 248.844 1304.93 254.654 1307.33 257.729H1363.04V256.021C1361.33 252.601 1359.62 247.131 1359.62 237.561V153.477C1359.62 134.331 1346.98 124.08 1337.41 120.319C1347.32 115.874 1359.62 105.279 1359.62 81.6939V48.1929C1359.62 18.1159 1342.54 3.41895 1317.58 3.41895H1229.05V257.729H1285.45V153.477Z"})]})}),e.jsxs("form",{className:"header__search-bar",onSubmit:U,ref:J,children:[e.jsx("input",{type:"text",className:"header__search-input",placeholder:"Search vehicles...",value:f,onChange:i=>R(i.target.value),onKeyDown:P,onFocus:()=>f.trim().length>=2&&j(!0)}),e.jsx("button",{type:"submit",className:"header__search-btn","aria-label":"Search",children:e.jsx(ne,{size:20})}),o&&k.length>0&&e.jsxs("div",{className:"header__suggestions",children:[k.map((i,p)=>e.jsxs("div",{className:`header__suggestion ${p===b?"header__suggestion--active":""}`,children:[e.jsx("img",{src:i.image||"/placeholder-car.png",alt:`${i.make} ${i.model}`,className:"header__suggestion-image",onClick:()=>M(i)}),e.jsxs("div",{className:"header__suggestion-info",onClick:()=>M(i),children:[e.jsxs("span",{className:"header__suggestion-name",children:[i.year," ",i.make," ",i.model]}),e.jsx("span",{className:"header__suggestion-price",children:i.priceRange})]}),e.jsxs("span",{className:"header__suggestion-rating",children:[e.jsx("span",{className:"header__suggestion-rating-score",children:ce(i)}),"/10"]}),e.jsxs("div",{className:"header__suggestion-ctas",children:[e.jsx("button",{type:"button",className:"header__suggestion-cta header__suggestion-cta--buy",onClick:()=>{t(`/${i.slug}#pricing`),R(""),j(!1)},children:"Buy"}),e.jsx("button",{type:"button",className:"header__suggestion-cta header__suggestion-cta--research",onClick:()=>M(i),children:"Research"})]})]},i.id)),e.jsxs("button",{type:"submit",className:"header__suggestion header__suggestion--all",children:[e.jsx(ne,{size:16}),e.jsxs("span",{children:['See all results for "',f,'"']})]})]})]}),e.jsxs("div",{className:"header__actions",children:[S?e.jsxs("button",{className:"header__saved-btn",onClick:()=>T(!0),"aria-label":"My Garage",children:[e.jsx(O,{size:18,fill:"currentColor"}),e.jsx("span",{className:"header__saved-btn-text",children:"My Garage"})]}):e.jsx(V,{variant:"primary",size:"small",onClick:()=>H(!0),className:"header__subscribe-btn",children:"Subscribe"}),e.jsx("div",{className:"header__user-container",ref:Z,children:S&&c?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"header__user-btn header__user-btn--authenticated",onClick:()=>{A&&N(),E(!y)},"aria-label":"User menu","aria-expanded":y,children:e.jsx("div",{className:"header__user-avatar",children:ie(c.avatar)?e.jsx("img",{src:ie(c.avatar),alt:c.name||"User avatar",className:"header__user-avatar-img"}):e.jsx("span",{children:xe(c.name)})})}),A&&e.jsxs("div",{ref:B,className:"header__welcome-tooltip",role:"dialog","aria-labelledby":"welcome-tooltip-title",children:[e.jsx("div",{className:"header__welcome-tooltip-arrow"}),e.jsx("button",{className:"header__welcome-tooltip-close",onClick:N,"aria-label":"Close welcome message",children:e.jsx(q,{size:16})}),e.jsxs("div",{className:"header__welcome-tooltip-header",children:[e.jsx(Pe,{size:24,className:"header__welcome-tooltip-icon"}),e.jsxs("h3",{id:"welcome-tooltip-title",className:"header__welcome-tooltip-title",children:["Welcome, ",c.name?.split(" ")[0]||"Member","! ðŸŽ‰"]})]}),e.jsx("p",{className:"header__welcome-tooltip-subtitle",children:"You're all set! Here's what you can do:"}),e.jsxs("ul",{className:"header__welcome-tooltip-features",children:[e.jsxs("li",{className:"header__welcome-tooltip-feature",children:[e.jsx("div",{className:"header__welcome-tooltip-feature-icon",children:e.jsx(O,{size:18})}),e.jsxs("div",{className:"header__welcome-tooltip-feature-text",children:[e.jsx("strong",{children:"Save Cars"}),e.jsx("span",{children:"Bookmark vehicles you love to your garage"})]})]}),e.jsxs("li",{className:"header__welcome-tooltip-feature",children:[e.jsx("div",{className:"header__welcome-tooltip-feature-icon",children:e.jsx(X,{size:18})}),e.jsxs("div",{className:"header__welcome-tooltip-feature-text",children:[e.jsx("strong",{children:"Compare Cars"}),e.jsx("span",{children:"See how vehicles stack up side by side"})]})]}),e.jsxs("li",{className:"header__welcome-tooltip-feature",children:[e.jsx("div",{className:"header__welcome-tooltip-feature-icon",children:e.jsx(K,{size:18})}),e.jsxs("div",{className:"header__welcome-tooltip-feature-text",children:[e.jsx("strong",{children:"Track Prices"}),e.jsx("span",{children:"Get alerts when prices drop on saved cars"})]})]})]}),e.jsx("button",{className:"header__welcome-tooltip-cta",onClick:()=>{N(),t("/vehicles")},children:"Start Exploring"})]}),y&&e.jsxs("div",{className:"header__user-menu",children:[e.jsxs("div",{className:"header__user-menu-header",children:[e.jsx("div",{className:"header__user-menu-avatar",children:ie(c.avatar)?e.jsx("img",{src:ie(c.avatar),alt:c.name||"User avatar",className:"header__user-menu-avatar-img"}):e.jsx("span",{children:xe(c.name)})}),e.jsxs("div",{className:"header__user-menu-info",children:[e.jsx("span",{className:"header__user-menu-name",children:c.name||"Member"}),e.jsx("span",{className:"header__user-menu-email",children:c.email})]})]}),e.jsx("div",{className:"header__user-menu-divider"}),e.jsxs(I,{to:"/account",className:"header__user-menu-item",onClick:()=>E(!1),children:[e.jsx(We,{size:18}),e.jsx("span",{children:"My Account"})]}),e.jsx("div",{className:"header__user-menu-divider"}),e.jsxs("button",{className:"header__user-menu-item header__user-menu-item--danger",onClick:oe,children:[e.jsx(Te,{size:18}),e.jsx("span",{children:"Sign Out"})]})]})]}):e.jsx(I,{to:"/sign-in",className:"header__user-btn","aria-label":"Sign in",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M21.649 19.875c-1.428-2.468-3.629-4.239-6.196-5.078a6.75 6.75 0 1 0-6.906 0c-2.568.839-4.768 2.609-6.196 5.078a.75.75 0 1 0 1.299.75C5.416 17.573 8.538 15.75 12 15.75c3.462 0 6.584 1.823 8.35 4.875a.75.75 0 1 0 1.299-.75ZM6.749 9a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0Z",fill:"currentColor"})})})})]})]}),e.jsx("nav",{className:`header__nav ${x?"header__nav--open":""}`,children:e.jsx("ul",{className:"header__nav-list",children:se.map((i,p)=>e.jsx("li",{className:"header__nav-item",children:i.isRoute?e.jsx(I,{to:i.href,className:"header__nav-link",children:i.label}):e.jsx("a",{href:i.href,className:"header__nav-link",children:i.label})},p))})})]}),e.jsx(Re,{isOpen:u,onClose:()=>H(!1),vehicleName:w?`${w.year} ${w.make} ${w.model}`:void 0,vehicleImage:F,enableExitIntent:!0}),e.jsx(Ne,{isOpen:Q,onClose:()=>T(!1)})]})};Je.__docgenInfo={description:"",methods:[],displayName:"Header"};export{Je as H,ks as a};
