import{r as c,j as e,L}from"./iframe-CqAfinKm.js";import{f as W,h as B}from"./vehicleService-ByoDejvg.js";import{C as $}from"./chevron-right-D2IyJY7Z.js";const q=(t,a)=>{const s=c.useRef(null),[r,i]=c.useState(!1),[l,d]=c.useState(!1),[m,g]=c.useState(!1),h=c.useCallback(()=>{if(!s.current||!a){i(!1),d(!1),g(!1);return}const u=s.current.querySelectorAll(".vehicle-ranking__card-header");if(u.length===0)return;let f=!1,p=!1,v=!1;u.forEach((_,n)=>{const k=t[n];if(!k)return;const x=_.clientWidth,N=_.querySelector(".vehicle-ranking__card-rating"),b=_.querySelector(".vehicle-ranking__card-divider"),y=N?N.offsetWidth:0,V=b?b.offsetWidth:0,w=x-y-V-24,T=x;let j=20;window.innerWidth<=320?j=12:window.innerWidth<=600&&(j=14);const o=document.createElement("span");o.style.cssText=`
        position: absolute;
        visibility: hidden;
        white-space: nowrap;
        font-family: var(--font-heading);
        font-size: ${j}px;
        font-weight: 800;
      `,document.body.appendChild(o);const C=k.name,R=C.split(" ").slice(1).join(" ");o.textContent=C;const S=o.offsetWidth;o.textContent=R;const E=o.offsetWidth;document.body.removeChild(o),S>w&&(p=!0,E>w&&(f=!0,S>T&&(v=!0)))}),d(p&&!f),i(f),g(v)},[t,a]);return c.useEffect(()=>{const u=setTimeout(h,50);return window.addEventListener("resize",h),()=>{clearTimeout(u),window.removeEventListener("resize",h)}},[h]),{gridRef:s,globalStack:r,useShortNames:l,useSmallFont:m}},F=({vehicle:t,showScore:a,scoreStyle:s,isStacked:r,useShortName:i,useSmallFont:l})=>{const d=i?t.name.split(" ").slice(1).join(" "):t.name,m=["vehicle-ranking__card-header",r?"vehicle-ranking__card-header--stacked":"",l?"vehicle-ranking__card-header--small-font":""].filter(Boolean).join(" ");return e.jsxs("div",{className:"vehicle-ranking__card-info",children:[e.jsxs("div",{className:m,children:[e.jsx("h3",{className:"vehicle-ranking__card-name",children:d}),a&&e.jsxs(e.Fragment,{children:[!r&&e.jsx("div",{className:"vehicle-ranking__card-divider"}),e.jsxs("div",{className:`vehicle-ranking__card-rating ${s==="subtle"?"vehicle-ranking__card-rating--subtle":""}`,children:[e.jsx("span",{className:"vehicle-ranking__card-rating-score",children:t.rating}),e.jsx("span",{className:"vehicle-ranking__card-rating-max",children:"/10"})]})]})]}),e.jsxs("p",{className:"vehicle-ranking__card-price",children:[e.jsx("span",{className:"vehicle-ranking__card-price-label",children:"STARTING AT:"})," ",t.price]}),e.jsxs("div",{className:`cta cta--md cta--full vehicle-ranking__card-cta ${t.isCurrentVehicle?"cta--primary":"cta--outline"}`,children:[e.jsxs("span",{className:"vehicle-ranking__card-cta-full",children:["SHOP ",t.name.toUpperCase()]}),e.jsxs("span",{className:"vehicle-ranking__card-cta-short",children:["SHOP ",t.name.split(" ").slice(1).join(" ").toUpperCase()]})]})]})},M=(t,a)=>{const s=a&&a<35e3?"Subcompact ":a&&a<5e4?"Compact ":a&&a<8e4?"Midsize ":a&&a>1e5?"Luxury ":"";switch(t.toLowerCase()){case"suv":return`Best ${s}SUVs`;case"sedan":return`Best ${s}Sedans`;case"truck":return`Best ${s}Trucks`;case"coupe":return`Best ${s}Coupes`;case"hatchback":return`Best ${s}Hatchbacks`;case"convertible":return`Best ${s}Convertibles`;case"wagon":return`Best ${s}Wagons`;default:return`Best ${t}s`}},U=35e3,z=({category:t,currentRank:a,vehicles:s,bodyStyle:r="SUV",currentVehicleId:i,maxPrice:l=U,showScore:d=!1,scoreStyle:m="bold"})=>{const g=c.useMemo(()=>s&&s.length>0?s:W(r,i,6,l),[s,r,i,l]),h=c.useMemo(()=>a||(i?B(r,i,l):1),[a,r,i,l]),u=t||M(r,l),{gridRef:f,globalStack:p,useShortNames:v,useSmallFont:_}=q(g,d);return e.jsx("section",{className:"vehicle-ranking",children:e.jsxs("div",{className:"vehicle-ranking__card-wrapper",children:[e.jsxs("div",{className:"vehicle-ranking__header",children:[e.jsx("h2",{className:"vehicle-ranking__title",children:"Where This Vehicle Ranks"}),e.jsxs("a",{href:"#",className:"vehicle-ranking__category-link",children:[e.jsxs("span",{className:"vehicle-ranking__category-rank",children:["#",h]}),e.jsxs("span",{className:"vehicle-ranking__category-name",children:["in ",u]}),e.jsx($,{size:20})]})]}),e.jsx("div",{className:"vehicle-ranking__grid",ref:f,children:g.map(n=>e.jsxs(L,{to:`/${n.slug}`,className:`vehicle-ranking__card ${n.isCurrentVehicle?"vehicle-ranking__card--current":""}`,children:[e.jsxs("div",{className:"vehicle-ranking__card-image",children:[e.jsx("span",{className:`vehicle-ranking__card-rank ${n.isCurrentVehicle?"vehicle-ranking__card-rank--current":""}`,children:n.rank}),e.jsx("img",{src:n.image,alt:n.name})]}),(n.editorsChoice||n.tenBest||n.evOfTheYear)&&e.jsxs("div",{className:"vehicle-ranking__card-accolades",onClick:k=>k.preventDefault(),children:[n.editorsChoice&&e.jsx("div",{className:"vehicle-ranking__card-accolade","data-tooltip":"Editors' Choice",children:e.jsxs("svg",{viewBox:"0 0 261 240",width:"24",height:"22",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M259.43 93.03s4.576-5.936-2.599-8.963l-25.513-10.773s-7.173-3.029-6.438-10.284l2.61-25.654s.735-7.256-7.113-6.579l-27.969 2.403s-7.853.675-11.155-5.942L169.561 3.812s-3.305-6.617-9.745-2.415l-22.898 14.93s-6.44 4.202-12.881 0l-22.895-14.93S94.7-2.805 91.4 3.812L79.703 27.238s-3.302 6.617-11.155 5.942l-27.969-2.403s-7.849-.677-7.114 6.579l2.611 25.654s.737 7.255-6.438 10.284L4.125 84.067s-7.175 3.027-2.6 8.962l16.223 21.037s4.573 5.935 0 11.868L1.526 146.971s-4.576 5.935 2.6 8.964l25.512 10.773s7.175 3.027 6.438 10.283l-2.61 25.653s-.736 7.256 7.113 6.581l27.969-2.405s7.853-.675 11.155 5.942L91.4 236.188s3.3 6.617 9.742 2.415l22.895-14.933s6.441-4.199 12.881 0l22.898 14.933s6.44 4.202 9.745-2.415l11.692-23.426s3.302-6.617 11.155-5.942l27.969 2.405s7.848.675 7.113-6.581l-2.61-25.653s-.735-7.256 6.438-10.283l25.513-10.773s7.175-3.029 2.599-8.964l-16.22-21.037s-4.573-5.933 0-11.868l16.22-21.037Z",fill:"#231F20"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#FEFEFE",d:"M184.986 99.46c-.14-4.326-.824-6.87-2.75-10.303-4.403-7.502-11.421-11.32-20.639-11.32-9.904 0-17.746 4.706-21.598 12.849-3.303 7.122-5.503 19.33-5.503 31.159 0 11.954 2.2 24.164 5.503 31.287 3.852 8.143 11.694 12.847 21.598 12.847 9.218 0 16.236-3.816 20.639-11.32 1.926-3.434 2.61-5.978 2.75-10.303h-12.931c-1.1 6.487-4.816 9.797-10.731 9.797-5.094 0-8.392-2.544-10.458-8.013-1.787-4.71-3.163-15.519-3.163-24.295 0-7.887 1.237-18.314 2.89-23.146 1.923-6.233 5.363-9.034 10.731-9.034 5.915 0 9.631 3.31 10.731 9.795h12.931ZM75.926 79.49v84.835h45.813v-11.828h-33.02v-28.109h19.537V112.56H88.72V91.318h31.506V79.49h-44.3Z"})]})}),n.tenBest&&e.jsx("div",{className:"vehicle-ranking__card-accolade","data-tooltip":"10BEST",children:e.jsx("img",{src:"https://www.caranddriver.com/_assets/design-tokens/caranddriver/static/images/badges-no-text/ten-best.bcb6ac1.svg",alt:"10Best",width:"24",height:"27"})}),n.evOfTheYear&&e.jsx("div",{className:"vehicle-ranking__card-accolade","data-tooltip":"EV of the Year",children:e.jsx("img",{src:"https://www.caranddriver.com/_assets/design-tokens/caranddriver/static/images/badges-no-text/ev-of-the-year.721e420.svg",alt:"EV of the Year",width:"24",height:"24"})})]}),e.jsx(F,{vehicle:n,showScore:d,scoreStyle:m,isStacked:p,useShortName:v&&!p,useSmallFont:_})]},n.id))})]})})};z.__docgenInfo={description:"",methods:[],displayName:"VehicleRanking",props:{category:{required:!1,tsType:{name:"string"},description:""},currentRank:{required:!1,tsType:{name:"number"},description:""},vehicles:{required:!1,tsType:{name:"Array",elements:[{name:"RankedVehicle"}],raw:"RankedVehicle[]"},description:""},bodyStyle:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'SUV'",computed:!1}},currentVehicleId:{required:!1,tsType:{name:"string"},description:""},maxPrice:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"35000",computed:!1}},showScore:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},scoreStyle:{required:!1,tsType:{name:"union",raw:"'bold' | 'subtle'",elements:[{name:"literal",value:"'bold'"},{name:"literal",value:"'subtle'"}]},description:"",defaultValue:{value:"'bold'",computed:!1}}}};export{z as V};
