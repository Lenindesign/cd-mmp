import{u as de,r as l,j as e,L as N,k as oe,d as me}from"./iframe-40V3jQdk.js";import{i as he,s as ue}from"./vehicleService-DsqcyNHv.js";import{u as _e,g as ve}from"./useSupabaseRating-WJ1yHKPn.js";import{v as b,s as F,c as ge,a as ie}from"./index-BIJ_Z0xc.js";import{B as z}from"./Button-BDChmRQ5.js";import{E as pe}from"./ExitIntentModal-D8iJTX8q.js";import{O as W}from"./OptimizedImage-i_zMdbbB.js";import"./DealerLocatorMap-D0ZIJhkV.js";import"./MakeOfferModal-Ckdhc1tz.js";import"./OfferNegotiation-DNPbSqJF.js";import{D as xe}from"./DealerMapModal-Cc-urjRg.js";import{C as le}from"./clock-DWTjCt01.js";import{B as I}from"./bookmark-B-PhI2jn.js";import{C as G}from"./car-JwSDcvwG.js";import{X as J}from"./x-Ba8OxwI0.js";import{T as je,M as fe,L as be}from"./trash-2-CtSeSGTc.js";import{C as re}from"./chevron-right-UeRPZ7MI.js";import{M as Ne}from"./map-pin-BLTVLnW9.js";import{S as Y}from"./search-CmNSNVQn.js";import{P as Q}from"./plus-gFqK-jBT.js";import{U as Ce}from"./user-DwMzJyHR.js";const we=(t,i)=>b.find(n=>n.make===t&&n.model===i),ye={"avatar-family":{make:"Honda",model:"Pilot",fallback:ie},"avatar-adventure":{make:"Jeep",model:"Wrangler",fallback:ie},"avatar-luxury":{make:"Mercedes-Benz",model:"S-Class",fallback:F},"avatar-eco-friendly":{make:"Tesla",model:"Model 3",fallback:F},"avatar-performance":{make:"Porsche",model:"911",fallback:ge},"avatar-commuter":{make:"Toyota",model:"Camry",fallback:F},"avatar-value":{make:"Honda",model:"Civic",fallback:F}},q=t=>{if(!t||t==="initials")return null;const i=ye[t];return i&&(we(i.make,i.model)||i.fallback[0])?.image||null},ne=t=>{if(!t)return"U";const i=t.split(" ");return i.length>=2?`${i[0][0]}${i[1][0]}`.toUpperCase():i[0].substring(0,2).toUpperCase()},te="recentlyViewedVehicles",Se=20,Ve=()=>{try{const t=localStorage.getItem(te);return t?JSON.parse(t):[]}catch{return[]}},Ye=t=>{try{const i=Ve(),n={id:t.id,name:`${t.year} ${t.make} ${t.model}`,slug:t.slug,image:t.image,price:t.priceMin,mileage:t.mileage,viewedAt:new Date().toISOString()},C=i.filter(v=>v.id!==t.id&&v.slug!==t.slug),y=[n,...C].slice(0,Se);localStorage.setItem(te,JSON.stringify(y))}catch(i){console.error("Error saving recently viewed vehicle:",i)}},ke=()=>{try{localStorage.removeItem(te)}catch(t){console.error("Error clearing recently viewed vehicles:",t)}},ce=({isOpen:t,onClose:i})=>{const{user:n,addSavedVehicle:C,removeSavedVehicle:y}=de(),[v,K]=l.useState("recently-viewed"),[u,w]=l.useState([]),[x,A]=l.useState(!1),[S,g]=l.useState(!1),[V,k]=l.useState(""),[Z,E]=l.useState(""),[L,j]=l.useState([]),[U,H]=l.useState([]),M=l.useRef(null),$=l.useRef(null),[X,B]=l.useState(!1),[f,T]=l.useState(null);l.useEffect(()=>{const s=localStorage.getItem("recentlyViewedVehicles");if(s)try{const a=JSON.parse(s);w(a.slice(0,10))}catch{w([])}},[t]);const ee=()=>{ke(),w([])},P=s=>{const a=s.split(" ");if(a.length>=1&&/^\d{4}$/.test(a[0])&&a.length>=3){const _=parseInt(a[0]),h=a[1],p=a.slice(2).join(" ");let o=b.find(m=>Number(m.year)===_&&m.make.toLowerCase()===h.toLowerCase()&&m.model.toLowerCase()===p.toLowerCase());return o||(o=b.find(m=>m.make.toLowerCase()===h.toLowerCase()&&m.model.toLowerCase()===p.toLowerCase())),o||(o=b.find(m=>m.make.toLowerCase()===h.toLowerCase()&&(m.model.toLowerCase().includes(p.toLowerCase())||p.toLowerCase().includes(m.model.toLowerCase())))),o}else if(a.length>=2){const _=a[0],h=a.slice(1).join(" ");let p=b.find(o=>o.make.toLowerCase()===_.toLowerCase()&&o.model.toLowerCase()===h.toLowerCase());if(p||(p=b.find(o=>o.make.toLowerCase()===_.toLowerCase()&&(o.model.toLowerCase().includes(h.toLowerCase())||h.toLowerCase().includes(o.model.toLowerCase())))),!p){const o=s.toLowerCase();p=b.find(m=>`${m.make} ${m.model}`.toLowerCase().includes(o)||o.includes(`${m.make} ${m.model}`.toLowerCase()))}return p}return null},O=n?.savedVehicles?.filter(s=>s.ownership==="want")||[],R=n?.savedVehicles?.filter(s=>s.ownership==="own")||[],D=s=>{const a=s.target.value;if(k(a),a.length>=2){const d=b.filter(_=>`${_.year} ${_.make} ${_.model}`.toLowerCase().includes(a.toLowerCase())).slice(0,6);j(d)}else j([])},se=s=>{const a=s.target.value;if(E(a),a.length>=2){const d=b.filter(_=>`${_.year} ${_.make} ${_.model}`.toLowerCase().includes(a.toLowerCase())).slice(0,6);H(d)}else H([])},r=s=>{C({id:`own-${s.id}`,name:`${s.year} ${s.make} ${s.model}`,ownership:"own",savedAt:new Date().toISOString()}),k(""),j([]),A(!1)},c=s=>{C({id:`want-${s.id}`,name:`${s.year} ${s.make} ${s.model}`,ownership:"want",savedAt:new Date().toISOString()}),E(""),H([]),g(!1)};if(l.useEffect(()=>{x&&M.current&&M.current.focus()},[x]),l.useEffect(()=>{S&&$.current&&$.current.focus()},[S]),l.useEffect(()=>{const s=a=>{a.key==="Escape"&&i()};return t&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow=""}},[t,i]),!t)return null;const ae=[{id:"recently-viewed",label:"Recently Viewed",icon:e.jsx(le,{size:16}),count:u.length},{id:"want",label:"Cars I Want",icon:e.jsx(I,{size:16}),count:O.length},{id:"own",label:"Cars I Own",icon:e.jsx(G,{size:16}),count:R.length}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"saved-sidebar__overlay",onClick:i}),e.jsxs("aside",{className:"saved-sidebar",role:"dialog","aria-label":"Saved vehicles",children:[e.jsxs("div",{className:"saved-sidebar__header",children:[e.jsxs("div",{className:"saved-sidebar__header-content",children:[e.jsx(I,{size:20,fill:"currentColor",className:"saved-sidebar__header-icon"}),e.jsx("h2",{className:"saved-sidebar__title",children:"My Garage"})]}),e.jsx(z,{variant:"ghost",size:"small",className:"saved-sidebar__close",onClick:i,"aria-label":"Close sidebar",iconLeft:e.jsx(J,{size:24})})]}),e.jsxs("div",{className:"saved-sidebar__welcome",children:[e.jsx("span",{className:"saved-sidebar__welcome-text",children:"Welcome!"}),e.jsx("p",{className:"saved-sidebar__welcome-desc",children:"Here are the cars you've viewed, followed or own."})]}),e.jsx("div",{className:"saved-sidebar__tabs",children:ae.map(s=>e.jsxs("button",{className:`saved-sidebar__tab ${v===s.id?"saved-sidebar__tab--active":""}`,onClick:()=>K(s.id),children:[s.icon,e.jsx("span",{children:s.label}),s.count>0&&e.jsx("span",{className:"saved-sidebar__tab-count",children:s.count})]},s.id))}),e.jsxs("div",{className:"saved-sidebar__content",children:[v==="recently-viewed"&&e.jsx("div",{className:"saved-sidebar__section",children:u.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"saved-sidebar__section-header",children:[e.jsxs("span",{className:"saved-sidebar__section-title",children:["Recently Viewed (",u.length,")"]}),e.jsxs("div",{className:"saved-sidebar__section-actions",children:[e.jsx(z,{variant:"ghost",size:"small",className:"saved-sidebar__clear-btn",onClick:ee,iconLeft:e.jsx(je,{size:14}),children:"Clear"}),e.jsx(z,{as:"a",href:"/vehicles",variant:"ghost",size:"small",className:"saved-sidebar__section-link",onClick:i,iconRight:e.jsx(re,{size:14}),children:"Shop Now"})]})]}),e.jsx("div",{className:"saved-sidebar__vehicles",children:u.map((s,a)=>e.jsxs(N,{to:`/${s.slug}`,className:"saved-sidebar__vehicle",onClick:i,children:[e.jsx("div",{className:"saved-sidebar__vehicle-image",children:e.jsx(W,{src:s.image,alt:s.name,width:80,height:60})}),e.jsxs("div",{className:"saved-sidebar__vehicle-info",children:[e.jsx("span",{className:"saved-sidebar__vehicle-name",children:s.name}),e.jsxs("span",{className:"saved-sidebar__vehicle-price",children:["$",s.price.toLocaleString(),s.mileage&&e.jsxs("span",{className:"saved-sidebar__vehicle-mileage",children:["â€¢ ",s.mileage.toLocaleString()," mi"]})]})]}),e.jsx("button",{className:`saved-sidebar__vehicle-favorite ${n?.savedVehicles?.some(d=>d.name===s.name)?"saved-sidebar__vehicle-favorite--active":""}`,onClick:d=>{if(d.preventDefault(),d.stopPropagation(),n?.savedVehicles?.some(h=>h.name===s.name)){const h=n?.savedVehicles?.find(p=>p.name===s.name);h&&y(h.id)}else C({id:`want-${s.id}-${Date.now()}`,name:s.name,ownership:"want",savedAt:new Date().toISOString()})},"aria-label":n?.savedVehicles?.some(d=>d.name===s.name)?"Remove from saved":"Save vehicle",children:e.jsx(I,{size:18,fill:n?.savedVehicles?.some(d=>d.name===s.name)?"currentColor":"none"})})]},`${s.id}-${a}`))})]}):e.jsxs("div",{className:"saved-sidebar__empty",children:[e.jsx(le,{size:48,className:"saved-sidebar__empty-icon"}),e.jsx("h3",{className:"saved-sidebar__empty-title",children:"No recently viewed"}),e.jsx("p",{className:"saved-sidebar__empty-desc",children:"Start browsing vehicles and they'll appear here."}),e.jsx(N,{to:"/vehicles",className:"saved-sidebar__empty-cta",onClick:i,children:"Browse Vehicles"})]})}),v==="want"&&e.jsxs("div",{className:"saved-sidebar__section",children:[O.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"saved-sidebar__section-header",children:e.jsxs("span",{className:"saved-sidebar__section-title",children:["Cars I Want (",O.length,")"]})}),e.jsx("div",{className:"saved-sidebar__vehicles",children:O.map(s=>{const a=P(s.name);return e.jsxs("div",{className:"saved-sidebar__vehicle-wrapper",children:[e.jsxs(N,{to:a?`/${a.slug}`:"/vehicles",className:"saved-sidebar__vehicle",onClick:i,children:[e.jsx("div",{className:"saved-sidebar__vehicle-image",children:a?.image?e.jsx(W,{src:a.image,alt:s.name,width:80,height:60}):e.jsx("div",{className:"saved-sidebar__vehicle-placeholder",children:e.jsx(G,{size:24})})}),e.jsxs("div",{className:"saved-sidebar__vehicle-info",children:[e.jsx("span",{className:"saved-sidebar__vehicle-name",children:s.name}),a&&e.jsxs("span",{className:"saved-sidebar__vehicle-price",children:["Starting at $",a.priceMin.toLocaleString()]})]}),e.jsx("button",{className:"saved-sidebar__vehicle-unsave",onClick:d=>{d.preventDefault(),d.stopPropagation(),y(s.id)},"aria-label":"Remove from saved",title:"Remove from saved",children:e.jsx(I,{size:18,fill:"currentColor"})})]}),a&&e.jsxs("button",{className:"saved-sidebar__vehicle-dealers",onClick:()=>{T({year:parseInt(a.year,10),make:a.make,model:a.model,msrp:a.priceMin,image:a.image,galleryImages:a.galleryImages,priceMin:a.priceMin,priceMax:a.priceMax}),B(!0)},children:[e.jsx(Ne,{size:14}),e.jsx("span",{children:"See cars available near you"}),e.jsx(re,{size:14})]})]},s.id)})})]}):!S&&e.jsxs("div",{className:"saved-sidebar__empty",children:[e.jsx(I,{size:48,className:"saved-sidebar__empty-icon"}),e.jsx("h3",{className:"saved-sidebar__empty-title",children:"No saved vehicles"}),e.jsx("p",{className:"saved-sidebar__empty-desc",children:'Use the "Add a Vehicle" button below to search and save vehicles you want.'}),e.jsxs(N,{to:"/vehicles",className:"saved-sidebar__empty-cta",onClick:i,children:["Browse All Vehicles ",e.jsx(re,{size:16})]})]}),S?e.jsxs("div",{className:"saved-sidebar__add-vehicle",children:[e.jsxs("div",{className:"saved-sidebar__search-wrapper",children:[e.jsx(Y,{size:18,className:"saved-sidebar__search-icon"}),e.jsx("input",{ref:$,type:"text",className:"saved-sidebar__search-input",placeholder:"Search by year, make, or model...",value:Z,onChange:se}),e.jsx("button",{className:"saved-sidebar__search-close",onClick:()=>{g(!1),E(""),H([])},children:e.jsx(J,{size:18})})]}),U.length>0&&e.jsx("div",{className:"saved-sidebar__search-results",children:U.map(s=>e.jsxs("button",{className:"saved-sidebar__search-result",onClick:()=>c(s),children:[e.jsx("div",{className:"saved-sidebar__search-result-image",children:e.jsx(W,{src:s.image,alt:`${s.year} ${s.make} ${s.model}`,width:60,height:45})}),e.jsxs("div",{className:"saved-sidebar__search-result-info",children:[e.jsxs("span",{className:"saved-sidebar__search-result-name",children:[s.year," ",s.make," ",s.model]}),e.jsxs("span",{className:"saved-sidebar__search-result-price",children:["$",s.priceMin.toLocaleString()," - $",s.priceMax.toLocaleString()]})]}),e.jsx(Q,{size:18,className:"saved-sidebar__search-result-add"})]},s.id))}),Z.length>=2&&U.length===0&&e.jsxs("div",{className:"saved-sidebar__search-no-results",children:['No vehicles found for "',Z,'"']})]}):e.jsx(z,{variant:"outline",className:"saved-sidebar__add-btn",onClick:()=>g(!0),iconLeft:e.jsx(Q,{size:18}),children:"Add a Vehicle"})]}),v==="own"&&e.jsxs("div",{className:"saved-sidebar__section",children:[R.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"saved-sidebar__section-header",children:e.jsxs("span",{className:"saved-sidebar__section-title",children:["Cars I Own (",R.length,")"]})}),e.jsx("div",{className:"saved-sidebar__vehicles",children:R.map(s=>{const a=P(s.name);return e.jsxs(N,{to:a?`/${a.slug}`:"/vehicles",className:"saved-sidebar__vehicle",onClick:i,children:[e.jsx("div",{className:"saved-sidebar__vehicle-image",children:a?.image?e.jsx(W,{src:a.image,alt:s.name,width:80,height:60}):e.jsx("div",{className:"saved-sidebar__vehicle-placeholder",children:e.jsx(G,{size:24})})}),e.jsxs("div",{className:"saved-sidebar__vehicle-info",children:[e.jsx("span",{className:"saved-sidebar__vehicle-name",children:s.name}),a&&e.jsxs("span",{className:"saved-sidebar__vehicle-price",children:["Starting at $",a.priceMin.toLocaleString()]})]}),e.jsx("button",{className:"saved-sidebar__vehicle-unsave",onClick:d=>{d.preventDefault(),d.stopPropagation(),y(s.id)},"aria-label":"Remove from saved",title:"Remove from saved",children:e.jsx(I,{size:18,fill:"currentColor"})})]},s.id)})})]}),R.length===0&&!x&&e.jsxs("div",{className:"saved-sidebar__empty",children:[e.jsx(G,{size:48,className:"saved-sidebar__empty-icon"}),e.jsx("h3",{className:"saved-sidebar__empty-title",children:"No vehicles added"}),e.jsx("p",{className:"saved-sidebar__empty-desc",children:'Use the "Add a Vehicle" button below to add cars you own.'})]}),x?e.jsxs("div",{className:"saved-sidebar__add-vehicle",children:[e.jsxs("div",{className:"saved-sidebar__search-wrapper",children:[e.jsx(Y,{size:18,className:"saved-sidebar__search-icon"}),e.jsx("input",{ref:M,type:"text",className:"saved-sidebar__search-input",placeholder:"Search by year, make, or model...",value:V,onChange:D}),e.jsx("button",{className:"saved-sidebar__search-close",onClick:()=>{A(!1),k(""),j([])},children:e.jsx(J,{size:18})})]}),L.length>0&&e.jsx("div",{className:"saved-sidebar__search-results",children:L.map(s=>e.jsxs("button",{className:"saved-sidebar__search-result",onClick:()=>r(s),children:[e.jsx("div",{className:"saved-sidebar__search-result-image",children:e.jsx(W,{src:s.image,alt:`${s.year} ${s.make} ${s.model}`,width:60,height:45})}),e.jsxs("div",{className:"saved-sidebar__search-result-info",children:[e.jsxs("span",{className:"saved-sidebar__search-result-name",children:[s.year," ",s.make," ",s.model]}),e.jsxs("span",{className:"saved-sidebar__search-result-price",children:["$",s.priceMin.toLocaleString()," - $",s.priceMax.toLocaleString()]})]}),e.jsx(Q,{size:18,className:"saved-sidebar__search-result-add"})]},s.id))}),V.length>=2&&L.length===0&&e.jsxs("div",{className:"saved-sidebar__search-no-results",children:['No vehicles found for "',V,'"']})]}):e.jsx(z,{variant:"outline",className:"saved-sidebar__add-btn",onClick:()=>A(!0),iconLeft:e.jsx(Q,{size:18}),children:"Add a Vehicle"})]})]}),e.jsx("div",{className:"saved-sidebar__footer",children:e.jsx(z,{as:"a",href:"/account?tab=saved",variant:"primary",fullWidth:!0,className:"saved-sidebar__footer-btn",onClick:i,children:"View All Saved"})})]}),f&&e.jsx(xe,{isOpen:X,onClose:()=>{B(!1),T(null)},vehicle:f})]})};ce.__docgenInfo={description:"",methods:[],displayName:"SavedVehiclesSidebar",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Le=()=>{const t=oe(),i=me(),{user:n,isAuthenticated:C,signOut:y}=de(),[v,K]=l.useState(!1),[u,w]=l.useState(""),[x,A]=l.useState([]),[S,g]=l.useState(!1),[V,k]=l.useState(-1),[Z,E]=l.useState(!1),[L,j]=l.useState(!1),[U,H]=l.useState(!1),M=l.useRef(null),$=l.useRef(null),{getRating:X}=_e(),B="https://d2kde5ohu8qb21.cloudfront.net/files/659f9ed490e84500088bd486/012-2024-lamborghini-revuelto.jpg",f=l.useMemo(()=>{const r=t.pathname.match(/^\/(\d{4})\/([^/]+)\/([^/]+)/);if(r){const[,c,ae,s]=r,a=`${c}/${ae}/${s}`;return he(a)}return null},[t.pathname]),T=f?.image||(f?B:void 0),ee=r=>X(r.id,ve(r.bodyStyle),r.staffRating),P=[{label:"Browse All Vehicles",href:"/vehicles",isRoute:!0},{label:"Shop New Cars",href:"/",isRoute:!0},{label:"Shop Used Cars",href:"/used-cars",isRoute:!0},{label:"Research Cars",href:"#"},{label:"Expert Reviews",href:"#"},{label:"What's My Car Worth?",href:"#"},{label:"News + Stories",href:"/news"}];l.useEffect(()=>{if(u.trim().length>=2){const r=ue(u).slice(0,8);A(r),g(!0)}else A([]),g(!1);k(-1)},[u]),l.useEffect(()=>{const r=c=>{M.current&&!M.current.contains(c.target)&&g(!1),$.current&&!$.current.contains(c.target)&&j(!1)};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]);const O=async()=>{await y(),j(!1),i("/")},R=r=>{r.preventDefault(),u.trim()&&(i(`/vehicles?search=${encodeURIComponent(u.trim())}`),w(""),g(!1))},D=r=>{i(`/${r.slug}`),w(""),g(!1)},se=r=>{!S||x.length===0||(r.key==="ArrowDown"?(r.preventDefault(),k(c=>c<x.length-1?c+1:c)):r.key==="ArrowUp"?(r.preventDefault(),k(c=>c>0?c-1:-1)):r.key==="Enter"&&V>=0?(r.preventDefault(),D(x[V])):r.key==="Escape"&&g(!1))};return e.jsxs("header",{className:"header",children:[e.jsxs("div",{className:"header__container",children:[e.jsxs("div",{className:"header__top",children:[e.jsx("button",{className:"header__mobile-menu-btn",onClick:()=>K(!v),"aria-label":v?"Close menu":"Open menu",children:v?e.jsx(J,{size:24}):e.jsx(fe,{size:24})}),e.jsx(N,{to:"/",className:"header__logo","aria-label":"Car and Driver Home",children:e.jsxs("svg",{viewBox:"0 0 1364 262",className:"header__logo-svg header__logo-svg--animated",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M68.022 210.901C74.858 210.901 76.91 205.432 76.91 197.571V146.641H132.626V199.276C132.626 231.41 116.903 261.83 72.468 261.83H62.554C15.04 261.83 0 233.462 0 194.496V65.289C0 28.712 16.408 0 62.213 0H72.468C117.588 0 132.626 25.978 132.626 59.473V101.177H76.91V61.869C76.91 53.667 74.858 49.222 67.682 49.222C60.502 49.222 58.452 52.982 58.452 61.869V197.571C58.452 206.114 60.846 210.901 68.022 210.901Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M272.324 257.729H217.63L213.53 220.47H187.551L183.791 257.729H134.911L167.384 3.41907H236.774L272.324 257.729ZM192.681 170.223H208.402L200.54 92.9747L192.681 170.223Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M366.797 3.41907C391.752 3.41907 408.842 18.1158 408.842 48.1925V81.6935C408.842 105.278 396.534 115.873 386.624 120.318C396.194 124.079 408.842 134.331 408.842 153.477V237.561C408.842 247.13 410.55 252.601 412.258 256.021V257.729H356.542C354.149 254.654 352.101 248.844 352.101 239.616V165.781C352.101 157.237 350.047 153.477 342.527 153.477H334.666V257.729H278.268V3.41907H366.797ZM334.665 105.623H341.845C349.021 105.623 352.1 102.203 352.1 93.3126V59.1349C352.1 50.245 350.391 47.1691 342.871 47.1691H334.666L334.665 105.623Z"}),e.jsx("path",{className:"header__logo-bar",d:"M428.499 63.023H594.769V3.61597H428.5L428.499 63.023Z",fill:"#D2232A"}),e.jsx("path",{className:"header__logo-bar",d:"M428.499 257.046H594.769V197.644H428.5L428.499 257.046Z",fill:"#0061AF"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M481.039 182.672H461.599L460.098 167.332H449.987L448.607 182.672H430.7L442.597 77.9894H468.019L481.039 182.672ZM451.864 147.839H458.219L454.742 111.882L451.864 147.839Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M486.974 182.672V77.9889H507.008L517.652 128.64V77.9889H535.31V182.671H517.152L504.881 128.077V182.672H486.974Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M573.909 77.9874C585.429 77.9875 592.567 84.3239 592.567 101.067V158.609C592.567 174.929 586.18 182.672 574.035 182.672H544.356V77.9874H573.909ZM564.175 162.549H567.647C570.653 162.549 571.531 160.579 571.531 156.219V103.459C571.531 99.2341 570.653 97.4093 567.898 97.4093H564.175V162.549Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M696.341 3.41907C727.79 3.41907 747.273 18.8019 747.273 59.4728V199.276C747.273 238.928 729.839 257.729 696.682 257.729H615.674V3.41907H696.341ZM671.389 208.852H679.251C687.454 208.852 689.847 204.065 689.847 193.469V65.2892C689.847 55.0342 687.453 50.589 679.933 50.589H671.389V208.852Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M845.438 3.41907C870.393 3.41907 887.48 18.1158 887.48 48.1925V81.6935C887.48 105.278 875.177 115.873 865.264 120.318C874.833 124.079 887.48 134.331 887.48 153.477V237.561C887.48 247.13 889.191 252.601 890.899 256.021V257.729H835.183C832.79 254.654 830.738 248.844 830.738 239.616V165.781C830.738 157.237 828.689 153.477 821.169 153.477H813.307L813.308 257.729H756.907V3.41907H845.438ZM813.307 105.623H820.482C827.662 105.623 830.737 102.203 830.737 93.3126V59.1349C830.737 50.245 829.03 47.1691 821.51 47.1691H813.307V105.623Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M956.492 257.732H900.092V3.41895H956.492V257.732Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M1073.15 257.729H999.319L962.748 3.41895H1022.22L1037.6 162.705L1052.99 3.41895H1107.34L1073.15 257.729Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M1113.59 257.729V3.41895H1219.21V56.0569H1169.3V99.4689H1209.3V153.477H1169.3V204.065H1221.26V257.729H1113.59Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M1285.45 47.1689H1293.65C1301.17 47.1689 1302.88 50.2449 1302.88 59.1349V93.313C1302.88 102.203 1299.81 105.623 1292.63 105.623H1285.45V47.1689ZM1285.45 153.477H1293.31C1300.83 153.477 1302.88 157.237 1302.88 165.781V239.616C1302.88 248.844 1304.93 254.654 1307.33 257.729H1363.04V256.021C1361.33 252.601 1359.62 247.131 1359.62 237.561V153.477C1359.62 134.331 1346.98 124.08 1337.41 120.319C1347.32 115.874 1359.62 105.279 1359.62 81.6939V48.1929C1359.62 18.1159 1342.54 3.41895 1317.58 3.41895H1229.05V257.729H1285.45V153.477Z"})]})}),e.jsxs("form",{className:"header__search-bar",onSubmit:R,ref:M,children:[e.jsx("input",{type:"text",className:"header__search-input",placeholder:"Search vehicles...",value:u,onChange:r=>w(r.target.value),onKeyDown:se,onFocus:()=>u.trim().length>=2&&g(!0)}),e.jsx("button",{type:"submit",className:"header__search-btn","aria-label":"Search",children:e.jsx(Y,{size:20})}),S&&x.length>0&&e.jsxs("div",{className:"header__suggestions",children:[x.map((r,c)=>e.jsxs("div",{className:`header__suggestion ${c===V?"header__suggestion--active":""}`,children:[e.jsx("img",{src:r.image||"/placeholder-car.png",alt:`${r.make} ${r.model}`,className:"header__suggestion-image",onClick:()=>D(r)}),e.jsxs("div",{className:"header__suggestion-info",onClick:()=>D(r),children:[e.jsxs("span",{className:"header__suggestion-name",children:[r.year," ",r.make," ",r.model]}),e.jsx("span",{className:"header__suggestion-price",children:r.priceRange})]}),e.jsxs("span",{className:"header__suggestion-rating",children:[e.jsx("span",{className:"header__suggestion-rating-score",children:ee(r)}),"/10"]}),e.jsxs("div",{className:"header__suggestion-ctas",children:[e.jsx("button",{type:"button",className:"header__suggestion-cta header__suggestion-cta--buy",onClick:()=>{i(`/${r.slug}#pricing`),w(""),g(!1)},children:"Buy"}),e.jsx("button",{type:"button",className:"header__suggestion-cta header__suggestion-cta--research",onClick:()=>D(r),children:"Research"})]})]},r.id)),e.jsxs("button",{type:"submit",className:"header__suggestion header__suggestion--all",children:[e.jsx(Y,{size:16}),e.jsxs("span",{children:['See all results for "',u,'"']})]})]})]}),e.jsxs("div",{className:"header__actions",children:[C?e.jsxs("button",{className:"header__saved-btn",onClick:()=>H(!0),"aria-label":"My Garage",children:[e.jsx(I,{size:18,fill:"currentColor"}),e.jsx("span",{className:"header__saved-btn-text",children:"My Garage"})]}):e.jsx(z,{variant:"primary",size:"small",onClick:()=>E(!0),className:"header__subscribe-btn",children:"Subscribe"}),e.jsx("div",{className:"header__user-container",ref:$,children:C&&n?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"header__user-btn header__user-btn--authenticated",onClick:()=>j(!L),"aria-label":"User menu","aria-expanded":L,children:e.jsx("div",{className:"header__user-avatar",children:q(n.avatar)?e.jsx("img",{src:q(n.avatar),alt:n.name||"User avatar",className:"header__user-avatar-img"}):e.jsx("span",{children:ne(n.name)})})}),L&&e.jsxs("div",{className:"header__user-menu",children:[e.jsxs("div",{className:"header__user-menu-header",children:[e.jsx("div",{className:"header__user-menu-avatar",children:q(n.avatar)?e.jsx("img",{src:q(n.avatar),alt:n.name||"User avatar",className:"header__user-menu-avatar-img"}):e.jsx("span",{children:ne(n.name)})}),e.jsxs("div",{className:"header__user-menu-info",children:[e.jsx("span",{className:"header__user-menu-name",children:n.name||"Member"}),e.jsx("span",{className:"header__user-menu-email",children:n.email})]})]}),e.jsx("div",{className:"header__user-menu-divider"}),e.jsxs(N,{to:"/account",className:"header__user-menu-item",onClick:()=>j(!1),children:[e.jsx(Ce,{size:18}),e.jsx("span",{children:"My Account"})]}),e.jsx("div",{className:"header__user-menu-divider"}),e.jsxs("button",{className:"header__user-menu-item header__user-menu-item--danger",onClick:O,children:[e.jsx(be,{size:18}),e.jsx("span",{children:"Sign Out"})]})]})]}):e.jsx(N,{to:"/sign-in",className:"header__user-btn","aria-label":"Sign in",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M21.649 19.875c-1.428-2.468-3.629-4.239-6.196-5.078a6.75 6.75 0 1 0-6.906 0c-2.568.839-4.768 2.609-6.196 5.078a.75.75 0 1 0 1.299.75C5.416 17.573 8.538 15.75 12 15.75c3.462 0 6.584 1.823 8.35 4.875a.75.75 0 1 0 1.299-.75ZM6.749 9a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0Z",fill:"currentColor"})})})})]})]}),e.jsx("nav",{className:`header__nav ${v?"header__nav--open":""}`,children:e.jsx("ul",{className:"header__nav-list",children:P.map((r,c)=>e.jsx("li",{className:"header__nav-item",children:r.isRoute?e.jsx(N,{to:r.href,className:"header__nav-link",children:r.label}):e.jsx("a",{href:r.href,className:"header__nav-link",children:r.label})},c))})})]}),e.jsx(pe,{isOpen:Z,onClose:()=>E(!1),vehicleName:f?`${f.year} ${f.make} ${f.model}`:void 0,vehicleImage:T,enableExitIntent:!0}),e.jsx(ce,{isOpen:U,onClose:()=>H(!1)})]})};Le.__docgenInfo={description:"",methods:[],displayName:"Header"};export{Le as H,Ye as a};
