import{u as ae,i as se,r as f,j as e,L as ie}from"./iframe-DLzXJ-Hs.js";import{O as re}from"./OptimizedImage-BJ0YSfPk.js";import{B as m}from"./Button-DVG7zMet.js";import{S as ce}from"./SignInToSaveModal-CIWy9ePJ.js";import{B as I}from"./bookmark-gisCZ2Tc.js";import{M as le}from"./map-pin-CnqLvhYw.js";import{C as te}from"./chevron-up-BWwENSdZ.js";import{C as ne}from"./chevron-right-C3B_1JPk.js";import{C as de}from"./chevron-down-XhIJPHm4.js";const oe="https://www.caranddriver.com/_assets/design-tokens/caranddriver/static/images/badges-no-text/editors-choice.7ecd596.svg?primary=%2523FEFEFE",me="https://www.caranddriver.com/_assets/design-tokens/caranddriver/static/images/badges-no-text/ten-best.bcb6ac1.svg",he="https://www.caranddriver.com/_assets/design-tokens/caranddriver/static/images/badges-no-text/ev-of-the-year.721e420.svg",P=(s="outline")=>({primary:"primary",secondary:"secondary",outline:"outline",success:"success","success-outline":"success",danger:"danger"})[s],pe=s=>{switch(s){case"best-value":return"Best Value";case"editors-choice":return"Editor's Choice";default:return""}},ve=({name:s,slug:t,image:g,bodyStyle:x,price:y,priceLabel:Y="Starting at",rating:h,rank:l,badge:n,editorsChoice:j,tenBest:N,evOfTheYear:T,mileage:p,dealerName:b,distance:C,trim:w,showShopButton:$=!1,shopButtonText:O="Shop Now",shopButtonVariant:G="outline",onShopClick:q,ctas:v,isCurrentVehicle:E=!1,epaMpg:S,cdSays:u,availableYears:d,yearDetails:U,modelName:F,showSaveButton:k=!1})=>{const{user:V,isAuthenticated:H,addSavedVehicle:X,removeSavedVehicle:J}=ae(),K=se(),D=!!p,[_,A]=f.useState(!1),[Q,R]=f.useState(!1),[W,B]=f.useState(!1),M=F||s.split(" ").slice(1).join(" ")||s,i=V?.savedVehicles?.some(a=>a.name===s)||!1,L=a=>{if(a.preventDefault(),a.stopPropagation(),!H){B(!0);return}if(i){const r=V?.savedVehicles?.find(c=>c.name===s);r&&J(r.id)}else X({id:t,name:s,ownership:"want"})},Z=a=>{a.preventDefault(),a.stopPropagation(),q&&q(a)},z=a=>{a.preventDefault(),a.stopPropagation(),_?(R(!0),setTimeout(()=>{A(!1),R(!1)},300)):A(!0)};return e.jsxs(ie,{to:`/${t}`,className:`vehicle-card ${E?"vehicle-card--current":""} ${D?"vehicle-card--used":""}`,children:[e.jsx("div",{className:"vehicle-card__content vehicle-card__content--top",children:e.jsxs("div",{className:"vehicle-card__header",children:[e.jsx("div",{className:"vehicle-card__name-wrapper",children:e.jsx("h3",{className:"vehicle-card__name",title:s,children:s})}),h&&e.jsxs("div",{className:"vehicle-card__rating",children:[e.jsxs("div",{className:"vehicle-card__rating-row",children:[e.jsx("span",{className:"vehicle-card__rating-score",children:h}),e.jsx("span",{className:"vehicle-card__rating-max",children:"/10"})]}),e.jsx("span",{className:"vehicle-card__rating-label",children:"C/D RATING"})]})]})}),e.jsxs("div",{className:"vehicle-card__image",children:[l&&e.jsxs("div",{className:"vehicle-card__rank-container",children:[e.jsx("span",{className:`vehicle-card__rank ${l===1?"vehicle-card__rank--first":""} ${E?"vehicle-card__rank--current":""}`,children:l}),k&&e.jsx("button",{className:`vehicle-card__rank-save ${i?"vehicle-card__rank-save--saved":""}`,onClick:L,"aria-label":i?"Remove from saved":"Save vehicle",children:e.jsx(I,{size:18,fill:i?"currentColor":"none"})})]}),x&&!l&&e.jsx("span",{className:"vehicle-card__body-style",children:x}),n==="best-value"&&e.jsx("span",{className:"vehicle-card__badge vehicle-card__badge--best-value",children:pe(n)}),(j||N||T||n==="editors-choice")&&e.jsxs("div",{className:"vehicle-card__accolades",children:[(j||n==="editors-choice")&&e.jsx("div",{className:"vehicle-card__accolade vehicle-card__accolade--ec",children:e.jsx("img",{src:oe,alt:"Editor's Choice"})}),N&&e.jsx("div",{className:"vehicle-card__accolade vehicle-card__accolade--10best",children:e.jsx("img",{src:me,alt:"10Best"})}),T&&e.jsx("div",{className:"vehicle-card__accolade vehicle-card__accolade--ev",children:e.jsx("img",{src:he,alt:"EV of the Year"})})]}),k&&!l&&e.jsx("button",{className:`vehicle-card__save-btn ${i?"vehicle-card__save-btn--saved":""}`,onClick:L,"aria-label":i?"Remove from saved":"Save vehicle",children:e.jsx(I,{size:20,fill:i?"currentColor":"none"})}),e.jsx(re,{src:g,alt:s,aspectRatio:"16/10"})]}),e.jsxs("div",{className:"vehicle-card__content vehicle-card__content--bottom",children:[D&&e.jsxs("div",{className:"vehicle-card__used-details",children:[w&&e.jsx("p",{className:"vehicle-card__trim",children:w}),p&&e.jsxs("p",{className:"vehicle-card__mileage",children:[e.jsx(le,{size:12}),p.toLocaleString()," miles"]}),b&&C&&e.jsxs("p",{className:"vehicle-card__dealer",children:[b," • ",C," mi"]})]}),e.jsxs("div",{className:"vehicle-card__price-row",children:[e.jsxs("div",{className:"vehicle-card__price",children:[e.jsx("span",{className:"vehicle-card__price-label",children:Y}),e.jsx("span",{className:"vehicle-card__price-value",children:y})]}),e.jsx("div",{className:"vehicle-card__ctas",children:v&&v.length>0?v.map((a,r)=>e.jsx(m,{variant:P(a.variant),size:"small",onClick:c=>{c.preventDefault(),c.stopPropagation(),a.onClick?.(c)},children:a.text},r)):$&&e.jsx(m,{variant:P(G),size:"small",onClick:Z,children:O})})]}),S&&e.jsxs("div",{className:"vehicle-card__mpg-row",children:[e.jsx("span",{className:"vehicle-card__mpg-label",children:"EPA MPG"}),e.jsxs("span",{className:"vehicle-card__mpg-value",children:[e.jsx("strong",{children:S})," combined"]})]}),u&&e.jsx("hr",{className:"vehicle-card__divider-standard"}),u&&e.jsxs("div",{className:"vehicle-card__cd-says-row",children:[e.jsx("span",{className:"vehicle-card__cd-says-label",children:"C/D SAYS: "}),e.jsx("span",{className:"vehicle-card__cd-says-text",children:u}),e.jsx("span",{className:"vehicle-card__cd-says-link",children:"Learn More"})]}),d&&d.length>0&&!_&&e.jsx(m,{variant:"ghost",size:"small",className:"vehicle-card__expand-years",onClick:z,iconRight:e.jsx(te,{size:18,"aria-hidden":"true"}),children:"EXPAND ALL MODEL YEARS"})]}),_&&d&&e.jsxs("div",{className:`vehicle-card__years-overlay ${Q?"vehicle-card__years-overlay--closing":""}`,onClick:a=>a.preventDefault(),children:[e.jsxs("h4",{className:"vehicle-card__years-title",children:[M," Model Years"]}),e.jsx("div",{className:"vehicle-card__years-items",children:d.map(a=>{const r=U?.find(o=>o.year===a),c=r?.price||y,ee=r?.rating||h;return e.jsxs("button",{className:"vehicle-card__year-item",onClick:o=>{o.preventDefault(),o.stopPropagation(),K(`/${a}/${t.split("/").slice(1).join("/")}`)},children:[e.jsxs("div",{className:"vehicle-card__year-info",children:[e.jsxs("span",{className:"vehicle-card__year-label",children:["View ",a," ",M," Details"]}),e.jsxs("span",{className:"vehicle-card__year-meta",children:["Starting at ",c," · ",ee,"/10"]})]}),e.jsx(ne,{size:20,className:"vehicle-card__year-arrow","aria-hidden":"true"})]},a)})}),e.jsx(m,{variant:"ghost",size:"small",className:"vehicle-card__collapse-years",onClick:z,iconRight:e.jsx(de,{size:18,"aria-hidden":"true"}),children:"COLLAPSE"})]}),e.jsx(ce,{isOpen:W,onClose:()=>B(!1),itemType:"vehicle",itemName:s,itemImage:g})]})};ve.__docgenInfo={description:"",methods:[],displayName:"VehicleCard",props:{id:{required:!0,tsType:{name:"string"},description:""},name:{required:!0,tsType:{name:"string"},description:""},slug:{required:!0,tsType:{name:"string"},description:""},image:{required:!0,tsType:{name:"string"},description:""},bodyStyle:{required:!1,tsType:{name:"string"},description:""},price:{required:!0,tsType:{name:"string"},description:""},priceLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Starting at'",computed:!1}},rating:{required:!1,tsType:{name:"number"},description:""},rank:{required:!1,tsType:{name:"number"},description:""},badge:{required:!1,tsType:{name:"union",raw:"'best-value' | 'editors-choice'",elements:[{name:"literal",value:"'best-value'"},{name:"literal",value:"'editors-choice'"}]},description:""},editorsChoice:{required:!1,tsType:{name:"boolean"},description:""},tenBest:{required:!1,tsType:{name:"boolean"},description:""},evOfTheYear:{required:!1,tsType:{name:"boolean"},description:""},year:{required:!1,tsType:{name:"number"},description:""},mileage:{required:!1,tsType:{name:"number"},description:""},dealerName:{required:!1,tsType:{name:"string"},description:""},distance:{required:!1,tsType:{name:"number"},description:""},trim:{required:!1,tsType:{name:"string"},description:""},showShopButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},shopButtonText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Shop Now'",computed:!1}},shopButtonVariant:{required:!1,tsType:{name:"union",raw:"'primary' | 'secondary' | 'outline' | 'success' | 'success-outline' | 'danger'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"},{name:"literal",value:"'outline'"},{name:"literal",value:"'success'"},{name:"literal",value:"'success-outline'"},{name:"literal",value:"'danger'"}]},description:"",defaultValue:{value:"'outline'",computed:!1}},onShopClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.MouseEvent) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent"},name:"e"}],return:{name:"void"}}},description:""},ctas:{required:!1,tsType:{name:"Array",elements:[{name:"CTAConfig"}],raw:"CTAConfig[]"},description:""},isCurrentVehicle:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},epaMpg:{required:!1,tsType:{name:"number"},description:""},cdSays:{required:!1,tsType:{name:"string"},description:""},availableYears:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:""},yearDetails:{required:!1,tsType:{name:"Array",elements:[{name:"YearDetail"}],raw:"YearDetail[]"},description:""},modelName:{required:!1,tsType:{name:"string"},description:""},showSaveButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{ve as V};
