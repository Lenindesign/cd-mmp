import{u as de,i as oe,r as C,j as e,L as U}from"./iframe-BsKjb8X7.js";import{O as F}from"./OptimizedImage-B7gWmHYx.js";import{B as l}from"./Button-B1YYO9of.js";import{S as he}from"./SignInToSaveModal-DJFFOAFc.js";import{B as H}from"./bookmark-CSUsaAwW.js";import{M as me}from"./map-pin-Ctr8Mr_m.js";import{C as ve}from"./chevron-up-CuJKcWDr.js";import{C as _e}from"./chevron-right-pu_fT7Pp.js";import{C as pe}from"./chevron-down-D9CYxZBM.js";const X="https://www.caranddriver.com/_assets/design-tokens/caranddriver/static/images/badges-no-text/editors-choice.7ecd596.svg?primary=%2523FEFEFE",J="https://www.caranddriver.com/_assets/design-tokens/caranddriver/static/images/badges-no-text/ten-best.bcb6ac1.svg",K="https://www.caranddriver.com/_assets/design-tokens/caranddriver/static/images/badges-no-text/ev-of-the-year.721e420.svg",E=(s="outline")=>({primary:"primary",secondary:"secondary",outline:"outline",success:"success","success-outline":"success",danger:"danger"})[s],ue=s=>{switch(s){case"best-value":return"Best Value";case"editors-choice":return"Editor's Choice";default:return""}},xe=({name:s,slug:d,image:N,bodyStyle:q,price:g,priceLabel:w="Starting at",priceRange:S,rating:o,rank:h,badge:n,editorsChoice:v,tenBest:_,evOfTheYear:p,mileage:y,dealerName:k,distance:V,trim:D,showShopButton:A=!1,shopButtonText:Q="Shop Now",shopButtonVariant:W="outline",onShopClick:R,ctas:t,isCurrentVehicle:P=!1,epaMpg:u,epaMpgRange:z,cdSays:m,availableYears:x,yearDetails:Z,modelName:ee,showSaveButton:L=!1,variant:ae="default"})=>{const{user:M,isAuthenticated:se,addSavedVehicle:ie,removeSavedVehicle:ce}=de(),re=oe(),B=!!y,[T,I]=C.useState(!1),[le,Y]=C.useState(!1),[ne,$]=C.useState(!1),j=ee||s.split(" ").slice(1).join(" ")||s,r=M?.savedVehicles?.some(a=>a.name===s)||!1,G=a=>{if(a.preventDefault(),a.stopPropagation(),!se){$(!0);return}if(r){const c=M?.savedVehicles?.find(i=>i.name===s);c&&ce(c.id)}else ie({id:d,name:s,ownership:"want"})},b=a=>{a.preventDefault(),a.stopPropagation(),R&&R(a)},O=a=>{a.preventDefault(),a.stopPropagation(),T?(Y(!0),setTimeout(()=>{I(!1),Y(!1)},300)):I(!0)};return ae==="next-vehicle"?e.jsxs("div",{className:"vehicle-card-next",children:[e.jsx("h2",{className:"vehicle-card-next__header-title",children:"YOUR NEXT VEHICLE"}),e.jsxs("div",{className:"vehicle-card-next__card vehicle-card-next__inner",children:[e.jsx("h3",{className:"vehicle-card-next__name",children:s}),e.jsxs("div",{className:"vehicle-card-next__content",children:[e.jsxs("div",{className:"vehicle-card-next__left",children:[e.jsx(U,{to:`/${d}`,className:"vehicle-card-next__image-link",children:e.jsx("div",{className:"vehicle-card-next__image",children:e.jsx(F,{src:N,alt:s,aspectRatio:"16/10"})})}),m&&e.jsxs("div",{className:"vehicle-card-next__cd-says",children:[e.jsx("span",{className:"vehicle-card-next__cd-says-label",children:"C/D SAYS:"}),e.jsxs("span",{className:"vehicle-card-next__cd-says-text",children:[" ",m]})]})]}),e.jsxs("div",{className:"vehicle-card-next__right",children:[e.jsxs("div",{className:"vehicle-card-next__rating-badges",children:[o&&e.jsxs("div",{className:"vehicle-card-next__rating",children:[e.jsx("span",{className:"vehicle-card-next__rating-score",children:o}),e.jsx("span",{className:"vehicle-card-next__rating-max",children:"/10"}),e.jsx("span",{className:"vehicle-card-next__rating-label",children:"C/D RATING"})]}),(v||_||p||n==="editors-choice")&&e.jsxs("div",{className:"vehicle-card-next__accolades",children:[(v||n==="editors-choice")&&e.jsx("div",{className:"vehicle-card-next__accolade vehicle-card-next__accolade--ec",children:e.jsx("img",{src:X,alt:"Editor's Choice"})}),_&&e.jsx("div",{className:"vehicle-card-next__accolade vehicle-card-next__accolade--10best",children:e.jsx("img",{src:J,alt:"10Best"})}),p&&e.jsx("div",{className:"vehicle-card-next__accolade vehicle-card-next__accolade--ev",children:e.jsx("img",{src:K,alt:"EV of the Year"})})]})]}),e.jsxs("div",{className:"vehicle-card-next__specs",children:[e.jsxs("div",{className:"vehicle-card-next__spec",children:[e.jsx("span",{className:"vehicle-card-next__spec-label",children:w||"Estimated Price"}),e.jsxs("span",{className:"vehicle-card-next__spec-value",children:[S||g,S&&e.jsx("span",{className:"vehicle-card-next__spec-suffix",children:"est"})]})]}),(z||u)&&e.jsxs("div",{className:"vehicle-card-next__spec",children:[e.jsx("span",{className:"vehicle-card-next__spec-label",children:"EPA MPG"}),e.jsxs("span",{className:"vehicle-card-next__spec-value",children:[z||u,e.jsx("span",{className:"vehicle-card-next__spec-suffix",children:"combined"})]})]})]}),e.jsx("div",{className:"vehicle-card-next__ctas",children:t&&t.length>0?t.map((a,c)=>e.jsx(l,{variant:E(a.variant),size:"small",onClick:i=>{i.preventDefault(),i.stopPropagation(),a.onClick?.(i)},children:a.text},c)):A&&e.jsxs(e.Fragment,{children:[e.jsxs(l,{variant:"primary",size:"small",onClick:b,children:["Shop New ",j]}),e.jsxs(l,{variant:"outline",size:"small",onClick:b,children:["Shop Used ",j]})]})})]})]})]})]}):e.jsxs(U,{to:`/${d}`,className:`vehicle-card ${P?"vehicle-card--current":""} ${B?"vehicle-card--used":""}`,children:[e.jsx("div",{className:"vehicle-card__content vehicle-card__content--top",children:e.jsxs("div",{className:"vehicle-card__header",children:[e.jsx("div",{className:"vehicle-card__name-wrapper",children:e.jsx("h3",{className:"vehicle-card__name",title:s,children:s})}),o&&e.jsxs("div",{className:"vehicle-card__rating",children:[e.jsxs("div",{className:"vehicle-card__rating-row",children:[e.jsx("span",{className:"vehicle-card__rating-score",children:o}),e.jsx("span",{className:"vehicle-card__rating-max",children:"/10"})]}),e.jsx("span",{className:"vehicle-card__rating-label",children:"C/D RATING"})]})]})}),e.jsxs("div",{className:"vehicle-card__image",children:[h&&e.jsxs("div",{className:"vehicle-card__rank-container",children:[e.jsx("span",{className:`vehicle-card__rank ${h===1?"vehicle-card__rank--first":""} ${P?"vehicle-card__rank--current":""}`,children:h}),L&&e.jsx("button",{className:`vehicle-card__rank-save ${r?"vehicle-card__rank-save--saved":""}`,onClick:G,"aria-label":r?"Remove from saved":"Save vehicle",children:e.jsx(H,{size:18,fill:r?"currentColor":"none"})})]}),q&&!h&&e.jsx("span",{className:"vehicle-card__body-style",children:q}),n==="best-value"&&e.jsx("span",{className:"vehicle-card__badge vehicle-card__badge--best-value",children:ue(n)}),(v||_||p||n==="editors-choice")&&e.jsxs("div",{className:"vehicle-card__accolades",children:[(v||n==="editors-choice")&&e.jsx("div",{className:"vehicle-card__accolade vehicle-card__accolade--ec",children:e.jsx("img",{src:X,alt:"Editor's Choice"})}),_&&e.jsx("div",{className:"vehicle-card__accolade vehicle-card__accolade--10best",children:e.jsx("img",{src:J,alt:"10Best"})}),p&&e.jsx("div",{className:"vehicle-card__accolade vehicle-card__accolade--ev",children:e.jsx("img",{src:K,alt:"EV of the Year"})})]}),L&&!h&&e.jsx("button",{className:`vehicle-card__save-btn ${r?"vehicle-card__save-btn--saved":""}`,onClick:G,"aria-label":r?"Remove from saved":"Save vehicle",children:e.jsx(H,{size:20,fill:r?"currentColor":"none"})}),e.jsx(F,{src:N,alt:s,aspectRatio:"16/10"})]}),e.jsxs("div",{className:"vehicle-card__content vehicle-card__content--bottom",children:[B&&e.jsxs("div",{className:"vehicle-card__used-details",children:[D&&e.jsx("p",{className:"vehicle-card__trim",children:D}),y&&e.jsxs("p",{className:"vehicle-card__mileage",children:[e.jsx(me,{size:12}),y.toLocaleString()," miles"]}),k&&V&&e.jsxs("p",{className:"vehicle-card__dealer",children:[k," • ",V," mi"]})]}),e.jsxs("div",{className:"vehicle-card__price-row",children:[e.jsxs("div",{className:"vehicle-card__price",children:[e.jsx("span",{className:"vehicle-card__price-label",children:w}),e.jsx("span",{className:"vehicle-card__price-value",children:g})]}),e.jsx("div",{className:"vehicle-card__ctas",children:t&&t.length>0?t.map((a,c)=>e.jsx(l,{variant:E(a.variant),size:"small",onClick:i=>{i.preventDefault(),i.stopPropagation(),a.onClick?.(i)},children:a.text},c)):A&&e.jsx(l,{variant:E(W),size:"small",onClick:b,children:Q})})]}),u&&e.jsxs("div",{className:"vehicle-card__mpg-row",children:[e.jsx("span",{className:"vehicle-card__mpg-label",children:"EPA MPG"}),e.jsxs("span",{className:"vehicle-card__mpg-value",children:[e.jsx("strong",{children:u})," combined"]})]}),m&&e.jsx("hr",{className:"vehicle-card__divider-standard"}),m&&e.jsxs("div",{className:"vehicle-card__cd-says-row",children:[e.jsx("span",{className:"vehicle-card__cd-says-label",children:"C/D SAYS: "}),e.jsx("span",{className:"vehicle-card__cd-says-text",children:m}),e.jsx("span",{className:"vehicle-card__cd-says-link",children:"Learn More"})]}),x&&x.length>0&&!T&&e.jsx(l,{variant:"ghost",size:"small",className:"vehicle-card__expand-years",onClick:O,iconRight:e.jsx(ve,{size:18,"aria-hidden":"true"}),children:"EXPAND ALL MODEL YEARS"})]}),T&&x&&e.jsxs("div",{className:`vehicle-card__years-overlay ${le?"vehicle-card__years-overlay--closing":""}`,onClick:a=>a.preventDefault(),children:[e.jsxs("h4",{className:"vehicle-card__years-title",children:[j," Model Years"]}),e.jsx("div",{className:"vehicle-card__years-items",children:x.map(a=>{const c=Z?.find(f=>f.year===a),i=c?.price||g,te=c?.rating||o;return e.jsxs("button",{className:"vehicle-card__year-item",onClick:f=>{f.preventDefault(),f.stopPropagation(),re(`/${a}/${d.split("/").slice(1).join("/")}`)},children:[e.jsxs("div",{className:"vehicle-card__year-info",children:[e.jsxs("span",{className:"vehicle-card__year-label",children:["View ",a," ",j," Details"]}),e.jsxs("span",{className:"vehicle-card__year-meta",children:["Starting at ",i," · ",te,"/10"]})]}),e.jsx(_e,{size:20,className:"vehicle-card__year-arrow","aria-hidden":"true"})]},a)})}),e.jsx(l,{variant:"ghost",size:"small",className:"vehicle-card__collapse-years",onClick:O,iconRight:e.jsx(pe,{size:18,"aria-hidden":"true"}),children:"COLLAPSE"})]}),e.jsx(he,{isOpen:ne,onClose:()=>$(!1),itemType:"vehicle",itemName:s,itemImage:N})]})};xe.__docgenInfo={description:"",methods:[],displayName:"VehicleCard",props:{id:{required:!0,tsType:{name:"string"},description:""},name:{required:!0,tsType:{name:"string"},description:""},slug:{required:!0,tsType:{name:"string"},description:""},image:{required:!0,tsType:{name:"string"},description:""},bodyStyle:{required:!1,tsType:{name:"string"},description:""},price:{required:!0,tsType:{name:"string"},description:""},priceLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Starting at'",computed:!1}},priceRange:{required:!1,tsType:{name:"string"},description:""},rating:{required:!1,tsType:{name:"number"},description:""},rank:{required:!1,tsType:{name:"number"},description:""},badge:{required:!1,tsType:{name:"union",raw:"'best-value' | 'editors-choice'",elements:[{name:"literal",value:"'best-value'"},{name:"literal",value:"'editors-choice'"}]},description:""},editorsChoice:{required:!1,tsType:{name:"boolean"},description:""},tenBest:{required:!1,tsType:{name:"boolean"},description:""},evOfTheYear:{required:!1,tsType:{name:"boolean"},description:""},year:{required:!1,tsType:{name:"number"},description:""},mileage:{required:!1,tsType:{name:"number"},description:""},dealerName:{required:!1,tsType:{name:"string"},description:""},distance:{required:!1,tsType:{name:"number"},description:""},trim:{required:!1,tsType:{name:"string"},description:""},showShopButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},shopButtonText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Shop Now'",computed:!1}},shopButtonVariant:{required:!1,tsType:{name:"union",raw:"'primary' | 'secondary' | 'outline' | 'success' | 'success-outline' | 'danger'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"},{name:"literal",value:"'outline'"},{name:"literal",value:"'success'"},{name:"literal",value:"'success-outline'"},{name:"literal",value:"'danger'"}]},description:"",defaultValue:{value:"'outline'",computed:!1}},onShopClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.MouseEvent) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent"},name:"e"}],return:{name:"void"}}},description:""},ctas:{required:!1,tsType:{name:"Array",elements:[{name:"CTAConfig"}],raw:"CTAConfig[]"},description:""},isCurrentVehicle:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},epaMpg:{required:!1,tsType:{name:"number"},description:""},epaMpgRange:{required:!1,tsType:{name:"string"},description:""},cdSays:{required:!1,tsType:{name:"string"},description:""},availableYears:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:""},yearDetails:{required:!1,tsType:{name:"Array",elements:[{name:"YearDetail"}],raw:"YearDetail[]"},description:""},modelName:{required:!1,tsType:{name:"string"},description:""},showSaveButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},variant:{required:!1,tsType:{name:"union",raw:"'default' | 'next-vehicle'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'next-vehicle'"}]},description:"",defaultValue:{value:"'default'",computed:!1}}}};export{xe as V};
