import{r as t,j as e}from"./iframe-DbH_ucHO.js";import{v as b}from"./index-BIJ_Z0xc.js";import{B as M}from"./Button-BVWKAUS5.js";import{C as _}from"./chevron-down-CqR443Fw.js";import{A as oe}from"./arrow-right-Cfz6cHVz.js";import{T as le}from"./trending-up-DeYwd4Zr.js";import{T as ne}from"./trending-down-BnFNSNvh.js";import{M as ie}from"./minus-Bx50-VRa.js";import{I as ce}from"./info-B3qUYD4Q.js";import{C as y}from"./circle-check-big-IfD-XDYJ.js";import"./preload-helper-PPVm8Dsz.js";import"./createLucideIcon-Du2TAp2n.js";const D=new Date().getFullYear(),de=Array.from({length:20},(C,f)=>String(D-f)),k=[{value:"excellent",label:"Excellent",description:"Like new, no visible wear"},{value:"good",label:"Good",description:"Minor wear, well maintained"},{value:"fair",label:"Fair",description:"Normal wear for age/mileage"},{value:"poor",label:"Poor",description:"Significant wear or damage"}],z=({defaultYear:C="",defaultMake:f="",defaultModel:F="",onGetEstimate:O})=>{const[r,G]=t.useState(C),[s,H]=t.useState(f),[o,S]=t.useState(F),[l,R]=t.useState(""),[c,$]=t.useState("good"),[V,L]=t.useState(!1),[x,P]=t.useState(!1),[j,T]=t.useState(!1),[v,W]=t.useState(!1),[g,E]=t.useState(!1),U=t.useMemo(()=>[...new Set(b.map(n=>n.make))].sort(),[]),J=t.useMemo(()=>s?[...new Set(b.filter(n=>n.make===s).map(n=>n.model))].sort():[],[s]),i=t.useMemo(()=>{if(!r||!s||!o||!l)return null;const n=b.find(d=>d.make===s&&d.model===o)?.priceMin||25e3,q=D-parseInt(r);let Y=1;for(let d=0;d<q;d++)Y*=d<5?.85:.9;const ee=q*12e3,ae=(parseInt(l.replace(/,/g,""))-ee)*-.12,se={excellent:1.1,good:1,fair:.85,poor:.7},I=(n*Y+ae)*se[c],A=Math.max(1e3,Math.round(I*.92/100)*100),B=Math.round(I*1.08/100)*100,te=Math.round((A+B)/2/100)*100,re=["up","down","stable"][Math.floor(Math.random()*3)];return{low:A,mid:te,high:B,trend:re}},[r,s,o,l,c]),K=a=>{H(a),S(""),T(!1)},Q=()=>{r&&s&&o&&l&&(L(!0),O?.({year:r,make:s,model:o,mileage:parseInt(l.replace(/,/g,"")),condition:c}))},X=a=>a.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),N=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),Z=r&&s&&o&&l;return e.jsx("section",{className:"whats-my-car-worth",children:e.jsxs("div",{className:"whats-my-car-worth__container",children:[e.jsx("div",{className:"whats-my-car-worth__header",children:e.jsxs("div",{className:"whats-my-car-worth__title-group",children:[e.jsx("h2",{className:"whats-my-car-worth__title",children:"What's My Car Worth?"}),e.jsx("p",{className:"whats-my-car-worth__subtitle",children:"Get an instant trade-in estimate powered by Black Book"})]})}),e.jsxs("div",{className:"whats-my-car-worth__form",children:[e.jsxs("div",{className:"whats-my-car-worth__form-row",children:[e.jsxs("div",{className:"whats-my-car-worth__field",children:[e.jsx("label",{className:"whats-my-car-worth__label",children:"Year"}),e.jsxs("div",{className:"whats-my-car-worth__select-wrapper",children:[e.jsxs("button",{type:"button",className:`whats-my-car-worth__select ${r?"whats-my-car-worth__select--selected":""}`,onClick:()=>P(!x),children:[e.jsx("span",{children:r||"Select year"}),e.jsx(_,{size:18,className:x?"rotated":""})]}),x&&e.jsx("div",{className:"whats-my-car-worth__dropdown",children:de.map(a=>e.jsx("button",{type:"button",className:`whats-my-car-worth__dropdown-item ${a===r?"selected":""}`,onClick:()=>{G(a),P(!1)},children:a},a))})]})]}),e.jsxs("div",{className:"whats-my-car-worth__field",children:[e.jsx("label",{className:"whats-my-car-worth__label",children:"Make"}),e.jsxs("div",{className:"whats-my-car-worth__select-wrapper",children:[e.jsxs("button",{type:"button",className:`whats-my-car-worth__select ${s?"whats-my-car-worth__select--selected":""}`,onClick:()=>T(!j),children:[e.jsx("span",{children:s||"Select make"}),e.jsx(_,{size:18,className:j?"rotated":""})]}),j&&e.jsx("div",{className:"whats-my-car-worth__dropdown",children:U.map(a=>e.jsx("button",{type:"button",className:`whats-my-car-worth__dropdown-item ${a===s?"selected":""}`,onClick:()=>K(a),children:a},a))})]})]}),e.jsxs("div",{className:"whats-my-car-worth__field",children:[e.jsx("label",{className:"whats-my-car-worth__label",children:"Model"}),e.jsxs("div",{className:"whats-my-car-worth__select-wrapper",children:[e.jsxs("button",{type:"button",className:`whats-my-car-worth__select ${o?"whats-my-car-worth__select--selected":""}`,onClick:()=>s&&W(!v),disabled:!s,children:[e.jsx("span",{children:o||(s?"Select model":"Select make first")}),e.jsx(_,{size:18,className:v?"rotated":""})]}),v&&e.jsx("div",{className:"whats-my-car-worth__dropdown",children:J.map(a=>e.jsx("button",{type:"button",className:`whats-my-car-worth__dropdown-item ${a===o?"selected":""}`,onClick:()=>{S(a),W(!1)},children:a},a))})]})]})]}),e.jsxs("div",{className:"whats-my-car-worth__form-row",children:[e.jsxs("div",{className:"whats-my-car-worth__field",children:[e.jsx("label",{className:"whats-my-car-worth__label",children:"Current Mileage"}),e.jsxs("div",{className:"whats-my-car-worth__input-wrapper",children:[e.jsx("input",{type:"text",className:"whats-my-car-worth__input",placeholder:"e.g. 45,000",value:l,onChange:a=>R(X(a.target.value))}),e.jsx("span",{className:"whats-my-car-worth__input-suffix",children:"miles"})]})]}),e.jsxs("div",{className:"whats-my-car-worth__field whats-my-car-worth__field--wide",children:[e.jsx("label",{className:"whats-my-car-worth__label",children:"Condition"}),e.jsxs("div",{className:"whats-my-car-worth__select-wrapper",children:[e.jsxs("button",{type:"button",className:"whats-my-car-worth__select whats-my-car-worth__select--selected",onClick:()=>E(!g),children:[e.jsx("span",{children:k.find(a=>a.value===c)?.label}),e.jsx(_,{size:18,className:g?"rotated":""})]}),g&&e.jsx("div",{className:"whats-my-car-worth__dropdown whats-my-car-worth__dropdown--condition",children:k.map(a=>e.jsxs("button",{type:"button",className:`whats-my-car-worth__dropdown-item ${a.value===c?"selected":""}`,onClick:()=>{$(a.value),E(!1)},children:[e.jsx("span",{className:"whats-my-car-worth__condition-label",children:a.label}),e.jsx("span",{className:"whats-my-car-worth__condition-desc",children:a.description})]},a.value))})]})]})]}),e.jsx(M,{variant:"success",size:"large",fullWidth:!0,className:"whats-my-car-worth__cta",onClick:Q,disabled:!Z,iconRight:e.jsx(oe,{size:18}),children:"GET MY ESTIMATE"})]}),V&&i&&e.jsxs("div",{className:"whats-my-car-worth__results",children:[e.jsxs("div",{className:"whats-my-car-worth__results-header",children:[e.jsxs("h3",{className:"whats-my-car-worth__results-title",children:["Your ",r," ",s," ",o," Estimate"]}),e.jsxs("div",{className:"whats-my-car-worth__results-meta",children:[e.jsxs("span",{children:[l," miles"]}),e.jsx("span",{className:"whats-my-car-worth__divider",children:"â€¢"}),e.jsxs("span",{children:[k.find(a=>a.value===c)?.label," condition"]})]})]}),e.jsxs("div",{className:"whats-my-car-worth__value-display",children:[e.jsxs("div",{className:"whats-my-car-worth__value-range",children:[e.jsxs("div",{className:"whats-my-car-worth__value-low",children:[e.jsx("span",{className:"whats-my-car-worth__value-label",children:"Trade-In Low"}),e.jsx("span",{className:"whats-my-car-worth__value-amount",children:N(i.low)})]}),e.jsxs("div",{className:"whats-my-car-worth__value-mid",children:[e.jsx("span",{className:"whats-my-car-worth__value-label",children:"Estimated Value"}),e.jsx("span",{className:"whats-my-car-worth__value-amount whats-my-car-worth__value-amount--primary",children:N(i.mid)}),e.jsxs("div",{className:"whats-my-car-worth__trend",children:[i.trend==="up"&&e.jsxs(e.Fragment,{children:[e.jsx(le,{size:16,className:"whats-my-car-worth__trend-icon whats-my-car-worth__trend-icon--up"}),e.jsx("span",{className:"whats-my-car-worth__trend-text whats-my-car-worth__trend-text--up",children:"Market trending up"})]}),i.trend==="down"&&e.jsxs(e.Fragment,{children:[e.jsx(ne,{size:16,className:"whats-my-car-worth__trend-icon whats-my-car-worth__trend-icon--down"}),e.jsx("span",{className:"whats-my-car-worth__trend-text whats-my-car-worth__trend-text--down",children:"Market trending down"})]}),i.trend==="stable"&&e.jsxs(e.Fragment,{children:[e.jsx(ie,{size:16,className:"whats-my-car-worth__trend-icon whats-my-car-worth__trend-icon--stable"}),e.jsx("span",{className:"whats-my-car-worth__trend-text whats-my-car-worth__trend-text--stable",children:"Market stable"})]})]})]}),e.jsxs("div",{className:"whats-my-car-worth__value-high",children:[e.jsx("span",{className:"whats-my-car-worth__value-label",children:"Trade-In High"}),e.jsx("span",{className:"whats-my-car-worth__value-amount",children:N(i.high)})]})]}),e.jsx("div",{className:"whats-my-car-worth__value-bar",children:e.jsxs("div",{className:"whats-my-car-worth__value-bar-track",children:[e.jsx("div",{className:"whats-my-car-worth__value-bar-fill"}),e.jsx("div",{className:"whats-my-car-worth__value-bar-marker"})]})})]}),e.jsxs("div",{className:"whats-my-car-worth__results-info",children:[e.jsx(ce,{size:16}),e.jsx("p",{children:"This estimate is based on current market data. Actual trade-in value may vary based on vehicle history, local market conditions, and dealer assessment."})]}),e.jsxs("div",{className:"whats-my-car-worth__results-actions",children:[e.jsx(M,{variant:"primary",className:"whats-my-car-worth__action-btn",iconLeft:e.jsx(y,{size:18}),children:"GET DEALER OFFERS"}),e.jsx(M,{variant:"outline",className:"whats-my-car-worth__action-btn",children:"SHOP WITH TRADE-IN"})]}),e.jsxs("p",{className:"whats-my-car-worth__powered-by",children:["Powered by ",e.jsx("strong",{children:"Black Book"})]})]}),e.jsxs("div",{className:"whats-my-car-worth__trust",children:[e.jsxs("div",{className:"whats-my-car-worth__trust-item",children:[e.jsx(y,{size:16}),e.jsx("span",{children:"No personal info required"})]}),e.jsxs("div",{className:"whats-my-car-worth__trust-item",children:[e.jsx(y,{size:16}),e.jsx("span",{children:"Instant results"})]}),e.jsxs("div",{className:"whats-my-car-worth__trust-item",children:[e.jsx(y,{size:16}),e.jsx("span",{children:"Real market data"})]})]})]})})};z.__docgenInfo={description:"",methods:[],displayName:"WhatsMyCarWorth",props:{defaultYear:{required:!1,tsType:{name:"string"},description:"Pre-selected year",defaultValue:{value:"''",computed:!1}},defaultMake:{required:!1,tsType:{name:"string"},description:"Pre-selected make",defaultValue:{value:"''",computed:!1}},defaultModel:{required:!1,tsType:{name:"string"},description:"Pre-selected model",defaultValue:{value:"''",computed:!1}},onGetEstimate:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: { year: string; make: string; model: string; mileage: number; condition: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ year: string; make: string; model: string; mileage: number; condition: string }",signature:{properties:[{key:"year",value:{name:"string",required:!0}},{key:"make",value:{name:"string",required:!0}},{key:"model",value:{name:"string",required:!0}},{key:"mileage",value:{name:"number",required:!0}},{key:"condition",value:{name:"string",required:!0}}]}},name:"data"}],return:{name:"void"}}},description:"Callback when estimate is requested"}}};const ke={title:"Components/WhatsMyCarWorth",component:z,parameters:{layout:"fullscreen",docs:{description:{component:`
# What's My Car Worth?

A trade-in value estimator component that allows users to get an instant estimate of their vehicle's worth.

## Features
- Year, Make, Model selection from vehicle database
- Mileage input with formatting
- Condition selector with descriptions
- Instant value estimate with range (low/mid/high)
- Market trend indicator
- Trust badges for credibility

## Usage
\`\`\`tsx
import WhatsMyCarWorth from '@/components/WhatsMyCarWorth';

<WhatsMyCarWorth 
  onGetEstimate={(data) => console.log('Estimate requested:', data)}
/>
\`\`\`

## Integration
This component is powered by Black Book data (mock) and can be integrated with actual valuation APIs.
        `}}},tags:["autodocs"],argTypes:{defaultYear:{control:"text",description:"Pre-selected year"},defaultMake:{control:"text",description:"Pre-selected make"},defaultModel:{control:"text",description:"Pre-selected model"},onGetEstimate:{action:"estimate-requested",description:"Callback when estimate is requested"}}},m={args:{}},h={args:{defaultYear:"2020",defaultMake:"Honda",defaultModel:"Accord"}},u={args:{defaultYear:"2019",defaultMake:"Toyota",defaultModel:"Camry"}},w={args:{defaultYear:"2021",defaultMake:"Chevrolet",defaultModel:"Silverado 1500"}},p={args:{defaultYear:"2022",defaultMake:"BMW",defaultModel:"3 Series"}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  args: {}
}`,...m.parameters?.docs?.source},description:{story:"Default state - empty form ready for user input",...m.parameters?.docs?.description}}};h.parameters={...h.parameters,docs:{...h.parameters?.docs,source:{originalSource:`{
  args: {
    defaultYear: '2020',
    defaultMake: 'Honda',
    defaultModel: 'Accord'
  }
}`,...h.parameters?.docs?.source},description:{story:"Pre-filled with a Honda Accord",...h.parameters?.docs?.description}}};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:`{
  args: {
    defaultYear: '2019',
    defaultMake: 'Toyota',
    defaultModel: 'Camry'
  }
}`,...u.parameters?.docs?.source},description:{story:"Pre-filled with a Toyota Camry",...u.parameters?.docs?.description}}};w.parameters={...w.parameters,docs:{...w.parameters?.docs,source:{originalSource:`{
  args: {
    defaultYear: '2021',
    defaultMake: 'Chevrolet',
    defaultModel: 'Silverado 1500'
  }
}`,...w.parameters?.docs?.source},description:{story:"Pre-filled with a Chevrolet Silverado truck",...w.parameters?.docs?.description}}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  args: {
    defaultYear: '2022',
    defaultMake: 'BMW',
    defaultModel: '3 Series'
  }
}`,...p.parameters?.docs?.source},description:{story:"Pre-filled with a BMW 3 Series",...p.parameters?.docs?.description}}};const Ce=["Default","PrefilledHondaAccord","PrefilledToyotaCamry","PrefilledChevroletSilverado","PrefilledBMW3Series"];export{m as Default,p as PrefilledBMW3Series,w as PrefilledChevroletSilverado,h as PrefilledHondaAccord,u as PrefilledToyotaCamry,Ce as __namedExportsOrder,ke as default};
