import{r as u,j as e}from"./iframe-cxIeY4xe.js";import{X as re}from"./x-BdxpChNc.js";import{C as te}from"./chevron-left-BuSCitF7.js";import{C as ne}from"./chevron-right-CXuBxHJ2.js";import{Y as W}from"./youtube-D73q72LX.js";import{E as k}from"./external-link-CFwSDy3K.js";import{S as O}from"./star-BdSMzOYn.js";import{I as le}from"./info-D34PNB5L.js";import{T as ie}from"./triangle-alert-Ddc_wbdc.js";import{C as T}from"./circle-check-big-CyhH2nym.js";import{L as M}from"./loader-circle-B-GrOVpF.js";import{C as P}from"./chevron-up-CiiblUYr.js";import{C as F}from"./chevron-down-pXA4pU1z.js";import{c as B}from"./createLucideIcon-D2YFKtch.js";import{C as ce}from"./car-DXhjvGLO.js";import{U as oe}from"./users-g-JhKbv-.js";import{S as D}from"./shield-check-WfXU0AcZ.js";import{C as de}from"./camera-DvDIw9Li.js";import{F as me}from"./file-text-CYke7pzY.js";import{W as he}from"./wrench-BTseyGAZ.js";import{S as _e}from"./shield-B4-gs0PT.js";import{C as ye}from"./calendar-D031cybv.js";import{M as pe}from"./minus-Bp_zLfWh.js";import{T as ue}from"./trending-up-DrE5X976.js";import{T as ge}from"./trending-down-BTCUGRY-.js";const ve=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],xe=B("flame",ve);const fe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 15h.01",key:"q59x07"}],["path",{d:"M12 7v4",key:"xawao1"}]],je=B("message-square-warning",fe),q={Sedan:{avgComplaints:25,avgRecalls:3},SUV:{avgComplaints:45,avgRecalls:5},Truck:{avgComplaints:55,avgRecalls:6},Coupe:{avgComplaints:20,avgRecalls:3},Hatchback:{avgComplaints:20,avgRecalls:3},Convertible:{avgComplaints:15,avgRecalls:2},Wagon:{avgComplaints:20,avgRecalls:3},Van:{avgComplaints:40,avgRecalls:5},default:{avgComplaints:35,avgRecalls:4}},we=["BMW","Mercedes-Benz","Audi","Lexus","Porsche","Land Rover","Jaguar","Maserati","Bentley","Rolls-Royce","Genesis","Infiniti","Acura","Volvo","Lincoln","Cadillac"];function Ne(n,l,r,i){const o=we.includes(i),m=q[r]||q.default,y=o?m.avgComplaints*1.5:m.avgComplaints,f=o?m.avgRecalls*1.2:m.avgRecalls,s=n/y,h=l/f,t=Math.min(Math.round(s*50),100),A=Math.min(Math.round(h*50),100),_=N=>N<=.3?"excellent":N<=.7?"good":N<=1.3?"average":N<=2?"below-average":"poor",I=N=>N<=.5?"excellent":N<=.8?"good":N<=1.5?"average":N<=2.5?"below-average":"poor",j=_(s),S=I(h),x=s<.8?"below":s>1.2?"above":"average",g=h<.8?"below":h>1.2?"above":"average",c={excellent:5,good:4,average:3,"below-average":2,poor:1},p=c[j]*.6+c[S]*.4;let v;p>=4.5?v="excellent":p>=3.5?v="good":p>=2.5?v="average":p>=1.5?v="below-average":v="poor";const b=o?`luxury ${r.toLowerCase()}s`:`${r.toLowerCase()}s`;let w="";return v==="excellent"||v==="good"?n===0&&l===0?w="Outstanding reliability record with no reported issues.":x==="below"&&g==="below"?w=`Fewer complaints and recalls than average for ${b}.`:x==="below"?w=`Fewer owner complaints than typical for ${b}.`:w="Reliability is better than average for this segment.":v==="average"?w=`Reliability is typical for ${b} of this model year.`:x==="above"&&g==="above"?w="More complaints and recalls than average. Review issues before buying.":x==="above"?w="Higher than average complaint rate. Check common issues carefully.":w="More recalls than typical. Verify all recalls have been addressed.",{complaintsRating:j,recallsRating:S,complaintsPercentile:t,recallsPercentile:A,segmentAvgComplaints:Math.round(y),segmentAvgRecalls:Math.round(f),complaintsVsAverage:x,recallsVsAverage:g,overallRating:v,summary:w}}const z="https://api.nhtsa.gov";async function Ce(n,l,r){try{const i=typeof r=="string"?parseInt(r,10):r,o=new Date().getFullYear();if(i>o)return[];const m=`${z}/recalls/recallsByVehicle?make=${encodeURIComponent(n)}&model=${encodeURIComponent(l)}&modelYear=${r}`,y=await fetch(m);if(y.status===400)return[];if(!y.ok)throw new Error(`NHTSA API error: ${y.status}`);const f=await y.json();return f.results||f.Results||[]}catch(i){return i instanceof Error&&!i.message.includes("400")&&console.error("Error fetching NHTSA recalls:",i),[]}}async function be(n,l,r){try{const i=`${z}/SafetyRatings/modelyear/${r}/make/${encodeURIComponent(n)}/model/${encodeURIComponent(l)}?format=json`,o=await fetch(i);if(o.status===400)return[];if(!o.ok)throw new Error(`NHTSA API error: ${o.status}`);const m=await o.json();return m.Results&&m.Results.length>0?m.Results[0].VehicleId:null}catch(i){return console.error("Error fetching NHTSA vehicle ID:",i),null}}async function Re(n){try{const l=`${z}/SafetyRatings/VehicleId/${n}?format=json`,r=await fetch(l);if(r.status===400)return[];if(!r.ok)throw new Error(`NHTSA API error: ${r.status}`);const i=await r.json();return i.Results&&i.Results.length>0?i.Results[0]:null}catch(l){return console.error("Error fetching NHTSA safety ratings:",l),null}}async function Se(n,l,r){const i=await be(n,l,r);return i?Re(i):null}function Ae(n){if(!n)return"Unknown date";try{return new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return n}}function Te(n){const l=n.toLowerCase();return l.includes("crash")||l.includes("fire")||l.includes("injury")||l.includes("death")||l.includes("serious")?"high":l.includes("stall")||l.includes("loss of")||l.includes("fail")?"medium":"low"}function $(n){if(!n||n==="Not Rated")return null;const l=n.match(/(\d)/);return l?parseInt(l[1],10):null}async function $e(n,l,r){try{const i=`${z}/complaints/complaintsByVehicle?make=${encodeURIComponent(n)}&model=${encodeURIComponent(l)}&modelYear=${r}`,o=await fetch(i);if(o.status===400)return[];if(!o.ok)throw new Error(`NHTSA API error: ${o.status}`);const m=await o.json();return m.results||m.Results||[]}catch(i){return console.error("Error fetching NHTSA complaints:",i),[]}}function Ie(n){const l=n.filter(s=>s.crash).length,r=n.filter(s=>s.fire).length,i=n.reduce((s,h)=>s+(h.numberOfInjuries||0),0),o=n.reduce((s,h)=>s+(h.numberOfDeaths||0),0),m={};n.forEach(s=>{s.components&&s.components.split(",").map(t=>t.trim()).forEach(t=>{t&&(m[t]=(m[t]||0)+1)})});const y=Object.entries(m).sort((s,h)=>h[1]-s[1]).slice(0,5).map(([s,h])=>({component:s,count:h})),f=[...n].sort((s,h)=>{const t=new Date(s.dateComplaintFiled||"");return new Date(h.dateComplaintFiled||"").getTime()-t.getTime()}).slice(0,3);return{totalComplaints:n.length,crashCount:l,fireCount:r,injuryCount:i,deathCount:o,topComponents:y,recentComplaints:f}}function ke(n){if(!n)return"Unknown date";try{const l=n.split("/");if(l.length===3){const[r,i,o]=l;return new Date(parseInt(o),parseInt(i)-1,parseInt(r)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}return n}catch{return n}}const Y=({isOpen:n,onClose:l,safetyRatings:r,vehicleName:i})=>{const o=u.useRef(null),[m,y]=u.useState(0),[f,s]=u.useState({}),h=[{id:"front",label:"Frontal Crash Test",imageUrl:r.FrontCrashPicture,videoUrl:r.FrontCrashVideo,rating:r.OverallFrontCrashRating,description:"Simulates a head-on collision between two vehicles of similar weight, each traveling at 35 mph."},{id:"side",label:"Side Crash Test",imageUrl:r.SideCrashPicture,videoUrl:r.SideCrashVideo,rating:r.OverallSideCrashRating,description:"A 3,015-pound barrier moving at 38.5 mph strikes the driver side of the vehicle."},{id:"pole",label:"Side Pole Crash Test",imageUrl:r.SidePolePicture,videoUrl:r.SidePoleVideo,rating:r.SidePoleCrashRating,description:"The vehicle slides sideways at 20 mph into a rigid pole, simulating a tree or utility pole impact."}].filter(c=>c.imageUrl),t=`NHTSA ${r.ModelYear} ${r.Make} ${r.Model} crash test`,A=`https://www.youtube.com/results?search_query=${encodeURIComponent(t)}`;u.useEffect(()=>{const c=p=>{p.key==="Escape"&&l(),p.key==="ArrowLeft"&&I(),p.key==="ArrowRight"&&j()};return n&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow=""}},[n,l,m]);const _=c=>{c.target===c.currentTarget&&l()},I=()=>{y(c=>c>0?c-1:h.length-1)},j=()=>{y(c=>c<h.length-1?c+1:0)},S=c=>{s(p=>({...p,[c]:!0}))},x=(c,p=20)=>{const v=$(c||"");return v===null?e.jsx("span",{className:"crash-test-modal__not-rated",children:"Not Rated"}):e.jsx("div",{className:"crash-test-modal__stars",children:[1,2,3,4,5].map(b=>e.jsx(O,{size:p,className:b<=v?"crash-test-modal__star--filled":"crash-test-modal__star--empty",fill:b<=v?"currentColor":"none"},b))})};if(!n||h.length===0)return null;const g=h[m];return e.jsx("div",{className:"crash-test-modal",onClick:_,children:e.jsxs("div",{className:"crash-test-modal__content",ref:o,children:[e.jsxs("header",{className:"crash-test-modal__header",children:[e.jsxs("div",{className:"crash-test-modal__header-content",children:[e.jsx("h2",{className:"crash-test-modal__title",children:"Crash Test Results"}),e.jsx("p",{className:"crash-test-modal__subtitle",children:i})]}),e.jsx("button",{className:"crash-test-modal__close",onClick:l,"aria-label":"Close modal",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"crash-test-modal__body",children:[e.jsxs("div",{className:"crash-test-modal__gallery",children:[h.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"crash-test-modal__nav crash-test-modal__nav--prev",onClick:I,"aria-label":"Previous image",children:e.jsx(te,{size:28})}),e.jsx("button",{className:"crash-test-modal__nav crash-test-modal__nav--next",onClick:j,"aria-label":"Next image",children:e.jsx(ne,{size:28})})]}),e.jsx("div",{className:"crash-test-modal__image-container",children:!f[g.id]&&g.imageUrl?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:g.imageUrl,alt:`${i} ${g.label}`,className:"crash-test-modal__image",onError:()=>S(g.id)}),e.jsxs("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"crash-test-modal__play-btn",children:[e.jsx(W,{size:28}),e.jsx("span",{children:"Watch Video"})]})]}):e.jsx("div",{className:"crash-test-modal__image-placeholder",children:e.jsx("span",{children:"Image not available"})})}),e.jsxs("div",{className:"crash-test-modal__image-info",children:[e.jsxs("div",{className:"crash-test-modal__image-header",children:[e.jsx("h3",{className:"crash-test-modal__image-label",children:g.label}),e.jsx("div",{className:"crash-test-modal__image-rating",children:x(g.rating)})]}),e.jsx("p",{className:"crash-test-modal__image-description",children:g.description})]})]}),h.length>1&&e.jsx("div",{className:"crash-test-modal__thumbnails",children:h.map((c,p)=>e.jsxs("button",{className:`crash-test-modal__thumbnail ${p===m?"crash-test-modal__thumbnail--active":""}`,onClick:()=>y(p),"aria-label":`View ${c.label}`,children:[!f[c.id]&&c.imageUrl?e.jsx("img",{src:c.imageUrl,alt:c.label,onError:()=>S(c.id)}):e.jsx("div",{className:"crash-test-modal__thumbnail-placeholder"}),e.jsx("span",{className:"crash-test-modal__thumbnail-label",children:c.label.replace(" Test","")})]},c.id))})]}),e.jsxs("footer",{className:"crash-test-modal__footer",children:[e.jsx("p",{className:"crash-test-modal__disclaimer",children:"Images and ratings provided by NHTSA. Videos from YouTube."}),e.jsxs("div",{className:"crash-test-modal__footer-links",children:[e.jsxs("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"crash-test-modal__youtube-link",children:[e.jsx(W,{size:16}),"More Videos on YouTube"]}),e.jsxs("a",{href:"https://www.nhtsa.gov/ratings",target:"_blank",rel:"noopener noreferrer",className:"crash-test-modal__nhtsa-link",children:["NHTSA.gov",e.jsx(k,{size:14})]})]})]})]})})};Y.__docgenInfo={description:"",methods:[],displayName:"CrashTestModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},safetyRatings:{required:!0,tsType:{name:"NHTSASafetyRating"},description:""},vehicleName:{required:!0,tsType:{name:"string"},description:""}}};const ze=({items:n,title:l="Warranty & Safety",make:r,model:i,year:o,bodyStyle:m="SUV"})=>{const[y,f]=u.useState([]),[s,h]=u.useState(null),[t,A]=u.useState(null),[_,I]=u.useState(null),[j,S]=u.useState(!1),[x,g]=u.useState(!1),[c,p]=u.useState(!1),[v,b]=u.useState(null),[w,N]=u.useState(null),[E,G]=u.useState(!1),[X,U]=u.useState(!1);u.useEffect(()=>{r&&i&&o&&(S(!0),Ce(r,i,o).then(a=>{f(a)}).finally(()=>{S(!1)}),g(!0),$e(r,i,o).then(a=>{const d=Ie(a);h(d)}).finally(()=>{g(!1)}),p(!0),Se(r,i,o).then(a=>{A(a)}).finally(()=>{p(!1)}))},[r,i,o]),u.useEffect(()=>{if(!j&&!x&&r){const a=s?.totalComplaints||0,d=y.length,C=Ne(a,d,m,r);I(C)}},[j,x,s,y,m,r]);const J=a=>{b(d=>d===a?null:a)},K=a=>{N(d=>d===a?null:a)},Q=E?y:y.slice(0,3),H=y.length>0,Z=j||x||c,R=(a,d=18)=>{const C=$(a||"");return C===null?e.jsx("span",{className:"warranty__safety-not-rated",children:"Not Rated"}):e.jsx("div",{className:"warranty__safety-stars",children:[1,2,3,4,5].map(V=>e.jsx(O,{size:d,className:V<=C?"warranty__safety-star--filled":"warranty__safety-star--empty",fill:V<=C?"currentColor":"none"},V))})},ee=a=>{const d=$(a||"");return d===null?"Not Tested":d===5?"Excellent":d===4?"Good":d===3?"Acceptable":d===2?"Marginal":"Poor"},ae=t&&(t.FrontCrashPicture||t.SideCrashPicture||t.SidePolePicture),se=a=>{switch(a){case"excellent":return"warranty__rating--excellent";case"good":return"warranty__rating--good";case"average":return"warranty__rating--average";case"below-average":return"warranty__rating--below-average";case"poor":return"warranty__rating--poor";default:return""}},L=a=>{switch(a){case"below":return e.jsx(ge,{size:14});case"above":return e.jsx(ue,{size:14});default:return e.jsx(pe,{size:14})}};return e.jsxs("section",{className:"warranty",children:[e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"warranty__header",children:e.jsx("h2",{className:"warranty__title",children:l})}),r&&i&&o&&e.jsxs("div",{className:"warranty__nhtsa",children:[_&&!Z&&e.jsxs("div",{className:"warranty__reliability",children:[e.jsxs("div",{className:"warranty__reliability-header",children:[e.jsxs("div",{className:"warranty__reliability-score",children:[e.jsx("span",{className:"warranty__reliability-label",children:"NHTSA Reliability"}),e.jsx("span",{className:`warranty__reliability-rating ${se(_.overallRating)}`,children:_.overallRating.replace("-"," ").replace(/\b\w/g,a=>a.toUpperCase())})]}),e.jsxs("div",{className:"warranty__reliability-info",children:[e.jsx(le,{size:16}),e.jsx("span",{children:"Based on owner complaints and recalls vs. segment average"})]})]}),e.jsx("p",{className:"warranty__reliability-summary",children:_.summary})]}),e.jsxs("div",{className:"warranty__nhtsa-grid",children:[e.jsxs("div",{className:"warranty__recalls",children:[e.jsxs("div",{className:"warranty__recalls-header",children:[e.jsxs("h3",{className:"warranty__recalls-title",children:[e.jsx(ie,{size:20}),"Recalls"]}),!j&&e.jsx("div",{className:`warranty__recalls-badge ${H?"warranty__recalls-badge--warning":"warranty__recalls-badge--success"}`,children:H?e.jsxs(e.Fragment,{children:[y.length," Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{size:12}),"None"]})})]}),_&&!j&&e.jsxs("div",{className:"warranty__metric-inline",children:[e.jsx("div",{className:"warranty__metric-inline-header",children:e.jsxs("span",{className:`warranty__reliability-comparison warranty__reliability-comparison--${_.recallsVsAverage}`,children:[L(_.recallsVsAverage),_.recallsVsAverage==="below"?"Below Avg":_.recallsVsAverage==="above"?"Above Avg":"Average"]})}),e.jsxs("div",{className:"warranty__reliability-bar",children:[e.jsx("div",{className:`warranty__reliability-bar-fill warranty__reliability-bar-fill--${_.recallsRating}`,style:{width:`${Math.min(_.recallsPercentile,100)}%`}}),e.jsx("div",{className:"warranty__reliability-bar-marker",style:{left:"50%"},title:"Segment Average"})]}),e.jsxs("div",{className:"warranty__reliability-metric-footer",children:[e.jsxs("span",{children:[y.length," issued"]}),e.jsxs("span",{className:"warranty__reliability-avg",children:["Avg: ",_.segmentAvgRecalls]})]})]}),j?e.jsxs("div",{className:"warranty__recalls-loading",children:[e.jsx(M,{size:24,className:"warranty__recalls-spinner"}),e.jsx("span",{children:"Checking recalls..."})]}):H?e.jsxs("div",{className:"warranty__recalls-list",children:[Q.map(a=>{const d=v===a.NHTSACampaignNumber,C=Te(a.Consequence);return e.jsxs("div",{className:`warranty__recall-item warranty__recall-item--${C}`,children:[e.jsxs("button",{className:"warranty__recall-header",onClick:()=>J(a.NHTSACampaignNumber),"aria-expanded":d,children:[e.jsxs("div",{className:"warranty__recall-info",children:[e.jsx("span",{className:`warranty__recall-severity warranty__recall-severity--${C}`,children:C==="high"?"Critical":C==="medium"?"Important":"Notice"}),e.jsx("span",{className:"warranty__recall-component",children:a.Component}),e.jsx("span",{className:"warranty__recall-date",children:Ae(a.ReportReceivedDate)})]}),e.jsx("div",{className:"warranty__recall-toggle",children:d?e.jsx(P,{size:20}):e.jsx(F,{size:20})})]}),d&&e.jsxs("div",{className:"warranty__recall-details",children:[e.jsxs("div",{className:"warranty__recall-section",children:[e.jsx("h4",{children:"Summary"}),e.jsx("p",{children:a.Summary})]}),e.jsxs("div",{className:"warranty__recall-section",children:[e.jsx("h4",{children:"Consequence"}),e.jsx("p",{children:a.Consequence})]}),e.jsxs("div",{className:"warranty__recall-section",children:[e.jsx("h4",{children:"Remedy"}),e.jsx("p",{children:a.Remedy})]}),a.Notes&&e.jsxs("div",{className:"warranty__recall-section",children:[e.jsx("h4",{children:"Additional Notes"}),e.jsx("p",{children:a.Notes})]}),e.jsxs("div",{className:"warranty__recall-footer",children:[e.jsxs("span",{className:"warranty__recall-campaign",children:["#",a.NHTSACampaignNumber]}),e.jsxs("a",{href:`https://www.nhtsa.gov/recalls?nhtsaId=${a.NHTSACampaignNumber}`,target:"_blank",rel:"noopener noreferrer",className:"warranty__recall-link",children:["NHTSA.gov",e.jsx(k,{size:14})]})]})]})]},a.NHTSACampaignNumber)}),y.length>3&&e.jsx("button",{className:"warranty__recalls-toggle",onClick:()=>G(!E),children:E?e.jsxs(e.Fragment,{children:["Show Less ",e.jsx(P,{size:16})]}):e.jsxs(e.Fragment,{children:["Show All ",y.length," ",e.jsx(F,{size:16})]})})]}):e.jsxs("div",{className:"warranty__recalls-empty",children:[e.jsx(T,{size:28,className:"warranty__recalls-empty-icon"}),e.jsx("p",{children:"No open recalls"})]})]}),e.jsxs("div",{className:"warranty__complaints",children:[e.jsxs("div",{className:"warranty__complaints-header",children:[e.jsxs("h3",{className:"warranty__complaints-title",children:[e.jsx(je,{size:20}),"Owner Complaints"]}),!x&&s&&e.jsx("div",{className:`warranty__complaints-badge ${s.totalComplaints>50?"warranty__complaints-badge--warning":s.totalComplaints>0?"warranty__complaints-badge--caution":"warranty__complaints-badge--success"}`,children:s.totalComplaints>0?e.jsxs(e.Fragment,{children:[s.totalComplaints," Reports"]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{size:12}),"None"]})})]}),_&&!x&&e.jsxs("div",{className:"warranty__metric-inline",children:[e.jsx("div",{className:"warranty__metric-inline-header",children:e.jsxs("span",{className:`warranty__reliability-comparison warranty__reliability-comparison--${_.complaintsVsAverage}`,children:[L(_.complaintsVsAverage),_.complaintsVsAverage==="below"?"Below Avg":_.complaintsVsAverage==="above"?"Above Avg":"Average"]})}),e.jsxs("div",{className:"warranty__reliability-bar",children:[e.jsx("div",{className:`warranty__reliability-bar-fill warranty__reliability-bar-fill--${_.complaintsRating}`,style:{width:`${Math.min(_.complaintsPercentile,100)}%`}}),e.jsx("div",{className:"warranty__reliability-bar-marker",style:{left:"50%"},title:"Segment Average"})]}),e.jsxs("div",{className:"warranty__reliability-metric-footer",children:[e.jsxs("span",{children:[s?.totalComplaints||0," reported"]}),e.jsxs("span",{className:"warranty__reliability-avg",children:["Avg: ",_.segmentAvgComplaints]})]})]}),x?e.jsxs("div",{className:"warranty__complaints-loading",children:[e.jsx(M,{size:24,className:"warranty__complaints-spinner"}),e.jsx("span",{children:"Loading complaints..."})]}):s&&s.totalComplaints>0?e.jsxs("div",{className:"warranty__complaints-content",children:[(s.crashCount>0||s.fireCount>0||s.injuryCount>0)&&e.jsxs("div",{className:"warranty__complaints-stats",children:[s.crashCount>0&&e.jsxs("div",{className:"warranty__complaints-stat warranty__complaints-stat--crash",children:[e.jsx(ce,{size:16}),e.jsxs("span",{children:[s.crashCount," Crash",s.crashCount!==1?"es":""]})]}),s.fireCount>0&&e.jsxs("div",{className:"warranty__complaints-stat warranty__complaints-stat--fire",children:[e.jsx(xe,{size:16}),e.jsxs("span",{children:[s.fireCount," Fire",s.fireCount!==1?"s":""]})]}),s.injuryCount>0&&e.jsxs("div",{className:"warranty__complaints-stat warranty__complaints-stat--injury",children:[e.jsx(oe,{size:16}),e.jsxs("span",{children:[s.injuryCount," Injur",s.injuryCount!==1?"ies":"y"]})]})]}),s.topComponents.length>0&&e.jsxs("div",{className:"warranty__complaints-components",children:[e.jsx("h4",{children:"Most Reported Issues"}),e.jsx("div",{className:"warranty__complaints-component-list",children:s.topComponents.map((a,d)=>e.jsxs("div",{className:"warranty__complaints-component",children:[e.jsx("span",{className:"warranty__complaints-component-name",children:a.component}),e.jsx("span",{className:"warranty__complaints-component-count",children:a.count})]},d))})]}),s.recentComplaints.length>0&&e.jsxs("div",{className:"warranty__complaints-recent",children:[e.jsx("h4",{children:"Recent Reports"}),s.recentComplaints.map(a=>{const d=w===a.odiNumber;return e.jsxs("div",{className:"warranty__complaint-item",children:[e.jsxs("button",{className:"warranty__complaint-header",onClick:()=>K(a.odiNumber),"aria-expanded":d,children:[e.jsxs("div",{className:"warranty__complaint-info",children:[e.jsx("span",{className:"warranty__complaint-component",children:a.components}),e.jsx("span",{className:"warranty__complaint-date",children:ke(a.dateComplaintFiled)}),(a.crash||a.fire)&&e.jsxs("div",{className:"warranty__complaint-flags",children:[a.crash&&e.jsx("span",{className:"warranty__complaint-flag warranty__complaint-flag--crash",children:"Crash"}),a.fire&&e.jsx("span",{className:"warranty__complaint-flag warranty__complaint-flag--fire",children:"Fire"})]})]}),e.jsx("div",{className:"warranty__complaint-toggle",children:d?e.jsx(P,{size:18}):e.jsx(F,{size:18})})]}),d&&e.jsxs("div",{className:"warranty__complaint-details",children:[e.jsx("p",{children:a.summary}),e.jsxs("div",{className:"warranty__complaint-footer",children:[e.jsxs("span",{className:"warranty__complaint-id",children:["ODI #",a.odiNumber]}),e.jsxs("a",{href:`https://www.nhtsa.gov/vehicle/${o}/${r}/${i}/complaints`,target:"_blank",rel:"noopener noreferrer",className:"warranty__complaint-link",children:["View All on NHTSA",e.jsx(k,{size:14})]})]})]})]},a.odiNumber)})]})]}):e.jsxs("div",{className:"warranty__complaints-empty",children:[e.jsx(T,{size:28,className:"warranty__complaints-empty-icon"}),e.jsx("p",{children:"No complaints filed"})]})]}),e.jsxs("div",{className:"warranty__safety",children:[e.jsxs("div",{className:"warranty__safety-header",children:[e.jsxs("h3",{className:"warranty__safety-title",children:[e.jsx(D,{size:20}),"Crash Test Ratings"]}),!c&&t&&e.jsxs("div",{className:`warranty__safety-badge warranty__safety-badge--${$(t.OverallRating)===5?"excellent":$(t.OverallRating)===4?"good":"average"}`,children:[$(t.OverallRating)||"—"," ★"]})]}),c?e.jsxs("div",{className:"warranty__safety-loading",children:[e.jsx(M,{size:24,className:"warranty__safety-spinner"}),e.jsx("span",{children:"Loading ratings..."})]}):t?e.jsxs("div",{className:"warranty__safety-content",children:[e.jsxs("div",{className:"warranty__safety-overall",children:[e.jsx("div",{className:"warranty__safety-overall-label",children:"Overall Rating"}),e.jsxs("div",{className:"warranty__safety-overall-rating",children:[R(t.OverallRating,24),e.jsx("span",{className:"warranty__safety-overall-text",children:ee(t.OverallRating)})]})]}),e.jsxs("div",{className:"warranty__safety-details",children:[e.jsxs("div",{className:"warranty__safety-category",children:[e.jsxs("div",{className:"warranty__safety-category-header",children:[e.jsx("span",{className:"warranty__safety-category-name",children:"Frontal Crash"}),R(t.OverallFrontCrashRating,14)]}),e.jsxs("div",{className:"warranty__safety-subcategories",children:[e.jsxs("div",{className:"warranty__safety-subcategory",children:[e.jsx("span",{children:"Driver"}),R(t.FrontCrashDriversideRating,12)]}),e.jsxs("div",{className:"warranty__safety-subcategory",children:[e.jsx("span",{children:"Passenger"}),R(t.FrontCrashPassengersideRating,12)]})]})]}),e.jsxs("div",{className:"warranty__safety-category",children:[e.jsxs("div",{className:"warranty__safety-category-header",children:[e.jsx("span",{className:"warranty__safety-category-name",children:"Side Crash"}),R(t.OverallSideCrashRating,14)]}),e.jsxs("div",{className:"warranty__safety-subcategories",children:[e.jsxs("div",{className:"warranty__safety-subcategory",children:[e.jsx("span",{children:"Driver"}),R(t.SideCrashDriversideRating,12)]}),e.jsxs("div",{className:"warranty__safety-subcategory",children:[e.jsx("span",{children:"Passenger"}),R(t.SideCrashPassengersideRating,12)]}),t.SidePoleCrashRating&&$(t.SidePoleCrashRating)!==null&&e.jsxs("div",{className:"warranty__safety-subcategory",children:[e.jsx("span",{children:"Pole"}),R(t.SidePoleCrashRating,12)]})]})]}),e.jsxs("div",{className:"warranty__safety-category",children:[e.jsxs("div",{className:"warranty__safety-category-header",children:[e.jsx("span",{className:"warranty__safety-category-name",children:"Rollover"}),R(t.RolloverRating,14)]}),t.RolloverPossibility&&e.jsxs("div",{className:"warranty__safety-rollover-info",children:[e.jsxs("span",{className:"warranty__safety-rollover-percent",children:[t.RolloverPossibility.toFixed(1),"%"]}),e.jsx("span",{className:"warranty__safety-rollover-label",children:"rollover risk"})]})]})]}),(t.NHTSAElectronicStabilityControl||t.NHTSAForwardCollisionWarning||t.NHTSALaneDepartureWarning)&&e.jsxs("div",{className:"warranty__safety-features",children:[e.jsx("h4",{children:"Safety Technology"}),e.jsxs("div",{className:"warranty__safety-features-list",children:[t.NHTSAElectronicStabilityControl&&t.NHTSAElectronicStabilityControl!=="Not Rated"&&e.jsxs("div",{className:"warranty__safety-feature",children:[e.jsx(T,{size:14}),e.jsx("span",{children:"Electronic Stability Control"})]}),t.NHTSAForwardCollisionWarning&&t.NHTSAForwardCollisionWarning!=="Not Rated"&&e.jsxs("div",{className:"warranty__safety-feature",children:[e.jsx(T,{size:14}),e.jsx("span",{children:"Forward Collision Warning"})]}),t.NHTSALaneDepartureWarning&&t.NHTSALaneDepartureWarning!=="Not Rated"&&e.jsxs("div",{className:"warranty__safety-feature",children:[e.jsx(T,{size:14}),e.jsx("span",{children:"Lane Departure Warning"})]})]})]}),ae&&e.jsxs("button",{className:"warranty__safety-photos-btn",onClick:()=>U(!0),children:[e.jsx(de,{size:16}),"View Crash Test Photos"]})]}):e.jsxs("div",{className:"warranty__safety-empty",children:[e.jsx(D,{size:28,className:"warranty__safety-empty-icon"}),e.jsx("p",{children:"No crash test data available"}),e.jsx("span",{className:"warranty__safety-empty-note",children:"This vehicle may not have been tested yet"})]})]})]}),e.jsxs("p",{className:"warranty__nhtsa-disclaimer",children:["Data provided by the National Highway Traffic Safety Administration (NHTSA).",e.jsxs("a",{href:`https://www.nhtsa.gov/vehicle/${o}/${r}/${i}`,target:"_blank",rel:"noopener noreferrer",children:["Verify on NHTSA.gov ",e.jsx(k,{size:12})]})]})]}),e.jsx("div",{className:"warranty__grid",children:n.map((a,d)=>e.jsxs("div",{className:"warranty__card",children:[e.jsx("div",{className:"warranty__card-icon",children:a.icon}),e.jsx("h3",{className:"warranty__card-title",children:a.title}),e.jsx("div",{className:"warranty__card-coverage",children:a.coverage}),e.jsx("p",{className:"warranty__card-description",children:a.description})]},d))}),e.jsx("div",{className:"warranty__note",children:e.jsx("p",{children:"* See dealer for limited warranty details. Warranty coverage varies by manufacturer."})})]}),t&&e.jsx(Y,{isOpen:X,onClose:()=>U(!1),safetyRatings:t,vehicleName:`${o} ${r} ${i}`})]})},na=[{icon:e.jsx(me,{size:28}),title:"Basic Warranty",coverage:"3 Years / 36,000 Miles",description:"Bumper-to-bumper limited warranty covering most vehicle components."},{icon:e.jsx(he,{size:28}),title:"Powertrain Warranty",coverage:"5 Years / 60,000 Miles",description:"Covers engine, transmission, and drivetrain components."},{icon:e.jsx(_e,{size:28}),title:"Corrosion Warranty",coverage:"6 Years / 100,000 Miles",description:"Protection against rust-through corrosion on body panels."},{icon:e.jsx(ye,{size:28}),title:"Complimentary Maintenance",coverage:"First Visit",description:"Includes first scheduled maintenance service at no additional cost."}];ze.__docgenInfo={description:"",methods:[],displayName:"Warranty",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"WarrantyItem"}],raw:"WarrantyItem[]"},description:""},title:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Warranty & Safety"',computed:!1}},make:{required:!1,tsType:{name:"string"},description:""},model:{required:!1,tsType:{name:"string"},description:""},year:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},bodyStyle:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'SUV'",computed:!1}}}};export{ze as W,na as d};
