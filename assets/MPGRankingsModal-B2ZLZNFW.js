import{r as k,j as e,L as P}from"./iframe-BwRx_0QZ.js";import{v as R}from"./index-Dto8T7jp.js";import{T as E}from"./trending-up-ByUzoFEt.js";import{X as G}from"./x-DVaONjQD.js";import{E as z}from"./external-link-BqOjpEK6.js";import{c as C}from"./createLucideIcon-DYMU7qI_.js";import{Z as V}from"./zap-BV71YxP0.js";import{L as q}from"./leaf-dVesCGmx.js";import{F as A}from"./fuel-CKoP4qv4.js";import{A as $}from"./award--FZtEwHO.js";const F=[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]],H=C("plug-zap",F);const I=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Y=C("trophy",I),Z=n=>{const i=n.make.toLowerCase().replace(/\s+/g,"-"),o=n.model.toLowerCase().replace(/\s+/g,"-");return`/${n.year}/${i}/${o}`},K=n=>{const i=n.make.toLowerCase(),o=n.model.toLowerCase();return R.some(m=>{const h=m.make.toLowerCase(),u=m.model.toLowerCase();return h===i&&(u===o||u.replace(/-/g," ")===o||u===o.replace(/\s+/g,"-"))})},p={gas:{label:"Gas",icon:e.jsx(A,{size:16}),unit:"MPG"},hybrid:{label:"Hybrid",icon:e.jsx(q,{size:16}),unit:"MPG"},electric:{label:"Electric",icon:e.jsx(V,{size:16}),unit:"MPGe"},phev:{label:"Plug-in Hybrid",icon:e.jsx(H,{size:16}),unit:"MPGe"}},U=({isOpen:n,onClose:i,vehicles:o,vehiclesByFuelType:m,availableCategories:h=["gas"],currentRank:u,currentMake:c,currentModel:d,currentMPG:b,bodyStyle:y,year:g})=>{const L=k.useRef(null),[a,N]=k.useState("gas");k.useEffect(()=>{const s=l=>{l.key==="Escape"&&i()};return n&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow=""}},[n,i]),k.useEffect(()=>{n&&N("gas")},[n]);const v=s=>{s.target===s.currentTarget&&i()};if(!n)return null;const t=y.charAt(0).toUpperCase()+y.slice(1).toLowerCase(),_=m?m[a]||[]:o,w=_[0],x=p[a],f=_.find(s=>s.isCurrentVehicle),r=f?.rank||null,M=s=>s===1?{icon:e.jsx(Y,{size:16}),class:"gold",label:"1st"}:s===2?{icon:e.jsx($,{size:16}),class:"silver",label:"2nd"}:s===3?{icon:e.jsx($,{size:16}),class:"bronze",label:"3rd"}:{icon:null,class:"",label:`${s}th`},j=f?(()=>{if(!r)return null;const s=p[a].label.toLowerCase();return r===1?{type:"excellent",message:`üèÜ The ${c} ${d} is the most fuel-efficient ${s} ${t.toLowerCase()} on the market!`}:r<=3?{type:"great",message:`ü•à The ${c} ${d} ranks #${r} in fuel efficiency among ${s} ${t.toLowerCase()}s!`}:r<=5?{type:"good",message:`‚úÖ The ${c} ${d} is in the top 5 most fuel-efficient ${s} ${t.toLowerCase()}s.`}:r<=10?{type:"average",message:`üìä The ${c} ${d} ranks #${r} in fuel efficiency for ${s} ${t.toLowerCase()}s.`}:{type:"below",message:`üìâ The ${c} ${d} ranks #${r} in fuel efficiency. Consider hybrid options for better MPG.`}})():null;return e.jsx("div",{className:"mpg-rankings-modal__overlay",onClick:v,children:e.jsxs("div",{className:"mpg-rankings-modal",ref:L,role:"dialog","aria-modal":"true",children:[e.jsxs("header",{className:"mpg-rankings-modal__header",children:[e.jsxs("div",{className:"mpg-rankings-modal__header-content",children:[e.jsx("div",{className:"mpg-rankings-modal__icon",children:e.jsx(E,{size:24})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"mpg-rankings-modal__title",children:["Best MPG ",t,"s"]}),e.jsxs("p",{className:"mpg-rankings-modal__subtitle",children:[g," Model Year Rankings"]})]})]}),e.jsx("button",{className:"mpg-rankings-modal__close",onClick:i,"aria-label":"Close",children:e.jsx(G,{size:24})})]}),m&&h.length>1&&e.jsx("div",{className:"mpg-rankings-modal__tabs",role:"tablist",children:h.map(s=>{const l=p[s],T=m[s]?.length||0;return e.jsxs("button",{className:`mpg-rankings-modal__tab ${a===s?"mpg-rankings-modal__tab--active":""}`,onClick:()=>N(s),role:"tab","aria-selected":a===s,"aria-controls":`tabpanel-${s}`,children:[l.icon,e.jsx("span",{className:"mpg-rankings-modal__tab-label",children:l.label}),e.jsx("span",{className:"mpg-rankings-modal__tab-count",children:T})]},s)})}),j&&e.jsx("div",{className:`mpg-rankings-modal__status mpg-rankings-modal__status--${j.type}`,children:e.jsx("p",{children:j.message})}),f&&r&&e.jsxs("div",{className:"mpg-rankings-modal__current",children:[e.jsxs("div",{className:"mpg-rankings-modal__current-rank",children:[e.jsxs("span",{className:"mpg-rankings-modal__rank-number",children:["#",r]}),e.jsx("span",{className:"mpg-rankings-modal__rank-label",children:"Your Vehicle"})]}),e.jsxs("div",{className:"mpg-rankings-modal__current-info",children:[e.jsxs("span",{className:"mpg-rankings-modal__current-name",children:[g," ",c," ",d]}),e.jsxs("span",{className:"mpg-rankings-modal__current-mpg",children:[x.icon,b," ",x.unit," Combined"]})]}),w&&r>1&&e.jsxs("div",{className:"mpg-rankings-modal__current-diff",children:[e.jsxs("span",{className:"mpg-rankings-modal__diff-value",children:[w.comb08-b," ",x.unit]}),e.jsx("span",{className:"mpg-rankings-modal__diff-label",children:"behind #1"})]})]}),e.jsx("div",{className:"mpg-rankings-modal__table-container",role:"tabpanel",id:`tabpanel-${a}`,children:_.length===0?e.jsx("div",{className:"mpg-rankings-modal__empty",children:e.jsxs("p",{children:["No ",p[a].label.toLowerCase()," ",t.toLowerCase(),"s available in our rankings."]})}):e.jsxs("table",{className:"mpg-rankings-modal__table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Rank"}),e.jsx("th",{children:"Vehicle"}),a==="electric"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{children:"Range"}),e.jsx("th",{children:"Efficiency"})]}),a==="phev"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{children:"EV Range"}),e.jsx("th",{children:"Gas MPG"})]}),(a==="gas"||a==="hybrid")&&e.jsxs(e.Fragment,{children:[e.jsx("th",{children:"Combined"}),e.jsx("th",{children:"City"}),e.jsx("th",{children:"Highway"})]})]})}),e.jsx("tbody",{children:_.map(s=>{const l=M(s.rank);return e.jsxs("tr",{className:`mpg-rankings-modal__row ${s.isCurrentVehicle?"mpg-rankings-modal__row--current":""} ${l.class?`mpg-rankings-modal__row--${l.class}`:""}`,children:[e.jsx("td",{className:"mpg-rankings-modal__rank-cell",children:e.jsxs("span",{className:`mpg-rankings-modal__rank-badge ${l.class?`mpg-rankings-modal__rank-badge--${l.class}`:""}`,children:[l.icon,l.label]})}),e.jsx("td",{className:"mpg-rankings-modal__vehicle-cell",children:K(s)?e.jsxs(P,{to:Z(s),className:"mpg-rankings-modal__vehicle-link",onClick:i,children:[e.jsxs("span",{className:"mpg-rankings-modal__vehicle-name",children:[s.make," ",s.model]}),s.isCurrentVehicle&&e.jsx("span",{className:"mpg-rankings-modal__your-car",children:"Your Car"})]}):e.jsxs("span",{className:"mpg-rankings-modal__vehicle-text",children:[e.jsxs("span",{className:"mpg-rankings-modal__vehicle-name",children:[s.make," ",s.model]}),s.isCurrentVehicle&&e.jsx("span",{className:"mpg-rankings-modal__your-car",children:"Your Car"})]})}),a==="electric"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:"mpg-rankings-modal__mpg-cell mpg-rankings-modal__mpg-cell--combined",children:[e.jsx("strong",{children:s.range||"‚Äî"}),e.jsx("span",{className:"mpg-rankings-modal__unit",children:"mi"})]}),e.jsxs("td",{className:"mpg-rankings-modal__mpg-cell",children:[s.milesPerKwh?`${s.milesPerKwh}`:"‚Äî",s.milesPerKwh&&e.jsx("span",{className:"mpg-rankings-modal__unit",children:"mi/kWh"})]})]}),a==="phev"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:"mpg-rankings-modal__mpg-cell mpg-rankings-modal__mpg-cell--combined",children:[e.jsx("strong",{children:s.electricRange||"‚Äî"}),e.jsx("span",{className:"mpg-rankings-modal__unit",children:"mi"})]}),e.jsxs("td",{className:"mpg-rankings-modal__mpg-cell",children:[s.gasMpg||"‚Äî",s.gasMpg&&e.jsx("span",{className:"mpg-rankings-modal__unit",children:"MPG"})]})]}),(a==="gas"||a==="hybrid")&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"mpg-rankings-modal__mpg-cell mpg-rankings-modal__mpg-cell--combined",children:e.jsx("strong",{children:s.comb08})}),e.jsx("td",{className:"mpg-rankings-modal__mpg-cell",children:s.city08||"‚Äî"}),e.jsx("td",{className:"mpg-rankings-modal__mpg-cell",children:s.highway08||"‚Äî"})]})]},s.id||`${s.make}-${s.model}`)})})]})}),e.jsxs("footer",{className:"mpg-rankings-modal__footer",children:[e.jsxs("p",{className:"mpg-rankings-modal__disclaimer",children:[a==="electric"&&`Rankings based on EPA range estimates for ${g} model year electric ${t.toLowerCase()}s. Efficiency shown in miles per kWh (higher is better).`,a==="phev"&&`Rankings based on electric-only range for ${g} model year plug-in hybrid ${t.toLowerCase()}s. Gas MPG shown for when battery is depleted.`,(a==="gas"||a==="hybrid")&&`Rankings based on EPA combined fuel economy estimates for ${g} model year ${p[a].label.toLowerCase()} ${t.toLowerCase()}s.`]}),e.jsxs("a",{href:"https://www.fueleconomy.gov/feg/best-worst.shtml",target:"_blank",rel:"noopener noreferrer",className:"mpg-rankings-modal__epa-link",children:["View All Rankings on FuelEconomy.gov",e.jsx(z,{size:14})]})]})]})})};U.__docgenInfo={description:"",methods:[],displayName:"MPGRankingsModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},vehicles:{required:!0,tsType:{name:"Array",elements:[{name:"TopMPGVehicle"}],raw:"TopMPGVehicle[]"},description:""},vehiclesByFuelType:{required:!1,tsType:{name:"TopMPGByFuelType"},description:""},availableCategories:{required:!1,tsType:{name:"Array",elements:[{name:"union",raw:"'gas' | 'hybrid' | 'electric' | 'phev'",elements:[{name:"literal",value:"'gas'"},{name:"literal",value:"'hybrid'"},{name:"literal",value:"'electric'"},{name:"literal",value:"'phev'"}]}],raw:"FuelCategory[]"},description:"",defaultValue:{value:"['gas']",computed:!1}},currentRank:{required:!0,tsType:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}]},description:""},currentMake:{required:!0,tsType:{name:"string"},description:""},currentModel:{required:!0,tsType:{name:"string"},description:""},currentMPG:{required:!0,tsType:{name:"number"},description:""},bodyStyle:{required:!0,tsType:{name:"string"},description:""},year:{required:!0,tsType:{name:"number"},description:""}}};export{U as M};
