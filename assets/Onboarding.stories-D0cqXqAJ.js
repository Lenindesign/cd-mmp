import{d as k,u as y,r as a,j as e,L as O,A as S,M as L,f as _,h as M}from"./iframe-CoG26bPx.js";import{C as Z}from"./car-D0zV_TJt.js";import{H as z}from"./heart-DcDkOGnK.js";import{B as Y}from"./blend-Dm78BNCn.js";import"./index-BFhOOLG3.js";import"./preload-helper-PPVm8Dsz.js";import"./createLucideIcon-B0KpOUPr.js";const G=({step:s})=>{const t={1:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e811a35f00029a6a69/step1.svg",2:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e711a35f00029a6a67/step2.svg",3:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e611a35f00029a6a65/step3.svg",4:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e611a35f00029a6a63/step4.svg"};return e.jsx("div",{className:"step-indicator",children:e.jsx("img",{src:t[s],alt:`Step ${s} of 4`,className:"step-indicator-img"})})},Q=({onClick:s,isLoading:t})=>e.jsx("button",{type:"button",className:`step1-location-btn ${t?"step1-location-btn--loading":""}`,onClick:s,title:"Use my current location","aria-label":"Detect my location",children:t?e.jsx("svg",{className:"step1-location-icon step1-location-icon--spinning",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"31.4 31.4"})}):e.jsx("svg",{className:"step1-location-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z",fill:"currentColor"})})}),X=()=>e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{d:"M11.25 13.5L6.75 9L11.25 4.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),K=()=>e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{d:"M6.75 4.5L11.25 9L6.75 13.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),P=()=>{const s=k(),{user:t,isAuthenticated:h,updateUser:d}=y(),[o,c]=a.useState(""),[m,g]=a.useState(""),[x,l]=a.useState(!1),[r,p]=a.useState(null);a.useEffect(()=>{h||s("/sign-in")},[h,s]),a.useEffect(()=>{t&&(t.name&&c(t.name),t.location&&g(t.location))},[t]);const u=a.useCallback(async(i,j)=>{try{const n=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${i}&lon=${j}&zoom=10&addressdetails=1`,{headers:{"Accept-Language":"en-US,en"}});if(!n.ok)throw new Error("Failed to fetch location");const f=await n.json(),N=f.address,H=N.city||N.town||N.village||N.municipality||N.county,V=N.state;return H&&V?`${H}, ${V}`:H||V||f.display_name?.split(",").slice(0,2).join(",")||"Location found"}catch(n){throw console.error("Reverse geocoding error:",n),new Error("Could not determine city name")}},[]),v=a.useCallback(async()=>{if(!navigator.geolocation){p("Geolocation is not supported by your browser");return}l(!0),p(null),navigator.geolocation.getCurrentPosition(async i=>{try{const{latitude:j,longitude:n}=i.coords,f=await u(j,n);g(f),l(!1)}catch{p("Could not determine your city"),l(!1)}},i=>{switch(l(!1),i.code){case i.PERMISSION_DENIED:p("Location access denied. Please enter manually.");break;case i.POSITION_UNAVAILABLE:p("Location unavailable. Please enter manually.");break;case i.TIMEOUT:p("Location request timed out. Please try again.");break;default:p("Could not detect location. Please enter manually.")}},{enableHighAccuracy:!1,timeout:1e4,maximumAge:3e5})},[u]),w=async()=>{try{await d({name:o||t?.name,location:m||t?.location})}catch(i){console.error("Failed to save user data:",i)}s("/onboarding/step-2")},b=()=>{s("/onboarding/step-2")},C=()=>{s("/sign-in")};return e.jsx("div",{className:"onboarding-step1",children:e.jsxs("div",{className:"step1-container",children:[e.jsx(G,{step:1}),e.jsxs("header",{className:"step1-header",children:[e.jsx("span",{className:"step1-subtitle",children:"Start Your Engines"}),e.jsx("h1",{className:"step1-title",children:"Let's get to know each other"})]}),e.jsxs("form",{className:"step1-card","aria-label":"Personal information",autoComplete:"on",onSubmit:i=>{i.preventDefault(),w()},children:[e.jsxs("div",{className:"step1-field",children:[e.jsx("label",{htmlFor:"name-input",className:"step1-label",children:"WHAT IS YOUR NAME?"}),e.jsx("div",{className:"step1-input-wrapper",children:e.jsx("input",{id:"name-input",name:"fullname",type:"text",className:"step1-input",placeholder:"Enter your name",value:o,onChange:i=>c(i.target.value),onFocus:i=>i.target.select(),autoComplete:"name"})})]}),e.jsxs("div",{className:"step1-field",children:[e.jsx("label",{htmlFor:"location-input",className:"step1-label",children:"WHERE ARE YOU LOCATED? (OPTIONAL)"}),e.jsxs("div",{className:"step1-input-wrapper step1-input-with-icon",children:[e.jsx("input",{id:"location-input",name:"city",type:"text",className:"step1-input",placeholder:"Enter city or click icon to detect",value:m,onChange:i=>{g(i.target.value),p(null)},onFocus:i=>i.target.select(),autoComplete:"address-level2",disabled:x}),e.jsx(Q,{onClick:v,isLoading:x})]}),r&&e.jsx("span",{className:"step1-location-error",children:r})]})]}),e.jsxs("nav",{className:"step1-navigation","aria-label":"Onboarding navigation",children:[e.jsxs("button",{className:"cta cta--md cta--secondary",onClick:C,type:"button",children:[e.jsx(X,{}),"Back"]}),e.jsx("button",{className:"step1-skip",onClick:b,type:"button",children:"Skip this step"}),e.jsxs("button",{className:"cta cta--md cta--primary",onClick:w,type:"button",children:["Next",e.jsx(K,{})]})]}),e.jsx("div",{className:"step1-logo",children:e.jsx("img",{src:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e911a35f00029a6a6b/logo.svg",alt:"Car and Driver",className:"step1-logo-img"})})]})})};P.__docgenInfo={description:"",methods:[],displayName:"OnboardingStep1"};const J=({step:s})=>{const t={1:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e811a35f00029a6a69/step1.svg",2:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e711a35f00029a6a67/step2.svg",3:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e611a35f00029a6a65/step3.svg",4:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e611a35f00029a6a63/step4.svg"};return e.jsx("div",{className:"step-indicator",children:e.jsx("img",{src:t[s],alt:`Step ${s} of 4`,className:"step-indicator-img"})})},ee=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12.5 15L7.5 10L12.5 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),se=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M7.5 15L12.5 10L7.5 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),te=[{id:"buyer",title:"Car Buyer",description:"I'm shopping for a new or used car.",icon:e.jsx(Z,{size:28,fill:"currentColor",strokeWidth:0})},{id:"enthusiast",title:"Car Enthusiast",description:"I nerd out on all things car-related.",icon:e.jsx(z,{size:28,fill:"currentColor",strokeWidth:0})},{id:"both",title:"Both",description:"I'm a car lover on the lookout for my next ride.",icon:e.jsx(Y,{size:28,strokeWidth:1.5})}],$=()=>{const s=k(),{user:t,isAuthenticated:h,updateUser:d}=y(),[o,c]=a.useState(null);a.useEffect(()=>{h||s("/sign-in")},[h,s]),a.useEffect(()=>{t?.userType&&c(t.userType)},[t]);const m=async()=>{if(o){try{await d({userType:o})}catch(l){console.error("Failed to save user type:",l)}s("/onboarding/step-3")}},g=()=>{s("/onboarding/step-1")},x=()=>{s("/onboarding/step-3")};return e.jsx("div",{className:"onboarding-step2",children:e.jsxs("div",{className:"step2-container",children:[e.jsx(J,{step:2}),e.jsxs("header",{className:"step2-header",children:[e.jsx("h1",{className:"step2-title",children:"What describes you best?"}),e.jsx("p",{className:"step2-subtitle",children:"Choose the option that best fits your automotive interests"})]}),e.jsx("div",{className:"step2-cards",role:"group","aria-label":"User type selection",children:te.map(l=>e.jsxs("button",{className:`step2-card ${o===l.id?"step2-card--selected":""}`,onClick:()=>c(l.id),"aria-pressed":o===l.id,type:"button",children:[e.jsx("div",{className:`step2-card__image ${o===l.id?"step2-card__image--selected":""}`,children:e.jsx("div",{className:"step2-card__icon",children:l.icon})}),e.jsxs("div",{className:"step2-card__content",children:[e.jsx("h3",{className:"step2-card__title",children:l.title}),e.jsx("p",{className:"step2-card__description",children:l.description})]})]},l.id))}),e.jsxs("nav",{className:"step2-navigation","aria-label":"Onboarding navigation",children:[e.jsxs("button",{className:"cta cta--md cta--secondary",onClick:g,type:"button",children:[e.jsx(ee,{}),"Back"]}),e.jsx("button",{className:"step2-skip",onClick:x,type:"button",children:"Skip this step"}),e.jsxs("button",{className:"cta cta--md cta--primary",onClick:m,type:"button",disabled:!o,children:["Next",e.jsx(se,{})]})]}),e.jsx("div",{className:"step2-logo",children:e.jsx("img",{src:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e911a35f00029a6a6b/logo.svg",alt:"Car and Driver",className:"step2-logo-img"})})]})})};$.__docgenInfo={description:"",methods:[],displayName:"OnboardingStep2"};const ne=({step:s})=>{const t={1:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e811a35f00029a6a69/step1.svg",2:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e711a35f00029a6a67/step2.svg",3:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e611a35f00029a6a65/step3.svg",4:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e611a35f00029a6a63/step4.svg"};return e.jsx("div",{className:"step-indicator",children:e.jsx("img",{src:t[s],alt:`Step ${s} of 4`,className:"step-indicator-img"})})},ae=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12.5 15L7.5 10L12.5 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),oe=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M7.5 15L12.5 10L7.5 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),re=()=>e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"11",cy:"11",r:"7",stroke:"currentColor",strokeWidth:"2"}),e.jsx("path",{d:"M20 20L16 16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),W=[{id:"1",name:"2025 Toyota Camry",make:"Toyota",model:"Camry",year:"2025"},{id:"2",name:"2025 Honda Accord",make:"Honda",model:"Accord",year:"2025"},{id:"3",name:"2025 Ford Mustang",make:"Ford",model:"Mustang",year:"2025"},{id:"4",name:"2025 Chevrolet Trax",make:"Chevrolet",model:"Trax",year:"2025"},{id:"5",name:"2025 BMW 3 Series",make:"BMW",model:"3 Series",year:"2025"},{id:"6",name:"2025 Mercedes-Benz C-Class",make:"Mercedes-Benz",model:"C-Class",year:"2025"},{id:"7",name:"2025 Audi A4",make:"Audi",model:"A4",year:"2025"},{id:"8",name:"2025 Tesla Model 3",make:"Tesla",model:"Model 3",year:"2025"},{id:"9",name:"2025 Hyundai Sonata",make:"Hyundai",model:"Sonata",year:"2025"},{id:"10",name:"2025 Mazda CX-5",make:"Mazda",model:"CX-5",year:"2025"}],F=()=>{const s=k(),{user:t,isAuthenticated:h,updateUser:d}=y(),[o,c]=a.useState(""),[m,g]=a.useState([]),[x,l]=a.useState(!1),[r,p]=a.useState(W),u=a.useRef(null),v=a.useRef(null);a.useEffect(()=>{h||s("/sign-in")},[h,s]),a.useEffect(()=>{t?.savedVehicles&&t.savedVehicles.length>0&&g(t.savedVehicles.map(n=>({id:n.id,name:n.name})))},[t]),a.useEffect(()=>{if(o.trim()){const n=W.filter(f=>f.name.toLowerCase().includes(o.toLowerCase())||f.make.toLowerCase().includes(o.toLowerCase())||f.model.toLowerCase().includes(o.toLowerCase()));p(n),l(!0)}else p(W),l(!1)},[o]),a.useEffect(()=>{const n=f=>{v.current&&!v.current.contains(f.target)&&u.current&&!u.current.contains(f.target)&&l(!1)};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[]);const w=n=>{m.find(f=>f.id===n.id)||g([...m,{id:n.id,name:n.name}]),c(""),l(!1)},b=n=>{g(m.filter(f=>f.id!==n))},C=async()=>{try{await d({savedVehicles:m.map(n=>({id:n.id,name:n.name,ownership:"want"}))})}catch(n){console.error("Failed to save vehicles:",n)}s("/onboarding/step-4")},i=()=>{s("/onboarding/step-2")},j=()=>{s("/onboarding/step-4")};return e.jsx("div",{className:"onboarding-step3",children:e.jsxs("div",{className:"step3-container",children:[e.jsx(ne,{step:3}),e.jsxs("header",{className:"step3-header",children:[e.jsx("h1",{className:"step3-title",children:"Tell Us About Your Ride"}),e.jsx("p",{className:"step3-subtitle",children:"Choose what you drive now and what you'd like next"})]}),e.jsxs("div",{className:"step3-card",children:[e.jsx("label",{htmlFor:"vehicle-search",className:"step3-label",children:"SEARCH FOR A VEHICLE"}),e.jsxs("div",{className:"step3-search-wrapper",children:[e.jsx(re,{}),e.jsx("input",{ref:u,id:"vehicle-search",type:"text",className:"step3-search-input",placeholder:"Start typing to search",value:o,onChange:n=>c(n.target.value),onFocus:()=>o&&l(!0),autoComplete:"off"})]}),x&&r.length>0&&e.jsx("div",{ref:v,className:"step3-suggestions",children:r.slice(0,5).map(n=>e.jsx("button",{className:"step3-suggestion-item",onClick:()=>w(n),type:"button",children:n.name},n.id))}),m.length>0&&e.jsx("div",{className:"step3-selected",children:m.map(n=>e.jsxs("div",{className:"step3-selected-item",children:[e.jsx("span",{children:n.name}),e.jsx("button",{className:"step3-selected-remove",onClick:()=>b(n.id),"aria-label":`Remove ${n.name}`,type:"button",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M12 4L4 12M4 4L12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]},n.id))})]}),e.jsxs("nav",{className:"step3-navigation","aria-label":"Onboarding navigation",children:[e.jsxs("button",{className:"cta cta--md cta--secondary",onClick:i,type:"button",children:[e.jsx(ae,{}),"Back"]}),e.jsx("button",{className:"step3-skip",onClick:j,type:"button",children:"Skip this step"}),e.jsxs("button",{className:"cta cta--md cta--primary",onClick:C,type:"button",children:["Next",e.jsx(oe,{})]})]}),e.jsx("div",{className:"step3-logo",children:e.jsx("img",{src:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e911a35f00029a6a6b/logo.svg",alt:"Car and Driver",className:"step3-logo-img"})})]})})};F.__docgenInfo={description:"",methods:[],displayName:"OnboardingStep3"};const ie=({step:s})=>{const t={1:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e811a35f00029a6a69/step1.svg",2:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e711a35f00029a6a67/step2.svg",3:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e611a35f00029a6a65/step3.svg",4:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e611a35f00029a6a63/step4.svg"};return e.jsx("div",{className:"step-indicator",children:e.jsx("img",{src:t[s],alt:`Step ${s} of 4`,className:"step-indicator-img"})})},ce=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12.5 15L7.5 10L12.5 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),le=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M7.5 15L12.5 10L7.5 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),de=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M4 10L8 14L16 6",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),he=()=>e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#000",display:"flex",alignItems:"center",justifyContent:"center",padding:"12px"},children:e.jsx("img",{src:"https://www.caranddriver.com/_assets/design-tokens/caranddriver/static/images/logos/logo.68b8e69.svg?primary=%23fff",alt:"Car and Driver",style:{width:"100%",height:"auto",objectFit:"contain"}})}),pe=[{id:"car-and-driver",title:"Subscribe to Car and Driver Newsletter",description:"Trust Car and Driver for the best car reviews, news, car rankings, and much more",logo:e.jsx(he,{})}],T=()=>{const s=k(),{user:t,isAuthenticated:h,completeOnboarding:d}=y(),[o,c]=a.useState(["car-and-driver"]);a.useEffect(()=>{h||s("/sign-in")},[h,s]),a.useEffect(()=>{t?.newsletterSubscriptions&&t.newsletterSubscriptions.length>0&&c(t.newsletterSubscriptions)},[t]);const m=r=>{c(p=>p.includes(r)?p.filter(u=>u!==r):[...p,r])},g=async()=>{try{await d({newsletters:o})}catch(r){console.error("Failed to complete onboarding:",r)}s("/onboarding/welcome")},x=()=>{s("/onboarding/step-3")},l=async()=>{try{await d({})}catch(r){console.error("Failed to complete onboarding:",r)}s("/onboarding/welcome")};return e.jsx("div",{className:"onboarding-step4",children:e.jsxs("div",{className:"step4-container",children:[e.jsx(ie,{step:4}),e.jsxs("header",{className:"step4-header",children:[e.jsx("h1",{className:"step4-title",children:"Let's Keep In Touch"}),e.jsxs("p",{className:"step4-subtitle",children:["Select one of our newsletters that provide",e.jsx("br",{}),"car information suited to your needs"]})]}),e.jsx("div",{className:"step4-newsletters",children:pe.map(r=>e.jsxs("button",{className:`step4-newsletter-card ${o.includes(r.id)?"step4-newsletter-card--selected":""}`,onClick:()=>m(r.id),"aria-pressed":o.includes(r.id),type:"button",children:[e.jsx("div",{className:"step4-newsletter-logo",children:r.logo}),e.jsxs("div",{className:"step4-newsletter-content",children:[e.jsx("div",{className:`step4-checkbox ${o.includes(r.id)?"step4-checkbox--checked":""}`,children:o.includes(r.id)&&e.jsx(de,{})}),e.jsx("h3",{className:"step4-newsletter-title",children:r.title}),e.jsx("p",{className:"step4-newsletter-description",children:r.description})]})]},r.id))}),e.jsxs("nav",{className:"step4-navigation","aria-label":"Onboarding navigation",children:[e.jsxs("button",{className:"cta cta--md cta--secondary",onClick:x,type:"button",children:[e.jsx(ce,{}),"Back"]}),e.jsx("button",{className:"step4-skip",onClick:l,type:"button",children:"Skip this step"}),e.jsxs("button",{className:"cta cta--md cta--primary",onClick:g,type:"button",children:["Complete",e.jsx(le,{})]})]}),e.jsx("div",{className:"step4-logo",children:e.jsx("img",{src:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e911a35f00029a6a6b/logo.svg",alt:"Car and Driver",className:"step4-logo-img"})})]})})};T.__docgenInfo={description:"",methods:[],displayName:"OnboardingStep4"};const me="/cd-icon.svg",ue=()=>{const[s,t]=a.useState([]),h=["#D2232A","#0061AF","#DBCA8B","#26870D","#1B5F8A","#FFD700","#FF6B6B","#4ECDC4"];return a.useEffect(()=>{const d=[];for(let c=0;c<150;c++)d.push({id:c,x:Math.random()*100,color:h[Math.floor(Math.random()*h.length)],delay:Math.random()*.5,duration:2+Math.random()*2,size:6+Math.random()*8,rotation:Math.random()*360});t(d);const o=setTimeout(()=>t([]),5e3);return()=>clearTimeout(o)},[]),s.length===0?null:e.jsx("div",{className:"confetti-container","aria-hidden":"true",children:s.map(d=>e.jsx("div",{className:"confetti-piece",style:{left:`${d.x}%`,backgroundColor:d.color,width:`${d.size}px`,height:`${d.size*.6}px`,animationDelay:`${d.delay}s`,animationDuration:`${d.duration}s`,transform:`rotate(${d.rotation}deg)`}},d.id))})},ge=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12.5 15L7.5 10L12.5 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),xe=()=>e.jsx("div",{style:{width:"100%",height:"100%",borderRadius:"50%",background:"linear-gradient(180deg, #ffffff 0%, #000000 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1px"},children:e.jsx("div",{style:{width:"100%",height:"100%",borderRadius:"50%",background:"linear-gradient(180deg, #cccccc 0%, #ffffff 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"15%",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:e.jsx("img",{src:me,alt:"Car and Driver",style:{width:"100%",height:"auto",objectFit:"contain"}})})}),q=()=>{const s=k(),{user:t,isAuthenticated:h}=y(),[d,o]=a.useState(!1),[c,m]=a.useState(""),[g,x]=a.useState(""),[l,r]=a.useState(""),[p,u]=a.useState("");a.useEffect(()=>{h||s("/sign-in")},[h,s]),a.useEffect(()=>{const i=setTimeout(()=>o(!0),100);if(t){m(t.name||"Member");const j=t.createdAt?new Date(t.createdAt):new Date,n=`${String(j.getMonth()+1).padStart(2,"0")}/${String(j.getDate()).padStart(2,"0")}/${j.getFullYear()}`;x(n),t.savedVehicles&&t.savedVehicles.length>0?r(t.savedVehicles[0].name):r("Not specified"),t.newsletterSubscriptions&&t.newsletterSubscriptions.includes("car-and-driver")?u("Car and Driver"):u("None selected")}return()=>clearTimeout(i)},[t]);const v=()=>{s("/")},w=()=>{s("/onboarding/step-4")},b=()=>{s("/")},C=c.split(" ")[0]||"Member";return e.jsxs("div",{className:"onboarding-welcome",children:[e.jsx(ue,{}),e.jsxs("div",{className:"welcome-container",children:[e.jsx("header",{className:"welcome-header",children:e.jsxs("svg",{viewBox:"0 0 1364 262",className:"welcome-logo welcome-logo--animated",xmlns:"http://www.w3.org/2000/svg","aria-label":"Car and Driver",children:[e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M68.022 210.901C74.858 210.901 76.91 205.432 76.91 197.571V146.641H132.626V199.276C132.626 231.41 116.903 261.83 72.468 261.83H62.554C15.04 261.83 0 233.462 0 194.496V65.289C0 28.712 16.408 0 62.213 0H72.468C117.588 0 132.626 25.978 132.626 59.473V101.177H76.91V61.869C76.91 53.667 74.858 49.222 67.682 49.222C60.502 49.222 58.452 52.982 58.452 61.869V197.571C58.452 206.114 60.846 210.901 68.022 210.901Z"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M272.324 257.729H217.63L213.53 220.47H187.551L183.791 257.729H134.911L167.384 3.41907H236.774L272.324 257.729ZM192.681 170.223H208.402L200.54 92.9747L192.681 170.223Z"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M366.797 3.41907C391.752 3.41907 408.842 18.1158 408.842 48.1925V81.6935C408.842 105.278 396.534 115.873 386.624 120.318C396.194 124.079 408.842 134.331 408.842 153.477V237.561C408.842 247.13 410.55 252.601 412.258 256.021V257.729H356.542C354.149 254.654 352.101 248.844 352.101 239.616V165.781C352.101 157.237 350.047 153.477 342.527 153.477H334.666V257.729H278.268V3.41907H366.797ZM334.665 105.623H341.845C349.021 105.623 352.1 102.203 352.1 93.3126V59.1349C352.1 50.245 350.391 47.1691 342.871 47.1691H334.666L334.665 105.623Z"}),e.jsx("path",{className:"welcome-logo__bar",d:"M428.499 63.023H594.769V3.61597H428.5L428.499 63.023Z",fill:"#D2232A"}),e.jsx("path",{className:"welcome-logo__bar",d:"M428.499 257.046H594.769V197.644H428.5L428.499 257.046Z",fill:"#0061AF"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M481.039 182.672H461.599L460.098 167.332H449.987L448.607 182.672H430.7L442.597 77.9894H468.019L481.039 182.672ZM451.864 147.839H458.219L454.742 111.882L451.864 147.839Z"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M486.974 182.672V77.9889H507.008L517.652 128.64V77.9889H535.31V182.671H517.152L504.881 128.077V182.672H486.974Z"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M573.909 77.9874C585.429 77.9875 592.567 84.3239 592.567 101.067V158.609C592.567 174.929 586.18 182.672 574.035 182.672H544.356V77.9874H573.909ZM564.175 162.549H567.647C570.653 162.549 571.531 160.579 571.531 156.219V103.459C571.531 99.2341 570.653 97.4093 567.898 97.4093H564.175V162.549Z"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M696.341 3.41907C727.79 3.41907 747.273 18.8019 747.273 59.4728V199.276C747.273 238.928 729.839 257.729 696.682 257.729H615.674V3.41907H696.341ZM671.389 208.852H679.251C687.454 208.852 689.847 204.065 689.847 193.469V65.2892C689.847 55.0342 687.453 50.589 679.933 50.589H671.389V208.852Z"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M845.438 3.41907C870.393 3.41907 887.48 18.1158 887.48 48.1925V81.6935C887.48 105.278 875.177 115.873 865.264 120.318C874.833 124.079 887.48 134.331 887.48 153.477V237.561C887.48 247.13 889.191 252.601 890.899 256.021V257.729H835.183C832.79 254.654 830.738 248.844 830.738 239.616V165.781C830.738 157.237 828.689 153.477 821.169 153.477H813.307L813.308 257.729H756.907V3.41907H845.438ZM813.307 105.623H820.482C827.662 105.623 830.737 102.203 830.737 93.3126V59.1349C830.737 50.245 829.03 47.1691 821.51 47.1691H813.307V105.623Z"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M956.492 257.732H900.092V3.41895H956.492V257.732Z"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M1073.15 257.729H999.319L962.748 3.41895H1022.22L1037.6 162.705L1052.99 3.41895H1107.34L1073.15 257.729Z"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M1113.59 257.729V3.41895H1219.21V56.0569H1169.3V99.4689H1209.3V153.477H1169.3V204.065H1221.26V257.729H1113.59Z"}),e.jsx("path",{className:"welcome-logo__letter",fill:"currentColor",d:"M1285.45 47.1689H1293.65C1301.17 47.1689 1302.88 50.2449 1302.88 59.1349V93.313C1302.88 102.203 1299.81 105.623 1292.63 105.623H1285.45V47.1689ZM1285.45 153.477H1293.31C1300.83 153.477 1302.88 157.237 1302.88 165.781V239.616C1302.88 248.844 1304.93 254.654 1307.33 257.729H1363.04V256.021C1361.33 252.601 1359.62 247.131 1359.62 237.561V153.477C1359.62 134.331 1346.98 124.08 1337.41 120.319C1347.32 115.874 1359.62 105.279 1359.62 81.6939V48.1929C1359.62 18.1159 1342.54 3.41895 1317.58 3.41895H1229.05V257.729H1285.45V153.477Z"})]})}),e.jsxs("div",{className:`welcome-content ${d?"welcome-content--visible":""}`,children:[e.jsxs("h1",{className:"welcome-title",children:["Welcome to the Club, ",C,"!"]}),e.jsx("p",{className:"welcome-subtitle",children:"Enjoy your Car And Driver member benefits."}),e.jsx("div",{className:"membership-card-wrapper",children:e.jsx("div",{className:"membership-card",children:e.jsxs("div",{className:"membership-card__inner",children:[e.jsx("img",{src:"https://www.caranddriver.com/_assets/design-tokens/caranddriver/static/images/logos/logo.68b8e69.svg?primary=%23fff",alt:"",className:"membership-card__watermark","aria-hidden":"true"}),e.jsxs("div",{className:"membership-card__header",children:[e.jsx("div",{className:"membership-card__badge",children:e.jsx(xe,{})}),e.jsxs("div",{className:"membership-card__header-text",children:[e.jsx("h2",{className:"membership-card__title",children:"Membership Card"}),e.jsx("p",{className:"membership-card__subtitle",children:"Car And Driver Member"})]})]}),e.jsxs("div",{className:"membership-card__details",children:[e.jsxs("div",{className:"membership-card__field",children:[e.jsx("span",{className:"membership-card__label",children:"Member Since"}),e.jsx("span",{className:"membership-card__value",children:g})]}),e.jsxs("div",{className:"membership-card__field",children:[e.jsx("span",{className:"membership-card__label",children:"Name"}),e.jsx("span",{className:"membership-card__value",children:c})]}),e.jsxs("div",{className:"membership-card__field",children:[e.jsx("span",{className:"membership-card__label",children:"My Car"}),e.jsx("span",{className:"membership-card__value",children:l})]}),e.jsxs("div",{className:"membership-card__field",children:[e.jsx("span",{className:"membership-card__label",children:"Newsletter"}),e.jsx("span",{className:"membership-card__value",children:p})]})]})]})})})]}),e.jsxs("nav",{className:"welcome-navigation","aria-label":"Onboarding navigation",children:[e.jsxs("button",{className:"cta cta--md cta--secondary",onClick:w,type:"button",children:[e.jsx(ge,{}),"Back"]}),e.jsx("button",{className:"welcome-skip",onClick:b,type:"button",children:"Skip this step"}),e.jsxs("button",{className:"cta cta--md cta--primary",onClick:v,type:"button",children:["Close",e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{d:"M13.5 4.5L4.5 13.5M4.5 4.5L13.5 13.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})]})};q.__docgenInfo={description:"",methods:[],displayName:"OnboardingWelcome"};const U=()=>{const s=k(),{signIn:t,socialSignIn:h,isAuthenticated:d,user:o,isLoading:c,error:m,clearError:g}=y(),[x,l]=a.useState(""),[r,p]=a.useState(""),[u,v]=a.useState(!1),[w,b]=a.useState(null);a.useEffect(()=>{d&&o&&(o.onboardingCompleted?s("/"):s("/onboarding/step-1"))},[d,o,s]),a.useEffect(()=>{m&&g(),w&&b(null)},[x,r]);const C=async n=>{if(n.preventDefault(),b(null),!x.trim()){b("Please enter your email address");return}if(!r){b("Please enter your password");return}try{await t({email:x,password:r})}catch{}},i=async n=>{try{await h(n)}catch{}},j=w||m;return e.jsx("div",{className:"signin-page",children:e.jsxs("div",{className:"signin-container",children:[e.jsx("div",{className:"signin-logo",children:e.jsx("img",{src:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e911a35f00029a6a6b/logo.svg",alt:"Car and Driver",className:"signin-logo-img"})}),e.jsx("h1",{className:"signin-title",children:"Sign In"}),j&&e.jsxs("div",{className:"signin-error",role:"alert",children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),e.jsx("path",{d:"M12 8v4M12 16h.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),e.jsx("span",{children:j})]}),e.jsxs("form",{className:"signin-form",onSubmit:C,children:[e.jsxs("div",{className:"signin-field",children:[e.jsx("label",{className:"signin-label",htmlFor:"email",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",className:"signin-input",placeholder:"Enter your email",value:x,onChange:n=>l(n.target.value),disabled:c,autoComplete:"email",required:!0})]}),e.jsxs("div",{className:"signin-field",children:[e.jsx("label",{className:"signin-label",htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"signin-password-wrapper",children:[e.jsx("input",{id:"password",type:u?"text":"password",className:"signin-input",placeholder:"Enter Password",value:r,onChange:n=>p(n.target.value),disabled:c,autoComplete:"current-password",required:!0}),e.jsx("button",{type:"button",className:"signin-password-toggle",onClick:()=>v(!u),"aria-label":u?"Hide password":"Show password",disabled:c,children:u?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})]}),e.jsx(O,{to:"/forgot-password",className:"signin-forgot-link",children:"Forgot or need a password?"}),e.jsx("button",{type:"submit",className:"signin-submit-btn",disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"signin-spinner"}),"Signing in..."]}):"Continue"})]}),e.jsxs("p",{className:"signin-signup-text",children:["Don't have an account? ",e.jsx(O,{to:"/sign-up",className:"signin-signup-link",children:"Sign Up"})]}),e.jsx("div",{className:"signin-divider",children:e.jsx("span",{children:"Or"})}),e.jsxs("div",{className:"signin-social-buttons",children:[e.jsxs("button",{className:"signin-social-btn signin-social-btn--google",onClick:()=>i("google"),type:"button",disabled:c,children:[e.jsx("img",{src:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e311a35f00029a6a61/google.svg",alt:"",className:"signin-social-icon"}),"Continue with Google"]}),e.jsxs("button",{className:"signin-social-btn signin-social-btn--facebook",onClick:()=>i("facebook"),type:"button",disabled:c,children:[e.jsx("img",{src:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e311a35f00029a6a5f/facebook.svg",alt:"",className:"signin-social-icon"}),"Continue with Facebook"]}),e.jsxs("button",{className:"signin-social-btn signin-social-btn--apple",onClick:()=>i("apple"),type:"button",disabled:c,children:[e.jsx("img",{src:"https://d2kde5ohu8qb21.cloudfront.net/files/693c48e211a35f00029a6a5d/apple.svg",alt:"",className:"signin-social-icon"}),"Continue with Apple"]})]})]})})};U.__docgenInfo={description:"",methods:[],displayName:"SignIn"};const ke={title:"Pages/Onboarding",parameters:{layout:"fullscreen",router:{skip:!0},docs:{description:{component:"The Car and Driver onboarding flow guides new users through account setup, preferences, and personalization."}}},tags:["autodocs"]},E={render:()=>e.jsx(S,{children:e.jsx(L,{initialEntries:["/sign-in"],children:e.jsx(_,{children:e.jsx(M,{path:"*",element:e.jsx(U,{})})})})}),parameters:{docs:{description:{story:"Sign in page for the Car and Driver onboarding flow. Users can sign in with email or social accounts."}}}},A={render:()=>e.jsx(S,{children:e.jsx(L,{initialEntries:["/onboarding/step-1"],children:e.jsx(_,{children:e.jsx(M,{path:"*",element:e.jsx(P,{})})})})}),parameters:{docs:{description:{story:"Step 1 of the onboarding flow. Users enter their name and optional location."}}}},I={render:()=>e.jsx(S,{children:e.jsx(L,{initialEntries:["/onboarding/step-2"],children:e.jsx(_,{children:e.jsx(M,{path:"*",element:e.jsx($,{})})})})}),parameters:{docs:{description:{story:"Step 2 of the onboarding flow. Users select their shopping intent (buying, researching, etc.)."}}}},R={render:()=>e.jsx(S,{children:e.jsx(L,{initialEntries:["/onboarding/step-3"],children:e.jsx(_,{children:e.jsx(M,{path:"*",element:e.jsx(F,{})})})})}),parameters:{docs:{description:{story:"Step 3 of the onboarding flow. Users select their lifestyle interests and preferences."}}}},B={render:()=>e.jsx(S,{children:e.jsx(L,{initialEntries:["/onboarding/step-4"],children:e.jsx(_,{children:e.jsx(M,{path:"*",element:e.jsx(T,{})})})})}),parameters:{docs:{description:{story:"Step 4 of the onboarding flow. Users select their preferred vehicle types."}}}},D={render:()=>e.jsx(S,{children:e.jsx(L,{initialEntries:["/onboarding/welcome"],children:e.jsx(_,{children:e.jsx(M,{path:"*",element:e.jsx(q,{})})})})}),parameters:{docs:{description:{story:"Welcome/completion page shown after finishing the onboarding flow."}}}};E.parameters={...E.parameters,docs:{...E.parameters?.docs,source:{originalSource:`{
  render: () => <AuthProvider>
    <MemoryRouter initialEntries={['/sign-in']}>
      <Routes>
        <Route path="*" element={<SignIn />} />
      </Routes>
    </MemoryRouter>
    </AuthProvider>,
  parameters: {
    docs: {
      description: {
        story: 'Sign in page for the Car and Driver onboarding flow. Users can sign in with email or social accounts.'
      }
    }
  }
}`,...E.parameters?.docs?.source}}};A.parameters={...A.parameters,docs:{...A.parameters?.docs,source:{originalSource:`{
  render: () => <AuthProvider>
    <MemoryRouter initialEntries={['/onboarding/step-1']}>
      <Routes>
        <Route path="*" element={<OnboardingStep1 />} />
      </Routes>
    </MemoryRouter>
    </AuthProvider>,
  parameters: {
    docs: {
      description: {
        story: 'Step 1 of the onboarding flow. Users enter their name and optional location.'
      }
    }
  }
}`,...A.parameters?.docs?.source}}};I.parameters={...I.parameters,docs:{...I.parameters?.docs,source:{originalSource:`{
  render: () => <AuthProvider>
    <MemoryRouter initialEntries={['/onboarding/step-2']}>
      <Routes>
        <Route path="*" element={<OnboardingStep2 />} />
      </Routes>
    </MemoryRouter>
    </AuthProvider>,
  parameters: {
    docs: {
      description: {
        story: 'Step 2 of the onboarding flow. Users select their shopping intent (buying, researching, etc.).'
      }
    }
  }
}`,...I.parameters?.docs?.source}}};R.parameters={...R.parameters,docs:{...R.parameters?.docs,source:{originalSource:`{
  render: () => <AuthProvider>
    <MemoryRouter initialEntries={['/onboarding/step-3']}>
      <Routes>
        <Route path="*" element={<OnboardingStep3 />} />
      </Routes>
    </MemoryRouter>
    </AuthProvider>,
  parameters: {
    docs: {
      description: {
        story: 'Step 3 of the onboarding flow. Users select their lifestyle interests and preferences.'
      }
    }
  }
}`,...R.parameters?.docs?.source}}};B.parameters={...B.parameters,docs:{...B.parameters?.docs,source:{originalSource:`{
  render: () => <AuthProvider>
    <MemoryRouter initialEntries={['/onboarding/step-4']}>
      <Routes>
        <Route path="*" element={<OnboardingStep4 />} />
      </Routes>
    </MemoryRouter>
    </AuthProvider>,
  parameters: {
    docs: {
      description: {
        story: 'Step 4 of the onboarding flow. Users select their preferred vehicle types.'
      }
    }
  }
}`,...B.parameters?.docs?.source}}};D.parameters={...D.parameters,docs:{...D.parameters?.docs,source:{originalSource:`{
  render: () => <AuthProvider>
    <MemoryRouter initialEntries={['/onboarding/welcome']}>
      <Routes>
        <Route path="*" element={<OnboardingWelcome />} />
      </Routes>
    </MemoryRouter>
    </AuthProvider>,
  parameters: {
    docs: {
      description: {
        story: 'Welcome/completion page shown after finishing the onboarding flow.'
      }
    }
  }
}`,...D.parameters?.docs?.source}}};const ye=["SignInPage","Step1_PersonalInfo","Step2_UserType","Step3_Interests","Step4_VehicleTypes","Welcome_Completion"];export{E as SignInPage,A as Step1_PersonalInfo,I as Step2_UserType,R as Step3_Interests,B as Step4_VehicleTypes,D as Welcome_Completion,ye as __namedExportsOrder,ke as default};
