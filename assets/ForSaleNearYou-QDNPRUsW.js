import{r as c,j as e,L as F}from"./iframe-Nxp4yMSg.js";import{a as z}from"./listingsService-UNNRh09o.js";import{O as P}from"./OptimizedImage-GUGW_dH2.js";import{B as o}from"./Button-CI6sPZhV.js";import{M as T}from"./map-pin-BMPo0fza.js";import{C as L}from"./chevron-left-CQb0u5g5.js";import{B as $}from"./bookmark-DwIdQv1c.js";import{G as k}from"./gauge-74qFAzm_.js";import{C as V}from"./calendar-YfeBFXyf.js";import{P as q}from"./phone-hVGJJOYz.js";import{N as I}from"./navigation-BIe2wKyk.js";import{C as b}from"./chevron-right-BfQn7cU4.js";const A=({vehicleName:n="Chevrolet Trax",make:m="Chevrolet",model:f="Trax",bodyStyle:_="SUV",maxPrice:h=35e3,location:t="Miami, FL",title:S="For Sale Near You"})=>{const r=c.useRef(null),[u,C]=c.useState(!1),[p,y]=c.useState(!0),[d,g]=c.useState(new Set),i=c.useMemo(()=>z({make:m,model:f,bodyStyle:_,maxPrice:h}),[m,f,_,h,t]),x=()=>{if(r.current){const{scrollLeft:a,scrollWidth:l,clientWidth:s}=r.current;C(a>0),y(a<l-s-10)}},j=a=>{if(r.current){const N=(r.current.querySelector(".for-sale__card")?.clientWidth||400)+20;r.current.scrollBy({left:a==="left"?-N:N,behavior:"smooth"}),setTimeout(x,350)}},R=a=>{g(l=>{const s=new Set(l);return s.has(a)?s.delete(a):s.add(a),s})},v=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(a),w=a=>new Intl.NumberFormat("en-US").format(a);return e.jsx("section",{className:"for-sale",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"for-sale__header",children:[e.jsx("h2",{className:"for-sale__title",children:S}),e.jsxs("p",{className:"for-sale__subtitle",children:["Browse ",n," listings available in your area"]}),e.jsxs("div",{className:"for-sale__location",children:[e.jsx(T,{size:16}),e.jsx("span",{children:t}),e.jsx(o,{variant:"ghost",size:"small",className:"for-sale__change-location",children:"Change Location"})]})]}),e.jsxs("div",{className:"for-sale__carousel-wrapper",children:[e.jsx("button",{className:`for-sale__nav for-sale__nav--left ${u?"":"for-sale__nav--disabled"}`,onClick:()=>j("left"),disabled:!u,"aria-label":"Previous listings",children:e.jsx(L,{size:24})}),e.jsx("div",{className:"for-sale__carousel",ref:r,onScroll:x,children:i.map(a=>e.jsxs("div",{className:"for-sale__card",children:[e.jsxs("div",{className:"for-sale__card-image",children:[e.jsx(P,{src:a.image,alt:`${a.year} ${a.make} ${a.model}`,aspectRatio:"4/3"}),e.jsx("button",{className:`for-sale__card-favorite ${d.has(a.id)?"for-sale__card-favorite--active":""}`,onClick:()=>R(a.id),"aria-label":d.has(a.id)?"Remove from favorites":"Add to favorites",children:e.jsx($,{size:20,fill:d.has(a.id)?"currentColor":"none"})}),a.isNew&&e.jsx("span",{className:"for-sale__card-badge",children:"NEW LISTING"}),a.priceReduced&&e.jsx("span",{className:"for-sale__card-badge for-sale__card-badge--reduced",children:"PRICE REDUCED"})]}),e.jsxs("div",{className:"for-sale__card-content",children:[e.jsx("h3",{className:"for-sale__card-title",children:e.jsxs(F,{to:`/${a.slug}`,children:[a.year," ",a.make," ",a.model]})}),e.jsx("span",{className:"for-sale__card-trim",children:a.trim}),e.jsxs("div",{className:"for-sale__card-price",children:[e.jsx("span",{className:"for-sale__card-price-value",children:v(a.price)}),a.originalPrice&&a.originalPrice>a.price&&e.jsx("span",{className:"for-sale__card-price-original",children:v(a.originalPrice)})]}),e.jsxs("div",{className:"for-sale__card-specs",children:[e.jsxs("div",{className:"for-sale__card-spec",children:[e.jsx(k,{size:14}),e.jsxs("span",{children:[w(a.mileage)," mi"]})]}),e.jsxs("div",{className:"for-sale__card-spec",children:[e.jsx(V,{size:14}),e.jsx("span",{children:a.year})]})]}),e.jsx("div",{className:"for-sale__card-features",children:a.features.slice(0,3).map((l,s)=>e.jsx("span",{className:"for-sale__card-feature",children:l},s))}),e.jsxs("div",{className:"for-sale__card-dealer",children:[e.jsxs("div",{className:"for-sale__card-dealer-info",children:[e.jsx("span",{className:"for-sale__card-dealer-name",children:a.dealerName}),e.jsxs("span",{className:"for-sale__card-dealer-distance",children:[a.distance," miles away"]})]}),a.dealerRating&&e.jsx("div",{className:"for-sale__card-dealer-rating",children:e.jsxs("span",{className:"for-sale__card-dealer-stars",children:["â˜… ",a.dealerRating.toFixed(1)]})})]}),(a.dealerPhone||a.dealerAddress)&&e.jsxs("div",{className:"for-sale__card-contact",children:[a.dealerPhone&&e.jsxs("a",{href:`tel:${a.dealerPhone.replace(/-/g,"")}`,className:"for-sale__card-contact-btn","aria-label":`Call ${a.dealerName}`,children:[e.jsx(q,{size:16}),e.jsx("span",{children:"Call Dealer"})]}),a.dealerAddress&&e.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(a.dealerAddress)}`,target:"_blank",rel:"noopener noreferrer",className:"for-sale__card-contact-btn","aria-label":`Get directions to ${a.dealerName}`,children:[e.jsx(I,{size:16}),e.jsx("span",{children:"Directions"})]})]}),e.jsxs("div",{className:"for-sale__card-actions",children:[e.jsx(o,{as:"a",href:`/${a.slug}`,variant:"primary",size:"small",className:"for-sale__card-btn",children:"View Details"}),e.jsx(o,{variant:"outline",size:"small",className:"for-sale__card-btn",children:"Check Availability"})]})]})]},a.id))}),e.jsx("button",{className:`for-sale__nav for-sale__nav--right ${p?"":"for-sale__nav--disabled"}`,onClick:()=>j("right"),disabled:!p,"aria-label":"Next listings",children:e.jsx(b,{size:24})})]}),e.jsxs("div",{className:"for-sale__footer",children:[e.jsxs("div",{className:"for-sale__results-count",children:["Showing ",i.length," of ",i.length+150,"+ listings near ",t]}),e.jsxs(o,{as:"a",href:"#",variant:"primary",iconRight:e.jsx(b,{size:18}),className:"for-sale__cta-btn",children:["See All ",n," Listings"]})]})]})})};A.__docgenInfo={description:"",methods:[],displayName:"ForSaleNearYou",props:{vehicleName:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Chevrolet Trax"',computed:!1}},make:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Chevrolet"',computed:!1}},model:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Trax"',computed:!1}},bodyStyle:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"SUV"',computed:!1}},maxPrice:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"35000",computed:!1}},location:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Miami, FL"',computed:!1}},title:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"For Sale Near You"',computed:!1}}}};export{A as F};
