import{r as e,j as s}from"./iframe-CgUoK-hQ.js";import"./index.modern-Db9D7lcc.js";import{F as g}from"./fuel-DVaZkBng.js";import{X as p}from"./x-bi8nA3M3.js";import{L as f}from"./loader-circle-BS7L1dmE.js";import{M as _}from"./map-pin-UJmpWtQ-.js";import{E as h}from"./external-link-Czq6tY6i.js";const x=({isOpen:t,onClose:o,vehicleName:l})=>{const[j,i]=e.useState(null),[d,n]=e.useState(!0),[v,r]=e.useState(null),[y,c]=e.useState([]),[S,b]=e.useState(null),[L,m]=e.useState(!0),[N,w]=e.useState(null);return e.useEffect(()=>{t&&(n(!0),r(null),"geolocation"in navigator?navigator.geolocation.getCurrentPosition(a=>{i({lat:a.coords.latitude,lng:a.coords.longitude}),n(!1)},a=>{console.error("Geolocation error:",a),i({lat:34.0522,lng:-118.2437}),r("Unable to get your location. Showing results for Los Angeles."),n(!1)},{timeout:1e4,enableHighAccuracy:!0}):(i({lat:34.0522,lng:-118.2437}),r("Geolocation not supported. Showing results for Los Angeles."),n(!1)))},[t]),e.useEffect(()=>{const a=u=>{u.key==="Escape"&&o()};return t&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow=""}},[t,o]),e.useCallback(a=>{c(a),m(!1)},[]),t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"gas-stations-modal__backdrop",onClick:o,"aria-hidden":"true"}),s.jsxs("div",{className:"gas-stations-modal",role:"dialog","aria-modal":"true","aria-labelledby":"gas-stations-modal-title",children:[s.jsxs("div",{className:"gas-stations-modal__header",children:[s.jsxs("div",{className:"gas-stations-modal__header-content",children:[s.jsx(g,{size:24}),s.jsxs("div",{children:[s.jsx("h2",{id:"gas-stations-modal-title",className:"gas-stations-modal__title",children:"Gas Stations Near You"}),l&&s.jsxs("p",{className:"gas-stations-modal__subtitle",children:["Find fuel for your ",l]})]})]}),s.jsx("button",{className:"gas-stations-modal__close",onClick:o,"aria-label":"Close modal",children:s.jsx(p,{size:24})})]}),s.jsx("div",{className:"gas-stations-modal__content",children:d?s.jsxs("div",{className:"gas-stations-modal__loading",children:[s.jsx(f,{size:32,className:"gas-stations-modal__spinner"}),s.jsx("p",{children:"Getting your location..."})]}):s.jsxs("div",{className:"gas-stations-modal__error",children:[s.jsx(_,{size:48}),s.jsx("p",{children:"Map not available"}),s.jsxs("a",{href:"https://www.gasbuddy.com",target:"_blank",rel:"noopener noreferrer",className:"gas-stations-modal__fallback-link",children:["Find gas prices on GasBuddy",s.jsx(h,{size:16})]})]})}),s.jsx("div",{className:"gas-stations-modal__footer",children:s.jsx("p",{className:"gas-stations-modal__disclaimer",children:"Gas station locations provided by Google Maps. For real-time prices, visit GasBuddy."})})]})]}):null};x.__docgenInfo={description:"",methods:[],displayName:"GasStationsModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},vehicleName:{required:!1,tsType:{name:"string"},description:""}}};export{x as G};
