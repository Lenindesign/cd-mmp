import{r as s,j as e}from"./iframe-DSpX7gfJ.js";import{v as b}from"./index-CR0fvk7o.js";import{C as _}from"./chevron-down-Lsnn4vRN.js";import{A as re}from"./arrow-right-DKsqlnkR.js";import{T as oe}from"./trending-up-BIrG0X3W.js";import{T as le}from"./trending-down-BDLnZXsS.js";import{M as ne}from"./minus-BBL6ub-W.js";import{I as ce}from"./info-CyLc_6Cr.js";import{C as y}from"./circle-check-big-Cch8W_Q3.js";import"./preload-helper-PPVm8Dsz.js";import"./createLucideIcon-c2qrenrp.js";const z=new Date().getFullYear(),ie=Array.from({length:20},(k,x)=>String(z-x)),M=[{value:"excellent",label:"Excellent",description:"Like new, no visible wear"},{value:"good",label:"Good",description:"Minor wear, well maintained"},{value:"fair",label:"Fair",description:"Normal wear for age/mileage"},{value:"poor",label:"Poor",description:"Significant wear or damage"}],B=({defaultYear:k="",defaultMake:x="",defaultModel:F="",onGetEstimate:O})=>{const[r,G]=s.useState(k),[t,H]=s.useState(x),[o,C]=s.useState(F),[l,$]=s.useState(""),[i,R]=s.useState("good"),[V,U]=s.useState(!1),[f,S]=s.useState(!1),[j,P]=s.useState(!1),[g,T]=s.useState(!1),[v,W]=s.useState(!1),L=s.useMemo(()=>[...new Set(b.map(n=>n.make))].sort(),[]),J=s.useMemo(()=>t?[...new Set(b.filter(n=>n.make===t).map(n=>n.model))].sort():[],[t]),c=s.useMemo(()=>{if(!r||!t||!o||!l)return null;const n=b.find(d=>d.make===t&&d.model===o)?.priceMin||25e3,q=z-parseInt(r);let Y=1;for(let d=0;d<q;d++)Y*=d<5?.85:.9;const Z=q*12e3,ee=(parseInt(l.replace(/,/g,""))-Z)*-.12,ae={excellent:1.1,good:1,fair:.85,poor:.7},I=(n*Y+ee)*ae[i],A=Math.max(1e3,Math.round(I*.92/100)*100),D=Math.round(I*1.08/100)*100,te=Math.round((A+D)/2/100)*100,se=["up","down","stable"][Math.floor(Math.random()*3)];return{low:A,mid:te,high:D,trend:se}},[r,t,o,l,i]),K=a=>{H(a),C(""),P(!1)},Q=()=>{r&&t&&o&&l&&(U(!0),O?.({year:r,make:t,model:o,mileage:parseInt(l.replace(/,/g,"")),condition:i}))},X=a=>a.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),N=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),E=r&&t&&o&&l;return e.jsx("section",{className:"whats-my-car-worth",children:e.jsxs("div",{className:"whats-my-car-worth__container",children:[e.jsx("div",{className:"whats-my-car-worth__header",children:e.jsxs("div",{className:"whats-my-car-worth__title-group",children:[e.jsx("h2",{className:"whats-my-car-worth__title",children:"What's My Car Worth?"}),e.jsx("p",{className:"whats-my-car-worth__subtitle",children:"Get an instant trade-in estimate powered by Black Book"})]})}),e.jsxs("div",{className:"whats-my-car-worth__form",children:[e.jsxs("div",{className:"whats-my-car-worth__form-row",children:[e.jsxs("div",{className:"whats-my-car-worth__field",children:[e.jsx("label",{className:"whats-my-car-worth__label",children:"Year"}),e.jsxs("div",{className:"whats-my-car-worth__select-wrapper",children:[e.jsxs("button",{type:"button",className:`whats-my-car-worth__select ${r?"whats-my-car-worth__select--selected":""}`,onClick:()=>S(!f),children:[e.jsx("span",{children:r||"Select year"}),e.jsx(_,{size:18,className:f?"rotated":""})]}),f&&e.jsx("div",{className:"whats-my-car-worth__dropdown",children:ie.map(a=>e.jsx("button",{type:"button",className:`whats-my-car-worth__dropdown-item ${a===r?"selected":""}`,onClick:()=>{G(a),S(!1)},children:a},a))})]})]}),e.jsxs("div",{className:"whats-my-car-worth__field",children:[e.jsx("label",{className:"whats-my-car-worth__label",children:"Make"}),e.jsxs("div",{className:"whats-my-car-worth__select-wrapper",children:[e.jsxs("button",{type:"button",className:`whats-my-car-worth__select ${t?"whats-my-car-worth__select--selected":""}`,onClick:()=>P(!j),children:[e.jsx("span",{children:t||"Select make"}),e.jsx(_,{size:18,className:j?"rotated":""})]}),j&&e.jsx("div",{className:"whats-my-car-worth__dropdown",children:L.map(a=>e.jsx("button",{type:"button",className:`whats-my-car-worth__dropdown-item ${a===t?"selected":""}`,onClick:()=>K(a),children:a},a))})]})]}),e.jsxs("div",{className:"whats-my-car-worth__field",children:[e.jsx("label",{className:"whats-my-car-worth__label",children:"Model"}),e.jsxs("div",{className:"whats-my-car-worth__select-wrapper",children:[e.jsxs("button",{type:"button",className:`whats-my-car-worth__select ${o?"whats-my-car-worth__select--selected":""}`,onClick:()=>t&&T(!g),disabled:!t,children:[e.jsx("span",{children:o||(t?"Select model":"Select make first")}),e.jsx(_,{size:18,className:g?"rotated":""})]}),g&&e.jsx("div",{className:"whats-my-car-worth__dropdown",children:J.map(a=>e.jsx("button",{type:"button",className:`whats-my-car-worth__dropdown-item ${a===o?"selected":""}`,onClick:()=>{C(a),T(!1)},children:a},a))})]})]})]}),e.jsxs("div",{className:"whats-my-car-worth__form-row",children:[e.jsxs("div",{className:"whats-my-car-worth__field",children:[e.jsx("label",{className:"whats-my-car-worth__label",children:"Current Mileage"}),e.jsxs("div",{className:"whats-my-car-worth__input-wrapper",children:[e.jsx("input",{type:"text",className:"whats-my-car-worth__input",placeholder:"e.g. 45,000",value:l,onChange:a=>$(X(a.target.value))}),e.jsx("span",{className:"whats-my-car-worth__input-suffix",children:"miles"})]})]}),e.jsxs("div",{className:"whats-my-car-worth__field whats-my-car-worth__field--wide",children:[e.jsx("label",{className:"whats-my-car-worth__label",children:"Condition"}),e.jsxs("div",{className:"whats-my-car-worth__select-wrapper",children:[e.jsxs("button",{type:"button",className:"whats-my-car-worth__select whats-my-car-worth__select--selected",onClick:()=>W(!v),children:[e.jsx("span",{children:M.find(a=>a.value===i)?.label}),e.jsx(_,{size:18,className:v?"rotated":""})]}),v&&e.jsx("div",{className:"whats-my-car-worth__dropdown whats-my-car-worth__dropdown--condition",children:M.map(a=>e.jsxs("button",{type:"button",className:`whats-my-car-worth__dropdown-item ${a.value===i?"selected":""}`,onClick:()=>{R(a.value),W(!1)},children:[e.jsx("span",{className:"whats-my-car-worth__condition-label",children:a.label}),e.jsx("span",{className:"whats-my-car-worth__condition-desc",children:a.description})]},a.value))})]})]})]}),e.jsxs("button",{type:"button",className:`whats-my-car-worth__cta ${E?"":"whats-my-car-worth__cta--disabled"}`,onClick:Q,disabled:!E,children:["GET MY ESTIMATE",e.jsx(re,{size:18})]})]}),V&&c&&e.jsxs("div",{className:"whats-my-car-worth__results",children:[e.jsxs("div",{className:"whats-my-car-worth__results-header",children:[e.jsxs("h3",{className:"whats-my-car-worth__results-title",children:["Your ",r," ",t," ",o," Estimate"]}),e.jsxs("div",{className:"whats-my-car-worth__results-meta",children:[e.jsxs("span",{children:[l," miles"]}),e.jsx("span",{className:"whats-my-car-worth__divider",children:"â€¢"}),e.jsxs("span",{children:[M.find(a=>a.value===i)?.label," condition"]})]})]}),e.jsxs("div",{className:"whats-my-car-worth__value-display",children:[e.jsxs("div",{className:"whats-my-car-worth__value-range",children:[e.jsxs("div",{className:"whats-my-car-worth__value-low",children:[e.jsx("span",{className:"whats-my-car-worth__value-label",children:"Trade-In Low"}),e.jsx("span",{className:"whats-my-car-worth__value-amount",children:N(c.low)})]}),e.jsxs("div",{className:"whats-my-car-worth__value-mid",children:[e.jsx("span",{className:"whats-my-car-worth__value-label",children:"Estimated Value"}),e.jsx("span",{className:"whats-my-car-worth__value-amount whats-my-car-worth__value-amount--primary",children:N(c.mid)}),e.jsxs("div",{className:"whats-my-car-worth__trend",children:[c.trend==="up"&&e.jsxs(e.Fragment,{children:[e.jsx(oe,{size:16,className:"whats-my-car-worth__trend-icon whats-my-car-worth__trend-icon--up"}),e.jsx("span",{className:"whats-my-car-worth__trend-text whats-my-car-worth__trend-text--up",children:"Market trending up"})]}),c.trend==="down"&&e.jsxs(e.Fragment,{children:[e.jsx(le,{size:16,className:"whats-my-car-worth__trend-icon whats-my-car-worth__trend-icon--down"}),e.jsx("span",{className:"whats-my-car-worth__trend-text whats-my-car-worth__trend-text--down",children:"Market trending down"})]}),c.trend==="stable"&&e.jsxs(e.Fragment,{children:[e.jsx(ne,{size:16,className:"whats-my-car-worth__trend-icon whats-my-car-worth__trend-icon--stable"}),e.jsx("span",{className:"whats-my-car-worth__trend-text whats-my-car-worth__trend-text--stable",children:"Market stable"})]})]})]}),e.jsxs("div",{className:"whats-my-car-worth__value-high",children:[e.jsx("span",{className:"whats-my-car-worth__value-label",children:"Trade-In High"}),e.jsx("span",{className:"whats-my-car-worth__value-amount",children:N(c.high)})]})]}),e.jsx("div",{className:"whats-my-car-worth__value-bar",children:e.jsxs("div",{className:"whats-my-car-worth__value-bar-track",children:[e.jsx("div",{className:"whats-my-car-worth__value-bar-fill"}),e.jsx("div",{className:"whats-my-car-worth__value-bar-marker"})]})})]}),e.jsxs("div",{className:"whats-my-car-worth__results-info",children:[e.jsx(ce,{size:16}),e.jsx("p",{children:"This estimate is based on current market data. Actual trade-in value may vary based on vehicle history, local market conditions, and dealer assessment."})]}),e.jsxs("div",{className:"whats-my-car-worth__results-actions",children:[e.jsxs("button",{className:"whats-my-car-worth__action-btn whats-my-car-worth__action-btn--primary",children:[e.jsx(y,{size:18}),"GET DEALER OFFERS"]}),e.jsx("button",{className:"whats-my-car-worth__action-btn whats-my-car-worth__action-btn--secondary",children:"SHOP WITH TRADE-IN"})]}),e.jsxs("p",{className:"whats-my-car-worth__powered-by",children:["Powered by ",e.jsx("strong",{children:"Black Book"})]})]}),e.jsxs("div",{className:"whats-my-car-worth__trust",children:[e.jsxs("div",{className:"whats-my-car-worth__trust-item",children:[e.jsx(y,{size:16}),e.jsx("span",{children:"No personal info required"})]}),e.jsxs("div",{className:"whats-my-car-worth__trust-item",children:[e.jsx(y,{size:16}),e.jsx("span",{children:"Instant results"})]}),e.jsxs("div",{className:"whats-my-car-worth__trust-item",children:[e.jsx(y,{size:16}),e.jsx("span",{children:"Real market data"})]})]})]})})};B.__docgenInfo={description:"",methods:[],displayName:"WhatsMyCarWorth",props:{defaultYear:{required:!1,tsType:{name:"string"},description:"Pre-selected year",defaultValue:{value:"''",computed:!1}},defaultMake:{required:!1,tsType:{name:"string"},description:"Pre-selected make",defaultValue:{value:"''",computed:!1}},defaultModel:{required:!1,tsType:{name:"string"},description:"Pre-selected model",defaultValue:{value:"''",computed:!1}},onGetEstimate:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: { year: string; make: string; model: string; mileage: number; condition: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ year: string; make: string; model: string; mileage: number; condition: string }",signature:{properties:[{key:"year",value:{name:"string",required:!0}},{key:"make",value:{name:"string",required:!0}},{key:"model",value:{name:"string",required:!0}},{key:"mileage",value:{name:"number",required:!0}},{key:"condition",value:{name:"string",required:!0}}]}},name:"data"}],return:{name:"void"}}},description:"Callback when estimate is requested"}}};const be={title:"Components/WhatsMyCarWorth",component:B,parameters:{layout:"fullscreen",docs:{description:{component:`
# What's My Car Worth?

A trade-in value estimator component that allows users to get an instant estimate of their vehicle's worth.

## Features
- Year, Make, Model selection from vehicle database
- Mileage input with formatting
- Condition selector with descriptions
- Instant value estimate with range (low/mid/high)
- Market trend indicator
- Trust badges for credibility

## Usage
\`\`\`tsx
import WhatsMyCarWorth from '@/components/WhatsMyCarWorth';

<WhatsMyCarWorth 
  onGetEstimate={(data) => console.log('Estimate requested:', data)}
/>
\`\`\`

## Integration
This component is powered by Black Book data (mock) and can be integrated with actual valuation APIs.
        `}}},tags:["autodocs"],argTypes:{defaultYear:{control:"text",description:"Pre-selected year"},defaultMake:{control:"text",description:"Pre-selected make"},defaultModel:{control:"text",description:"Pre-selected model"},onGetEstimate:{action:"estimate-requested",description:"Callback when estimate is requested"}}},m={args:{}},h={args:{defaultYear:"2020",defaultMake:"Honda",defaultModel:"Accord"}},w={args:{defaultYear:"2019",defaultMake:"Toyota",defaultModel:"Camry"}},u={args:{defaultYear:"2021",defaultMake:"Chevrolet",defaultModel:"Silverado 1500"}},p={args:{defaultYear:"2022",defaultMake:"BMW",defaultModel:"3 Series"}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  args: {}
}`,...m.parameters?.docs?.source},description:{story:"Default state - empty form ready for user input",...m.parameters?.docs?.description}}};h.parameters={...h.parameters,docs:{...h.parameters?.docs,source:{originalSource:`{
  args: {
    defaultYear: '2020',
    defaultMake: 'Honda',
    defaultModel: 'Accord'
  }
}`,...h.parameters?.docs?.source},description:{story:"Pre-filled with a Honda Accord",...h.parameters?.docs?.description}}};w.parameters={...w.parameters,docs:{...w.parameters?.docs,source:{originalSource:`{
  args: {
    defaultYear: '2019',
    defaultMake: 'Toyota',
    defaultModel: 'Camry'
  }
}`,...w.parameters?.docs?.source},description:{story:"Pre-filled with a Toyota Camry",...w.parameters?.docs?.description}}};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:`{
  args: {
    defaultYear: '2021',
    defaultMake: 'Chevrolet',
    defaultModel: 'Silverado 1500'
  }
}`,...u.parameters?.docs?.source},description:{story:"Pre-filled with a Chevrolet Silverado truck",...u.parameters?.docs?.description}}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  args: {
    defaultYear: '2022',
    defaultMake: 'BMW',
    defaultModel: '3 Series'
  }
}`,...p.parameters?.docs?.source},description:{story:"Pre-filled with a BMW 3 Series",...p.parameters?.docs?.description}}};const Me=["Default","PrefilledHondaAccord","PrefilledToyotaCamry","PrefilledChevroletSilverado","PrefilledBMW3Series"];export{m as Default,p as PrefilledBMW3Series,u as PrefilledChevroletSilverado,h as PrefilledHondaAccord,w as PrefilledToyotaCamry,Me as __namedExportsOrder,be as default};
