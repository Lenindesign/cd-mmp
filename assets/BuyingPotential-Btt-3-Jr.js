import{r as a,j as e,L as w}from"./iframe-BmlzIRR_.js";import{g as ee}from"./vehicleService-ByoDejvg.js";import{g as se}from"./listingsService-UNNRh09o.js";import{C}from"./chevron-down-CB7Yq9Qy.js";import{A as ae}from"./arrow-right-CksbzqHn.js";import{M as ne}from"./map-pin-M2Ik2-dy.js";import{C as I}from"./circle-check-big-zZ72vb2Y.js";const te={SUV:"SUVs",Sedan:"Sedans",Truck:"Trucks",Coupe:"Coupes",Hatchback:"Hatchbacks",Convertible:"Convertibles",Wagon:"Wagons"},ie=(n,l)=>{const b=te[n]||n;return n==="SUV"?l<35e3?"Subcompact SUVs":l<5e4?"Compact SUVs":l<8e4?"Midsize SUVs":"Luxury SUVs":n==="Sedan"?l<35e3?"Compact Sedans":l<5e4?"Midsize Sedans":"Luxury Sedans":n==="Truck"?l<45e3?"Compact Trucks":l<7e4?"Full-Size Trucks":"Heavy-Duty Trucks":b},le=({bodyStyle:n="SUV",vehicleName:l="2025 Chevrolet Trax",vehicleImage:b="https://d2kde5ohu8qb21.cloudfront.net/files/66c5ee7c8a192c000814f46b/suvs-0029-2025-chevrolet-trax.png"})=>{const[x,z]=a.useState("New car"),[j,B]=a.useState(2500),[m,D]=a.useState("Good (670-739)"),[d,F]=a.useState(450),[p,E]=a.useState(60),[_,O]=a.useState(!1),[N,q]=a.useState(0),[t,R]=a.useState(0),[f,G]=a.useState(0),[H,S]=a.useState(!1),[T,h]=a.useState(!1),[k,g]=a.useState(!1),[U,y]=a.useState(!1),Y=["New car","Used car"],W=["Excellent (740-850)","Good (670-739)","Fair (580-669)","Poor (300-579)"],J=[36,48,60,72,84],M=a.useMemo(()=>t<=0?[]:ee(t,20,n),[t,n]),V=a.useMemo(()=>t<=0?[]:se().filter(i=>{const r=i.price<=t,v=!n||i.bodyStyle===n;return r&&v&&!i.isNew}).sort((i,r)=>r.price-i.price).slice(0,20),[t,n]),c=x==="Used car",$=(c?V:M).length,o=a.useMemo(()=>ie(n,t),[n,t]),A=()=>{switch(m){case"Excellent (740-850)":return 5.49;case"Good (670-739)":return 7.57;case"Fair (580-669)":return 11.89;case"Poor (300-579)":return 14.99;default:return 7.57}};a.useEffect(()=>{const s=A()/100/12,r=d*((1-Math.pow(1+s,-p))/s)+j+(_?N:0);R(Math.round(r))},[d,j,m,p,_,N]),a.useEffect(()=>{if(t===f)return;S(!0);const s=f,i=t,r=500,v=performance.now(),L=K=>{const Q=K-v,P=Math.min(Q/r,1),X=1-Math.pow(1-P,3),Z=Math.round(s+(i-s)*X);G(Z),P<1?requestAnimationFrame(L):S(!1)};requestAnimationFrame(L)},[t]);const u=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(s);return e.jsx("section",{className:"buying-potential",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"buying-potential__card",children:[e.jsxs("div",{className:"buying-potential__header",children:[e.jsxs("div",{className:"buying-potential__header-left",children:[e.jsx("h2",{className:"buying-potential__title",children:"See Your Buying Potential"}),e.jsx("p",{className:"buying-potential__description",children:"Instantly see vehicles that fit your budget."})]}),e.jsxs("div",{className:"buying-potential__header-right",children:[e.jsx("span",{className:`buying-potential__power-amount ${H?"buying-potential__power-amount--animating":""}`,children:u(f)}),e.jsx("span",{className:"buying-potential__power-label",children:"Est. buying power"}),e.jsxs("div",{className:"buying-potential__power-details",children:[e.jsxs("span",{className:"buying-potential__power-apr",children:[A(),"% APR"]}),e.jsx("span",{className:"buying-potential__power-separator",children:"â€¢"}),e.jsxs("span",{className:"buying-potential__power-term",children:[p," months"]}),e.jsx("span",{className:"buying-potential__power-separator",children:"â€¢"}),e.jsxs("span",{className:"buying-potential__power-monthly",children:[u(d),"/mo"]})]})]})]}),e.jsxs("div",{className:"buying-potential__content",children:[e.jsxs("div",{className:"buying-potential__left",children:[e.jsxs("div",{className:"buying-potential__form",children:[e.jsx("div",{className:"buying-potential__row buying-potential__row--single",children:e.jsxs("div",{className:"buying-potential__field",children:[e.jsx("label",{className:"buying-potential__label",children:"Looking for"}),e.jsxs("div",{className:"buying-potential__select-wrapper",children:[e.jsxs("button",{className:"buying-potential__select",onClick:()=>{h(!T),g(!1),y(!1)},children:[x,e.jsx(C,{size:16})]}),T&&e.jsx("ul",{className:"buying-potential__options",children:Y.map(s=>e.jsx("li",{children:e.jsx("button",{className:`buying-potential__option ${x===s?"active":""}`,onClick:()=>{z(s),h(!1)},children:s})},s))})]})]})}),e.jsxs("div",{className:"buying-potential__row",children:[e.jsxs("div",{className:"buying-potential__field",children:[e.jsx("label",{className:"buying-potential__label",children:"Credit score"}),e.jsxs("div",{className:"buying-potential__select-wrapper",children:[e.jsxs("button",{className:"buying-potential__select",onClick:()=>{g(!k),h(!1),y(!1)},children:[m,e.jsx(C,{size:16})]}),k&&e.jsx("ul",{className:"buying-potential__options",children:W.map(s=>e.jsx("li",{children:e.jsx("button",{className:`buying-potential__option ${m===s?"active":""}`,onClick:()=>{D(s),g(!1)},children:s})},s))})]})]}),e.jsxs("div",{className:"buying-potential__field",children:[e.jsx("label",{className:"buying-potential__label",children:"Loan term"}),e.jsxs("div",{className:"buying-potential__select-wrapper",children:[e.jsxs("button",{className:"buying-potential__select",onClick:()=>{y(!U),h(!1),g(!1)},children:[p," months",e.jsx(C,{size:16})]}),U&&e.jsx("ul",{className:"buying-potential__options",children:J.map(s=>e.jsx("li",{children:e.jsxs("button",{className:`buying-potential__option ${p===s?"active":""}`,onClick:()=>{E(s),y(!1)},children:[s," months (",s/12," years)"]})},s))})]})]})]}),e.jsxs("div",{className:"buying-potential__row",children:[e.jsxs("div",{className:"buying-potential__field",children:[e.jsx("label",{className:"buying-potential__label",children:"Monthly payment"}),e.jsxs("div",{className:"buying-potential__input-wrapper",children:[e.jsx("span",{className:"buying-potential__input-prefix",children:"$"}),e.jsx("input",{type:"number",className:"buying-potential__input",value:d,onChange:s=>F(Number(s.target.value)),min:100,step:50})]})]}),e.jsxs("div",{className:"buying-potential__field",children:[e.jsx("label",{className:"buying-potential__label",children:"Down payment"}),e.jsxs("div",{className:"buying-potential__input-wrapper",children:[e.jsx("span",{className:"buying-potential__input-prefix",children:"$"}),e.jsx("input",{type:"number",className:"buying-potential__input",value:j,onChange:s=>B(Number(s.target.value)),min:0,step:100})]})]})]}),e.jsxs("div",{className:"buying-potential__toggle-row",children:[e.jsxs("label",{className:"buying-potential__toggle",children:[e.jsx("input",{type:"checkbox",checked:_,onChange:s=>O(s.target.checked)}),e.jsx("span",{className:"buying-potential__toggle-slider"})]}),e.jsx("span",{className:"buying-potential__toggle-label",children:"Include trade-in"})]}),_&&e.jsxs("div",{className:"buying-potential__trade-in-field",children:[e.jsx("label",{className:"buying-potential__label",children:"Trade-in amount"}),e.jsxs("div",{className:"buying-potential__input-wrapper buying-potential__input-wrapper--full",children:[e.jsx("span",{className:"buying-potential__input-prefix",children:"$"}),e.jsx("input",{type:"number",className:"buying-potential__input",value:N,onChange:s=>q(Number(s.target.value)),min:0,step:100,placeholder:"0"})]})]})]}),e.jsxs("div",{className:"buying-potential__cta-group",children:[e.jsxs(w,{to:c?`/vehicles?type=used&maxPrice=${t}&bodyStyle=${n}`:`/vehicles?maxPrice=${t}&bodyStyle=${n}`,className:"buying-potential__cta buying-potential__cta--primary",children:["See All ",c?"Used ":"",o," Under ",u(t),e.jsx(ae,{size:18})]}),e.jsx("button",{className:"buying-potential__cta buying-potential__cta--secondary",children:"Get Pre-Approved"})]}),e.jsx("p",{className:"buying-potential__disclaimer",children:"*Rates may vary based on credit history and lender. This calculator provides estimates only. Actual rates as of December 2025."})]}),e.jsx("div",{className:"buying-potential__right",children:$>0?e.jsxs("div",{className:"buying-potential__matches",children:[e.jsxs("h3",{className:"buying-potential__matches-title",children:[e.jsxs("span",{children:[c?`Used ${o}`:o.toUpperCase()," IN YOUR BUDGET"]}),e.jsxs("span",{className:"buying-potential__matches-count",children:[$," found"]})]}),e.jsx("div",{className:"buying-potential__matches-list",children:c?V.map((s,i)=>e.jsxs(w,{to:`/${s.slug}`,className:"buying-potential__match buying-potential__match--used",children:[e.jsx("img",{src:s.image,alt:`${s.year} ${s.make} ${s.model}`,className:"buying-potential__match-image"}),e.jsxs("div",{className:"buying-potential__match-info",children:[e.jsxs("span",{className:"buying-potential__match-name",children:[s.year," ",s.make," ",s.model]}),e.jsx("span",{className:"buying-potential__match-trim",children:s.trim}),e.jsxs("span",{className:"buying-potential__match-dealer",children:[e.jsx(ne,{size:12}),s.mileage.toLocaleString()," miles"]}),e.jsx("span",{className:"buying-potential__match-price",children:u(s.price)})]}),e.jsx(I,{size:18,className:"buying-potential__match-check"})]},i)):M.map((s,i)=>e.jsxs(w,{to:`/${s.slug}`,className:"buying-potential__match",children:[e.jsx("img",{src:s.image,alt:s.name,className:"buying-potential__match-image"}),e.jsxs("div",{className:"buying-potential__match-info",children:[e.jsx("span",{className:"buying-potential__match-name",children:s.name}),e.jsxs("span",{className:"buying-potential__match-trim",children:[s.trim,e.jsxs("span",{className:"buying-potential__match-rating",children:[e.jsx("span",{className:"buying-potential__match-rating-score",children:s.rating}),"/10"]})]}),e.jsx("span",{className:"buying-potential__match-price",children:u(s.price)})]}),e.jsx(I,{size:18,className:"buying-potential__match-check"})]},i))})]}):e.jsxs("div",{className:"buying-potential__no-matches",children:[e.jsx("div",{className:"buying-potential__no-matches-image",children:e.jsx("img",{src:b,alt:l})}),e.jsxs("div",{className:"buying-potential__no-matches-content",children:[e.jsxs("h3",{className:"buying-potential__no-matches-title",children:["No ",c?`Used ${o}`:o," Found"]}),e.jsxs("p",{className:"buying-potential__no-matches-text",children:["Your current budget of ",e.jsx("strong",{children:u(t)})," doesn't match any ",c?"used ":"",o.toLowerCase()," in our database."]}),e.jsxs("div",{className:"buying-potential__no-matches-tips",children:[e.jsx("p",{className:"buying-potential__no-matches-tip",children:e.jsx("strong",{children:"ðŸ’¡ Tips to see more vehicles:"})}),e.jsxs("ul",{className:"buying-potential__no-matches-list",children:[e.jsxs("li",{children:["Increase your ",e.jsx("strong",{children:"monthly payment"})]}),e.jsxs("li",{children:["Add a larger ",e.jsx("strong",{children:"down payment"})]}),e.jsxs("li",{children:["Consider a longer ",e.jsx("strong",{children:"loan term"})]}),e.jsxs("li",{children:["Include a ",e.jsx("strong",{children:"trade-in"})," vehicle"]})]})]})]})]})})]})]})})})};le.__docgenInfo={description:"",methods:[],displayName:"BuyingPotential",props:{bodyStyle:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'SUV'",computed:!1}},vehicleName:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'2025 Chevrolet Trax'",computed:!1}},vehicleImage:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'https://d2kde5ohu8qb21.cloudfront.net/files/66c5ee7c8a192c000814f46b/suvs-0029-2025-chevrolet-trax.png'",computed:!1}}}};export{le as B};
