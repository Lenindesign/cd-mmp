import{v as i}from"./index-Dto8T7jp.js";const E=()=>i,j=e=>i.find(o=>o.slug.toLowerCase()===e.toLowerCase()),F=(e=10)=>[...i].sort((o,s)=>s.staffRating-o.staffRating).slice(0,e),x=(e,o=6)=>i.filter(t=>t.id!==e.id&&t.make!==e.make&&t.bodyStyle===e.bodyStyle&&Math.abs(t.priceMin-e.priceMin)<=15e3).sort((t,r)=>r.staffRating-t.staffRating).slice(0,o),q=e=>{const o=e.toLowerCase();return i.filter(s=>`${s.year} ${s.make} ${s.model}`.toLowerCase().includes(o)||s.make.toLowerCase().includes(o)||s.model.toLowerCase().includes(o))},T=(e,o)=>i.filter(s=>{const t=s.priceMin<=e,r=!o||s.bodyStyle.toLowerCase()===o.toLowerCase();return t&&r}).sort((s,t)=>s.priceMin-t.priceMin),C=(e,o=10,s)=>i.filter(t=>{const r=t.bodyStyle.toLowerCase()===e.toLowerCase(),c=!s||t.priceMin<=s;return r&&c}).sort((t,r)=>r.staffRating-t.staffRating).slice(0,o),O=()=>[...new Set(i.map(e=>e.make))].sort(),N=()=>[...new Set(i.map(e=>e.bodyStyle))].sort(),Q=(e,o)=>{const s=i.filter(t=>t.make.toLowerCase()===e.toLowerCase()&&t.model.toLowerCase()===o.toLowerCase()).map(t=>t.year);return[...new Set(s)].sort((t,r)=>parseInt(r)-parseInt(t))},W=(e,o)=>i.filter(t=>t.make.toLowerCase()===e.toLowerCase()&&t.model.toLowerCase()===o.toLowerCase()).sort((t,r)=>parseInt(r.year)-parseInt(t.year)).map(t=>({year:parseInt(t.year),price:`$${t.priceMin.toLocaleString()}`,rating:t.staffRating})),U=e=>({name:`${e.year} ${e.make} ${e.model}`,price:e.priceMin,image:e.image,trim:e.trim||e.drivetrain||"",rating:e.staffRating,slug:e.slug}),z=(e,o=15,s)=>T(e,s).slice(0,o).map(U),S=e=>({id:e.id,make:e.make,model:e.model,year:parseInt(e.year),price:e.priceRange,mpg:e.mpg||"N/A",rating:e.staffRating,image:e.image,slug:e.slug,review:`The ${e.make} ${e.model} offers ${e.features?.slice(0,2).join(" and ")||"excellent features"}.`,hasEditorChoice:e.award==="Editor's Choice"||e.staffRating>=9}),G=(e,o=6)=>{const s=i.find(t=>t.make.toLowerCase()===e.make.toLowerCase()&&t.model.toLowerCase()===e.model.toLowerCase());return s?x(s,o).map(S):F(o).filter(t=>t.bodyStyle==="SUV").map(S)},P=(e,o,s)=>({id:e.id,rank:o,name:`${e.make} ${e.model}`,price:`$${e.priceMin.toLocaleString()}`,image:e.image,rating:e.staffRating,slug:e.slug,isCurrentVehicle:e.id===s,badge:void 0,editorsChoice:e.editorsChoice,tenBest:e.tenBest,evOfTheYear:e.evOfTheYear}),H=(e,o,s=10,t)=>{const r=C(e,100,t),c=C(e,s-1,t),u=o?c.some(n=>n.id===o):!1,d=o?r.find(n=>n.id===o):null;let g;u||!d?g=C(e,s,t):g=[...c,d];const m=g.map(n=>{const f=r.findIndex(p=>p.id===n.id)+1;return P(n,f,o)}),a=g.findIndex(n=>n.award==="Editor's Choice"||n.staffRating>=9.5),l=g.findIndex(n=>n.priceMin<25e3&&n.staffRating>=8);return a!==-1&&(m[a].badge="editors-choice"),l!==-1&&l!==a&&(m[l].badge="best-value"),m},J=(e,o,s,t,r=5)=>{const c=i.find(a=>a.make.toLowerCase()===o.toLowerCase()&&a.model.toLowerCase()===s.toLowerCase()),u=15e3,d=i.filter(a=>a.bodyStyle.toLowerCase()===e.toLowerCase()&&Math.abs(a.priceMin-t)<=u&&!(a.make.toLowerCase()===o.toLowerCase()&&a.model.toLowerCase()===s.toLowerCase())).slice(0,r-1),m=(c?[c,...d]:d.slice(0,r)).map(a=>{const l=a.make.toLowerCase()===o.toLowerCase()&&a.model.toLowerCase()===s.toLowerCase(),n=String(a.id||"0"),f=String(a.make||"Unknown"),p=String(a.model||"Unknown"),w=(n.charCodeAt(0)||48)+(f.charCodeAt(0)||65),R=(n.charCodeAt(Math.min(1,n.length-1))||48)+(p.charCodeAt(0)||65),M=(f.charCodeAt(Math.min(1,f.length-1))||65)+(p.charCodeAt(Math.min(1,p.length-1))||65),V=a.staffRating||7,y=a.priceMin||3e4,h=V/10,k=y/5e4,$=Math.floor(60-h*30+k*10),b=Math.max(15,Math.min(65,$+w%10)),I=Math.floor(80+h*100-k*20),L=Math.max(50,I+R%30),B=Math.floor(L*.7)+M%40,A=.85+w%10/100,D=Math.round(y*A);return{vehicle:a,isCurrentVehicle:l,marketDaySupply:b,totalForSale:B,totalSold:L,avgSellingPrice:D}});return m.sort((a,l)=>a.marketDaySupply-l.marketDaySupply),m.map((a,l)=>({id:a.vehicle.id,name:`${a.vehicle.year} ${a.vehicle.make} ${a.vehicle.model}`,make:a.vehicle.make,model:a.vehicle.model,slug:a.vehicle.slug,price:a.vehicle.priceMin,avgSellingPrice:a.avgSellingPrice,rank:l+1,marketDaySupply:a.marketDaySupply,totalForSale:a.totalForSale,totalSold:a.totalSold,isCurrentVehicle:a.isCurrentVehicle}))},K=(e,o,s)=>{const r=C(e,100,s).findIndex(c=>c.id===o);return r!==-1?r+1:1};export{G as a,Q as b,J as c,E as d,W as e,H as f,z as g,K as h,j as i,O as j,N as k,q as s};
