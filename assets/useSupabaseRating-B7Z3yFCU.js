import{r as s}from"./iframe-DSzUAVkL.js";const d=!0;let i={},u=null,f=!1;async function p(){return f?i:u||(u=(async()=>{try{const t=await fetch("/.netlify/functions/get-ratings");if(t.ok)return i=(await t.json()).ratings||{},f=!0,i}catch(t){console.error("[useSupabaseRatings] Error fetching ratings:",t)}return f=!0,i})(),u)}function k(t,e,a){const[g,o]=s.useState(a),[c,n]=s.useState(d);return s.useEffect(()=>{(async()=>{const r=await p(),h=`${e}-${t}`;r[h]!==void 0?o(r[h]):o(a),n(!1)})()},[t,e,a]),{rating:g,isLoading:c}}function y(){const[t,e]=s.useState({}),[a,g]=s.useState(d);s.useEffect(()=>{(async()=>{const n=await p();e(n),g(!1)})()},[]);const o=s.useCallback((c,n,l)=>{const r=`${n}-${c}`;return t[r]!==void 0?t[r]:l},[t]);return{ratings:t,isLoading:a,getRating:o}}function S(t){return{Sedan:"sedans",SUV:"suvs",Truck:"trucks",Coupe:"coupes",Convertible:"convertibles",Wagon:"wagons",Hatchback:"hatchbacks"}[t]||t.toLowerCase()+"s"}export{k as a,S as g,y as u};
