import{u as te,r as i,j as e,L as x,k as ie,d as ne}from"./iframe-BjFtNjKF.js";import{i as de,s as ce}from"./vehicleService-BNfwZwSS.js";import{u as oe,g as he}from"./useSupabaseRating-BK0Xeons.js";import{v as b,a as D,c as me,s as ee}from"./index-CR0fvk7o.js";import{B as ue}from"./Button-2O6vy2jL.js";import{E as _e}from"./ExitIntentModal-CQHBJjMP.js";import{O}from"./OptimizedImage-DiXihJ5v.js";import{C as se}from"./clock-CX1iZnGk.js";import{B as $}from"./bookmark-C2mns5iY.js";import{C as U}from"./car-P_stiV5i.js";import{X as T}from"./x-BU8ylF0A.js";import{c as K}from"./createLucideIcon-DfJbe4c6.js";import{C as ae}from"./chevron-right-Do8qR6Qb.js";import{S as P}from"./search-B7qDtkeA.js";import{P as W}from"./plus-DRhDH1ie.js";import{U as ve}from"./user-DU9S-4ZO.js";const ge=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xe=K("log-out",ge);const pe=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],je=K("menu",pe);const be=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fe=K("trash-2",be),Ne=(t,l)=>b.find(n=>n.make===t&&n.model===l),Ce={"avatar-family":{make:"Honda",model:"Pilot",fallback:ee},"avatar-adventure":{make:"Jeep",model:"Wrangler",fallback:ee},"avatar-luxury":{make:"Mercedes-Benz",model:"S-Class",fallback:D},"avatar-eco-friendly":{make:"Tesla",model:"Model 3",fallback:D},"avatar-performance":{make:"Porsche",model:"911",fallback:me},"avatar-commuter":{make:"Toyota",model:"Camry",fallback:D},"avatar-value":{make:"Honda",model:"Civic",fallback:D}},B=t=>{if(!t||t==="initials")return null;const l=Ce[t];return l&&(Ne(l.make,l.model)||l.fallback[0])?.image||null},re=t=>{if(!t)return"U";const l=t.split(" ");return l.length>=2?`${l[0][0]}${l[1][0]}`.toUpperCase():l[0].substring(0,2).toUpperCase()},X="recentlyViewedVehicles",we=20,ye=()=>{try{const t=localStorage.getItem(X);return t?JSON.parse(t):[]}catch{return[]}},Te=t=>{try{const l=ye(),n={id:t.id,name:`${t.year} ${t.make} ${t.model}`,slug:t.slug,image:t.image,price:t.priceMin,mileage:t.mileage,viewedAt:new Date().toISOString()},f=l.filter(_=>_.id!==t.id&&_.slug!==t.slug),C=[n,...f].slice(0,we);localStorage.setItem(X,JSON.stringify(C))}catch(l){console.error("Error saving recently viewed vehicle:",l)}},Se=()=>{try{localStorage.removeItem(X)}catch(t){console.error("Error clearing recently viewed vehicles:",t)}},le=({isOpen:t,onClose:l})=>{const{user:n,addSavedVehicle:f,removeSavedVehicle:C}=te(),[_,F]=i.useState("recently-viewed"),[u,N]=i.useState([]),[p,R]=i.useState(!1),[w,v]=i.useState(!1),[y,S]=i.useState(""),[A,I]=i.useState(""),[k,j]=i.useState([]),[E,V]=i.useState([]),L=i.useRef(null),H=i.useRef(null);i.useEffect(()=>{const s=localStorage.getItem("recentlyViewedVehicles");if(s)try{const a=JSON.parse(s);N(a.slice(0,10))}catch{N([])}},[t]);const G=()=>{Se(),N([])},Z=s=>{const a=s.split(" ");if(a.length>=1&&/^\d{4}$/.test(a[0])&&a.length>=3){const c=parseInt(a[0]),d=a[1],m=a.slice(2).join(" ");let o=b.find(h=>Number(h.year)===c&&h.make.toLowerCase()===d.toLowerCase()&&h.model.toLowerCase()===m.toLowerCase());return o||(o=b.find(h=>h.make.toLowerCase()===d.toLowerCase()&&h.model.toLowerCase()===m.toLowerCase())),o||(o=b.find(h=>h.make.toLowerCase()===d.toLowerCase()&&(h.model.toLowerCase().includes(m.toLowerCase())||m.toLowerCase().includes(h.model.toLowerCase())))),o}else if(a.length>=2){const c=a[0],d=a.slice(1).join(" ");let m=b.find(o=>o.make.toLowerCase()===c.toLowerCase()&&o.model.toLowerCase()===d.toLowerCase());if(m||(m=b.find(o=>o.make.toLowerCase()===c.toLowerCase()&&(o.model.toLowerCase().includes(d.toLowerCase())||d.toLowerCase().includes(o.model.toLowerCase())))),!m){const o=s.toLowerCase();m=b.find(h=>`${h.make} ${h.model}`.toLowerCase().includes(o)||o.includes(`${h.make} ${h.model}`.toLowerCase()))}return m}return null},g=n?.savedVehicles?.filter(s=>s.ownership==="want")||[],M=n?.savedVehicles?.filter(s=>s.ownership==="own")||[],Q=s=>{const a=s.target.value;if(S(a),a.length>=2){const r=b.filter(c=>`${c.year} ${c.make} ${c.model}`.toLowerCase().includes(a.toLowerCase())).slice(0,6);j(r)}else j([])},q=s=>{const a=s.target.value;if(I(a),a.length>=2){const r=b.filter(c=>`${c.year} ${c.make} ${c.model}`.toLowerCase().includes(a.toLowerCase())).slice(0,6);V(r)}else V([])},J=s=>{f({id:`own-${s.id}`,name:`${s.year} ${s.make} ${s.model}`,ownership:"own",savedAt:new Date().toISOString()}),S(""),j([]),R(!1)},Y=s=>{f({id:`want-${s.id}`,name:`${s.year} ${s.make} ${s.model}`,ownership:"want",savedAt:new Date().toISOString()}),I(""),V([]),v(!1)};if(i.useEffect(()=>{p&&L.current&&L.current.focus()},[p]),i.useEffect(()=>{w&&H.current&&H.current.focus()},[w]),i.useEffect(()=>{const s=a=>{a.key==="Escape"&&l()};return t&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow=""}},[t,l]),!t)return null;const z=[{id:"recently-viewed",label:"Recently Viewed",icon:e.jsx(se,{size:16}),count:u.length},{id:"want",label:"Cars I Want",icon:e.jsx($,{size:16}),count:g.length},{id:"own",label:"Cars I Own",icon:e.jsx(U,{size:16}),count:M.length}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"saved-sidebar__overlay",onClick:l}),e.jsxs("aside",{className:"saved-sidebar",role:"dialog","aria-label":"Saved vehicles",children:[e.jsxs("div",{className:"saved-sidebar__header",children:[e.jsxs("div",{className:"saved-sidebar__header-content",children:[e.jsx($,{size:20,fill:"currentColor",className:"saved-sidebar__header-icon"}),e.jsx("h2",{className:"saved-sidebar__title",children:"My Garage"})]}),e.jsx("button",{className:"saved-sidebar__close",onClick:l,"aria-label":"Close sidebar",children:e.jsx(T,{size:24})})]}),e.jsxs("div",{className:"saved-sidebar__welcome",children:[e.jsx("span",{className:"saved-sidebar__welcome-text",children:"Welcome!"}),e.jsx("p",{className:"saved-sidebar__welcome-desc",children:"Here are the cars you've viewed, followed or own."})]}),e.jsx("div",{className:"saved-sidebar__tabs",children:z.map(s=>e.jsxs("button",{className:`saved-sidebar__tab ${_===s.id?"saved-sidebar__tab--active":""}`,onClick:()=>F(s.id),children:[s.icon,e.jsx("span",{children:s.label}),s.count>0&&e.jsx("span",{className:"saved-sidebar__tab-count",children:s.count})]},s.id))}),e.jsxs("div",{className:"saved-sidebar__content",children:[_==="recently-viewed"&&e.jsx("div",{className:"saved-sidebar__section",children:u.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"saved-sidebar__section-header",children:[e.jsxs("span",{className:"saved-sidebar__section-title",children:["Recently Viewed (",u.length,")"]}),e.jsxs("div",{className:"saved-sidebar__section-actions",children:[e.jsxs("button",{className:"saved-sidebar__clear-btn",onClick:G,title:"Clear recently viewed",children:[e.jsx(fe,{size:14}),"Clear"]}),e.jsxs(x,{to:"/vehicles",className:"saved-sidebar__section-link",onClick:l,children:["Shop Now ",e.jsx(ae,{size:14})]})]})]}),e.jsx("div",{className:"saved-sidebar__vehicles",children:u.map((s,a)=>e.jsxs(x,{to:`/${s.slug}`,className:"saved-sidebar__vehicle",onClick:l,children:[e.jsx("div",{className:"saved-sidebar__vehicle-image",children:e.jsx(O,{src:s.image,alt:s.name,width:80,height:60})}),e.jsxs("div",{className:"saved-sidebar__vehicle-info",children:[e.jsx("span",{className:"saved-sidebar__vehicle-name",children:s.name}),e.jsxs("span",{className:"saved-sidebar__vehicle-price",children:["$",s.price.toLocaleString(),s.mileage&&e.jsxs("span",{className:"saved-sidebar__vehicle-mileage",children:["â€¢ ",s.mileage.toLocaleString()," mi"]})]})]}),e.jsx("button",{className:`saved-sidebar__vehicle-favorite ${n?.savedVehicles?.some(r=>r.name===s.name)?"saved-sidebar__vehicle-favorite--active":""}`,onClick:r=>{if(r.preventDefault(),r.stopPropagation(),n?.savedVehicles?.some(d=>d.name===s.name)){const d=n?.savedVehicles?.find(m=>m.name===s.name);d&&C(d.id)}else f({id:`want-${s.id}-${Date.now()}`,name:s.name,ownership:"want",savedAt:new Date().toISOString()})},"aria-label":n?.savedVehicles?.some(r=>r.name===s.name)?"Remove from saved":"Save vehicle",children:e.jsx($,{size:18,fill:n?.savedVehicles?.some(r=>r.name===s.name)?"currentColor":"none"})})]},`${s.id}-${a}`))})]}):e.jsxs("div",{className:"saved-sidebar__empty",children:[e.jsx(se,{size:48,className:"saved-sidebar__empty-icon"}),e.jsx("h3",{className:"saved-sidebar__empty-title",children:"No recently viewed"}),e.jsx("p",{className:"saved-sidebar__empty-desc",children:"Start browsing vehicles and they'll appear here."}),e.jsx(x,{to:"/vehicles",className:"saved-sidebar__empty-cta",onClick:l,children:"Browse Vehicles"})]})}),_==="want"&&e.jsxs("div",{className:"saved-sidebar__section",children:[g.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"saved-sidebar__section-header",children:e.jsxs("span",{className:"saved-sidebar__section-title",children:["Cars I Want (",g.length,")"]})}),e.jsx("div",{className:"saved-sidebar__vehicles",children:g.map(s=>{const a=Z(s.name);return e.jsxs(x,{to:a?`/${a.slug}`:"/vehicles",className:"saved-sidebar__vehicle",onClick:l,children:[e.jsx("div",{className:"saved-sidebar__vehicle-image",children:a?.image?e.jsx(O,{src:a.image,alt:s.name,width:80,height:60}):e.jsx("div",{className:"saved-sidebar__vehicle-placeholder",children:e.jsx(U,{size:24})})}),e.jsxs("div",{className:"saved-sidebar__vehicle-info",children:[e.jsx("span",{className:"saved-sidebar__vehicle-name",children:s.name}),a&&e.jsxs("span",{className:"saved-sidebar__vehicle-price",children:["Starting at $",a.priceMin.toLocaleString()]})]}),e.jsx("button",{className:"saved-sidebar__vehicle-unsave",onClick:r=>{r.preventDefault(),r.stopPropagation(),C(s.id)},"aria-label":"Remove from saved",title:"Remove from saved",children:e.jsx($,{size:18,fill:"currentColor"})})]},s.id)})})]}):!w&&e.jsxs("div",{className:"saved-sidebar__empty",children:[e.jsx($,{size:48,className:"saved-sidebar__empty-icon"}),e.jsx("h3",{className:"saved-sidebar__empty-title",children:"No saved vehicles"}),e.jsx("p",{className:"saved-sidebar__empty-desc",children:'Use the "Add a Vehicle" button below to search and save vehicles you want.'}),e.jsxs(x,{to:"/vehicles",className:"saved-sidebar__empty-cta",onClick:l,children:["Browse All Vehicles ",e.jsx(ae,{size:16})]})]}),w?e.jsxs("div",{className:"saved-sidebar__add-vehicle",children:[e.jsxs("div",{className:"saved-sidebar__search-wrapper",children:[e.jsx(P,{size:18,className:"saved-sidebar__search-icon"}),e.jsx("input",{ref:H,type:"text",className:"saved-sidebar__search-input",placeholder:"Search by year, make, or model...",value:A,onChange:q}),e.jsx("button",{className:"saved-sidebar__search-close",onClick:()=>{v(!1),I(""),V([])},children:e.jsx(T,{size:18})})]}),E.length>0&&e.jsx("div",{className:"saved-sidebar__search-results",children:E.map(s=>e.jsxs("button",{className:"saved-sidebar__search-result",onClick:()=>Y(s),children:[e.jsx("div",{className:"saved-sidebar__search-result-image",children:e.jsx(O,{src:s.image,alt:`${s.year} ${s.make} ${s.model}`,width:60,height:45})}),e.jsxs("div",{className:"saved-sidebar__search-result-info",children:[e.jsxs("span",{className:"saved-sidebar__search-result-name",children:[s.year," ",s.make," ",s.model]}),e.jsxs("span",{className:"saved-sidebar__search-result-price",children:["$",s.priceMin.toLocaleString()," - $",s.priceMax.toLocaleString()]})]}),e.jsx(W,{size:18,className:"saved-sidebar__search-result-add"})]},s.id))}),A.length>=2&&E.length===0&&e.jsxs("div",{className:"saved-sidebar__search-no-results",children:['No vehicles found for "',A,'"']})]}):e.jsxs("button",{className:"saved-sidebar__add-btn",onClick:()=>v(!0),children:[e.jsx(W,{size:18}),e.jsx("span",{children:"Add a Vehicle"})]})]}),_==="own"&&e.jsxs("div",{className:"saved-sidebar__section",children:[M.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"saved-sidebar__section-header",children:e.jsxs("span",{className:"saved-sidebar__section-title",children:["Cars I Own (",M.length,")"]})}),e.jsx("div",{className:"saved-sidebar__vehicles",children:M.map(s=>{const a=Z(s.name);return e.jsxs(x,{to:a?`/${a.slug}`:"/vehicles",className:"saved-sidebar__vehicle",onClick:l,children:[e.jsx("div",{className:"saved-sidebar__vehicle-image",children:a?.image?e.jsx(O,{src:a.image,alt:s.name,width:80,height:60}):e.jsx("div",{className:"saved-sidebar__vehicle-placeholder",children:e.jsx(U,{size:24})})}),e.jsxs("div",{className:"saved-sidebar__vehicle-info",children:[e.jsx("span",{className:"saved-sidebar__vehicle-name",children:s.name}),a&&e.jsxs("span",{className:"saved-sidebar__vehicle-price",children:["Starting at $",a.priceMin.toLocaleString()]})]}),e.jsx("button",{className:"saved-sidebar__vehicle-unsave",onClick:r=>{r.preventDefault(),r.stopPropagation(),C(s.id)},"aria-label":"Remove from saved",title:"Remove from saved",children:e.jsx($,{size:18,fill:"currentColor"})})]},s.id)})})]}),M.length===0&&!p&&e.jsxs("div",{className:"saved-sidebar__empty",children:[e.jsx(U,{size:48,className:"saved-sidebar__empty-icon"}),e.jsx("h3",{className:"saved-sidebar__empty-title",children:"No vehicles added"}),e.jsx("p",{className:"saved-sidebar__empty-desc",children:'Use the "Add a Vehicle" button below to add cars you own.'})]}),p?e.jsxs("div",{className:"saved-sidebar__add-vehicle",children:[e.jsxs("div",{className:"saved-sidebar__search-wrapper",children:[e.jsx(P,{size:18,className:"saved-sidebar__search-icon"}),e.jsx("input",{ref:L,type:"text",className:"saved-sidebar__search-input",placeholder:"Search by year, make, or model...",value:y,onChange:Q}),e.jsx("button",{className:"saved-sidebar__search-close",onClick:()=>{R(!1),S(""),j([])},children:e.jsx(T,{size:18})})]}),k.length>0&&e.jsx("div",{className:"saved-sidebar__search-results",children:k.map(s=>e.jsxs("button",{className:"saved-sidebar__search-result",onClick:()=>J(s),children:[e.jsx("div",{className:"saved-sidebar__search-result-image",children:e.jsx(O,{src:s.image,alt:`${s.year} ${s.make} ${s.model}`,width:60,height:45})}),e.jsxs("div",{className:"saved-sidebar__search-result-info",children:[e.jsxs("span",{className:"saved-sidebar__search-result-name",children:[s.year," ",s.make," ",s.model]}),e.jsxs("span",{className:"saved-sidebar__search-result-price",children:["$",s.priceMin.toLocaleString()," - $",s.priceMax.toLocaleString()]})]}),e.jsx(W,{size:18,className:"saved-sidebar__search-result-add"})]},s.id))}),y.length>=2&&k.length===0&&e.jsxs("div",{className:"saved-sidebar__search-no-results",children:['No vehicles found for "',y,'"']})]}):e.jsxs("button",{className:"saved-sidebar__add-btn",onClick:()=>R(!0),children:[e.jsx(W,{size:18}),e.jsx("span",{children:"Add a Vehicle"})]})]})]}),e.jsx("div",{className:"saved-sidebar__footer",children:e.jsx(x,{to:"/account?tab=saved",className:"saved-sidebar__footer-btn",onClick:l,children:"View All Saved"})})]})]})};le.__docgenInfo={description:"",methods:[],displayName:"SavedVehiclesSidebar",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const ke=()=>{const t=ie(),l=ne(),{user:n,isAuthenticated:f,signOut:C}=te(),[_,F]=i.useState(!1),[u,N]=i.useState(""),[p,R]=i.useState([]),[w,v]=i.useState(!1),[y,S]=i.useState(-1),[A,I]=i.useState(!1),[k,j]=i.useState(!1),[E,V]=i.useState(!1),L=i.useRef(null),H=i.useRef(null),{getRating:G}=oe(),Z="https://d2kde5ohu8qb21.cloudfront.net/files/659f9ed490e84500088bd486/012-2024-lamborghini-revuelto.jpg",g=i.useMemo(()=>{const a=t.pathname.match(/^\/(\d{4})\/([^/]+)\/([^/]+)/);if(a){const[,r,c,d]=a,m=`${r}/${c}/${d}`;return de(m)}return null},[t.pathname]),M=g?.image||(g?Z:void 0),Q=a=>G(a.id,he(a.bodyStyle),a.staffRating),q=[{label:"Browse All Vehicles",href:"/vehicles",isRoute:!0},{label:"Shop New Cars",href:"/",isRoute:!0},{label:"Shop Used Cars",href:"/used-cars",isRoute:!0},{label:"Research Cars",href:"#"},{label:"Expert Reviews",href:"#"},{label:"What's My Car Worth?",href:"#"},{label:"News + Stories",href:"#"}];i.useEffect(()=>{if(u.trim().length>=2){const a=ce(u).slice(0,8);R(a),v(!0)}else R([]),v(!1);S(-1)},[u]),i.useEffect(()=>{const a=r=>{L.current&&!L.current.contains(r.target)&&v(!1),H.current&&!H.current.contains(r.target)&&j(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);const J=async()=>{await C(),j(!1),l("/")},Y=a=>{a.preventDefault(),u.trim()&&(l(`/vehicles?search=${encodeURIComponent(u.trim())}`),N(""),v(!1))},z=a=>{l(`/${a.slug}`),N(""),v(!1)},s=a=>{!w||p.length===0||(a.key==="ArrowDown"?(a.preventDefault(),S(r=>r<p.length-1?r+1:r)):a.key==="ArrowUp"?(a.preventDefault(),S(r=>r>0?r-1:-1)):a.key==="Enter"&&y>=0?(a.preventDefault(),z(p[y])):a.key==="Escape"&&v(!1))};return e.jsxs("header",{className:"header",children:[e.jsxs("div",{className:"header__container",children:[e.jsxs("div",{className:"header__top",children:[e.jsx("button",{className:"header__mobile-menu-btn",onClick:()=>F(!_),"aria-label":_?"Close menu":"Open menu",children:_?e.jsx(T,{size:24}):e.jsx(je,{size:24})}),e.jsx(x,{to:"/",className:"header__logo","aria-label":"Car and Driver Home",children:e.jsxs("svg",{viewBox:"0 0 1364 262",className:"header__logo-svg header__logo-svg--animated",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M68.022 210.901C74.858 210.901 76.91 205.432 76.91 197.571V146.641H132.626V199.276C132.626 231.41 116.903 261.83 72.468 261.83H62.554C15.04 261.83 0 233.462 0 194.496V65.289C0 28.712 16.408 0 62.213 0H72.468C117.588 0 132.626 25.978 132.626 59.473V101.177H76.91V61.869C76.91 53.667 74.858 49.222 67.682 49.222C60.502 49.222 58.452 52.982 58.452 61.869V197.571C58.452 206.114 60.846 210.901 68.022 210.901Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M272.324 257.729H217.63L213.53 220.47H187.551L183.791 257.729H134.911L167.384 3.41907H236.774L272.324 257.729ZM192.681 170.223H208.402L200.54 92.9747L192.681 170.223Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M366.797 3.41907C391.752 3.41907 408.842 18.1158 408.842 48.1925V81.6935C408.842 105.278 396.534 115.873 386.624 120.318C396.194 124.079 408.842 134.331 408.842 153.477V237.561C408.842 247.13 410.55 252.601 412.258 256.021V257.729H356.542C354.149 254.654 352.101 248.844 352.101 239.616V165.781C352.101 157.237 350.047 153.477 342.527 153.477H334.666V257.729H278.268V3.41907H366.797ZM334.665 105.623H341.845C349.021 105.623 352.1 102.203 352.1 93.3126V59.1349C352.1 50.245 350.391 47.1691 342.871 47.1691H334.666L334.665 105.623Z"}),e.jsx("path",{className:"header__logo-bar",d:"M428.499 63.023H594.769V3.61597H428.5L428.499 63.023Z",fill:"#D2232A"}),e.jsx("path",{className:"header__logo-bar",d:"M428.499 257.046H594.769V197.644H428.5L428.499 257.046Z",fill:"#0061AF"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M481.039 182.672H461.599L460.098 167.332H449.987L448.607 182.672H430.7L442.597 77.9894H468.019L481.039 182.672ZM451.864 147.839H458.219L454.742 111.882L451.864 147.839Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M486.974 182.672V77.9889H507.008L517.652 128.64V77.9889H535.31V182.671H517.152L504.881 128.077V182.672H486.974Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M573.909 77.9874C585.429 77.9875 592.567 84.3239 592.567 101.067V158.609C592.567 174.929 586.18 182.672 574.035 182.672H544.356V77.9874H573.909ZM564.175 162.549H567.647C570.653 162.549 571.531 160.579 571.531 156.219V103.459C571.531 99.2341 570.653 97.4093 567.898 97.4093H564.175V162.549Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M696.341 3.41907C727.79 3.41907 747.273 18.8019 747.273 59.4728V199.276C747.273 238.928 729.839 257.729 696.682 257.729H615.674V3.41907H696.341ZM671.389 208.852H679.251C687.454 208.852 689.847 204.065 689.847 193.469V65.2892C689.847 55.0342 687.453 50.589 679.933 50.589H671.389V208.852Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M845.438 3.41907C870.393 3.41907 887.48 18.1158 887.48 48.1925V81.6935C887.48 105.278 875.177 115.873 865.264 120.318C874.833 124.079 887.48 134.331 887.48 153.477V237.561C887.48 247.13 889.191 252.601 890.899 256.021V257.729H835.183C832.79 254.654 830.738 248.844 830.738 239.616V165.781C830.738 157.237 828.689 153.477 821.169 153.477H813.307L813.308 257.729H756.907V3.41907H845.438ZM813.307 105.623H820.482C827.662 105.623 830.737 102.203 830.737 93.3126V59.1349C830.737 50.245 829.03 47.1691 821.51 47.1691H813.307V105.623Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M956.492 257.732H900.092V3.41895H956.492V257.732Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M1073.15 257.729H999.319L962.748 3.41895H1022.22L1037.6 162.705L1052.99 3.41895H1107.34L1073.15 257.729Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M1113.59 257.729V3.41895H1219.21V56.0569H1169.3V99.4689H1209.3V153.477H1169.3V204.065H1221.26V257.729H1113.59Z"}),e.jsx("path",{className:"header__logo-letter",fill:"currentColor",d:"M1285.45 47.1689H1293.65C1301.17 47.1689 1302.88 50.2449 1302.88 59.1349V93.313C1302.88 102.203 1299.81 105.623 1292.63 105.623H1285.45V47.1689ZM1285.45 153.477H1293.31C1300.83 153.477 1302.88 157.237 1302.88 165.781V239.616C1302.88 248.844 1304.93 254.654 1307.33 257.729H1363.04V256.021C1361.33 252.601 1359.62 247.131 1359.62 237.561V153.477C1359.62 134.331 1346.98 124.08 1337.41 120.319C1347.32 115.874 1359.62 105.279 1359.62 81.6939V48.1929C1359.62 18.1159 1342.54 3.41895 1317.58 3.41895H1229.05V257.729H1285.45V153.477Z"})]})}),e.jsxs("form",{className:"header__search-bar",onSubmit:Y,ref:L,children:[e.jsx("input",{type:"text",className:"header__search-input",placeholder:"Search vehicles...",value:u,onChange:a=>N(a.target.value),onKeyDown:s,onFocus:()=>u.trim().length>=2&&v(!0)}),e.jsx("button",{type:"submit",className:"header__search-btn","aria-label":"Search",children:e.jsx(P,{size:20})}),w&&p.length>0&&e.jsxs("div",{className:"header__suggestions",children:[p.map((a,r)=>e.jsxs("div",{className:`header__suggestion ${r===y?"header__suggestion--active":""}`,children:[e.jsx("img",{src:a.image||"/placeholder-car.png",alt:`${a.make} ${a.model}`,className:"header__suggestion-image",onClick:()=>z(a)}),e.jsxs("div",{className:"header__suggestion-info",onClick:()=>z(a),children:[e.jsxs("span",{className:"header__suggestion-name",children:[a.year," ",a.make," ",a.model]}),e.jsx("span",{className:"header__suggestion-price",children:a.priceRange})]}),e.jsxs("span",{className:"header__suggestion-rating",children:[e.jsx("span",{className:"header__suggestion-rating-score",children:Q(a)}),"/10"]}),e.jsxs("div",{className:"header__suggestion-ctas",children:[e.jsx("button",{type:"button",className:"header__suggestion-cta header__suggestion-cta--buy",onClick:()=>{l(`/${a.slug}#pricing`),N(""),v(!1)},children:"Buy"}),e.jsx("button",{type:"button",className:"header__suggestion-cta header__suggestion-cta--research",onClick:()=>z(a),children:"Research"})]})]},a.id)),e.jsxs("button",{type:"submit",className:"header__suggestion header__suggestion--all",children:[e.jsx(P,{size:16}),e.jsxs("span",{children:['See all results for "',u,'"']})]})]})]}),e.jsxs("div",{className:"header__actions",children:[f?e.jsxs("button",{className:"header__saved-btn",onClick:()=>V(!0),"aria-label":"My Garage",children:[e.jsx($,{size:18,fill:"currentColor"}),e.jsx("span",{className:"header__saved-btn-text",children:"My Garage"})]}):e.jsx(ue,{variant:"primary",size:"small",onClick:()=>I(!0),className:"header__subscribe-btn",children:"Subscribe"}),e.jsx("div",{className:"header__user-container",ref:H,children:f&&n?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"header__user-btn header__user-btn--authenticated",onClick:()=>j(!k),"aria-label":"User menu","aria-expanded":k,children:e.jsx("div",{className:"header__user-avatar",children:B(n.avatar)?e.jsx("img",{src:B(n.avatar),alt:n.name||"User avatar",className:"header__user-avatar-img"}):e.jsx("span",{children:re(n.name)})})}),k&&e.jsxs("div",{className:"header__user-menu",children:[e.jsxs("div",{className:"header__user-menu-header",children:[e.jsx("div",{className:"header__user-menu-avatar",children:B(n.avatar)?e.jsx("img",{src:B(n.avatar),alt:n.name||"User avatar",className:"header__user-menu-avatar-img"}):e.jsx("span",{children:re(n.name)})}),e.jsxs("div",{className:"header__user-menu-info",children:[e.jsx("span",{className:"header__user-menu-name",children:n.name||"Member"}),e.jsx("span",{className:"header__user-menu-email",children:n.email})]})]}),e.jsx("div",{className:"header__user-menu-divider"}),e.jsxs(x,{to:"/account",className:"header__user-menu-item",onClick:()=>j(!1),children:[e.jsx(ve,{size:18}),e.jsx("span",{children:"My Account"})]}),e.jsx("div",{className:"header__user-menu-divider"}),e.jsxs("button",{className:"header__user-menu-item header__user-menu-item--danger",onClick:J,children:[e.jsx(xe,{size:18}),e.jsx("span",{children:"Sign Out"})]})]})]}):e.jsx(x,{to:"/sign-in",className:"header__user-btn","aria-label":"Sign in",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M21.649 19.875c-1.428-2.468-3.629-4.239-6.196-5.078a6.75 6.75 0 1 0-6.906 0c-2.568.839-4.768 2.609-6.196 5.078a.75.75 0 1 0 1.299.75C5.416 17.573 8.538 15.75 12 15.75c3.462 0 6.584 1.823 8.35 4.875a.75.75 0 1 0 1.299-.75ZM6.749 9a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0Z",fill:"currentColor"})})})})]})]}),e.jsx("nav",{className:`header__nav ${_?"header__nav--open":""}`,children:e.jsx("ul",{className:"header__nav-list",children:q.map((a,r)=>e.jsx("li",{className:"header__nav-item",children:a.isRoute?e.jsx(x,{to:a.href,className:"header__nav-link",children:a.label}):e.jsx("a",{href:a.href,className:"header__nav-link",children:a.label})},r))})})]}),e.jsx(_e,{isOpen:A,onClose:()=>I(!1),vehicleName:g?`${g.year} ${g.make} ${g.model}`:void 0,vehicleImage:M,enableExitIntent:!0}),e.jsx(le,{isOpen:E,onClose:()=>V(!1)})]})};ke.__docgenInfo={description:"",methods:[],displayName:"Header"};export{ke as H,Te as a};
