import{r,j as e}from"./iframe-DIdqqM8u.js";const T=({className:a})=>e.jsxs("svg",{className:a,width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),e.jsx("circle",{cx:"8.5",cy:"10.5",r:"1.5",fill:"currentColor"}),e.jsx("path",{d:"M21 15L16 10L11 15",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),e.jsx("path",{d:"M14 18L10 14L3 21",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]}),l=({src:a,alt:t,aspectRatio:o,showPlaceholder:c=!0,placeholderColor:g="var(--color-gray-100)",fallbackSrc:d,objectFit:h="cover",wrapperClassName:v="",className:y="",onImageLoad:w,onImageError:I,loading:u="lazy",...x})=>{const[m,b]=r.useState(!1),[p,j]=r.useState(!1),[k,f]=r.useState(!1),z=r.useRef(null),s=r.useRef(null);r.useEffect(()=>{if("loading"in HTMLImageElement.prototype){f(!0);return}const n=new IntersectionObserver(_=>{_.forEach(R=>{R.isIntersecting&&(f(!0),n.disconnect())})},{rootMargin:"200px",threshold:0});return s.current&&n.observe(s.current),()=>n.disconnect()},[]);const L=()=>{b(!0),w?.()},V=()=>{j(!0),I?.()},i=p||!a,q=(k||u==="eager")&&!i;return e.jsxs("div",{ref:s,className:`optimized-image ${m?"optimized-image--loaded":""} ${i?"optimized-image--error":""} ${v}`,style:{aspectRatio:o,backgroundColor:c?g:void 0},children:[i&&e.jsx("div",{className:"optimized-image__error-fallback",children:e.jsx(T,{className:"optimized-image__error-icon"})}),c&&!m&&!i&&e.jsx("div",{className:"optimized-image__placeholder","aria-hidden":"true"}),q&&e.jsx("img",{ref:z,src:d&&p?d:a,alt:t,loading:u,decoding:"async",onLoad:L,onError:V,className:`optimized-image__img ${y}`,style:{objectFit:h},...x})]})},E=({size:a="card",...t})=>{const o={card:"16/10",hero:"16/9",thumbnail:"4/3"};return e.jsx(l,{aspectRatio:o[a],...t})},N=({size:a=40,alt:t,...o})=>e.jsx(l,{aspectRatio:"1/1",objectFit:"cover",alt:t,style:{width:a,height:a,borderRadius:"50%"},...o});l.__docgenInfo={description:`OptimizedImage Component

A performant image component with:
- Native lazy loading
- Intersection Observer fallback for older browsers
- Blur-up placeholder effect
- Error handling with fallback
- Aspect ratio preservation

@example
// Basic usage
<OptimizedImage src="/car.jpg" alt="Vehicle" />

// With aspect ratio and placeholder
<OptimizedImage 
  src="/car.jpg" 
  alt="Vehicle"
  aspectRatio="16/9"
  showPlaceholder
/>`,methods:[],displayName:"OptimizedImage",props:{src:{required:!0,tsType:{name:"string"},description:"Image source URL"},alt:{required:!0,tsType:{name:"string"},description:"Alt text for accessibility"},aspectRatio:{required:!1,tsType:{name:"string"},description:'Aspect ratio for placeholder (e.g., "16/9", "4/3", "1/1")'},showPlaceholder:{required:!1,tsType:{name:"boolean"},description:"Show blur placeholder while loading",defaultValue:{value:"true",computed:!1}},placeholderColor:{required:!1,tsType:{name:"string"},description:"Placeholder background color",defaultValue:{value:"'var(--color-gray-100)'",computed:!1}},fallbackSrc:{required:!1,tsType:{name:"string"},description:"Fallback image on error"},objectFit:{required:!1,tsType:{name:"union",raw:"'cover' | 'contain' | 'fill' | 'none'",elements:[{name:"literal",value:"'cover'"},{name:"literal",value:"'contain'"},{name:"literal",value:"'fill'"},{name:"literal",value:"'none'"}]},description:"Object fit style",defaultValue:{value:"'cover'",computed:!1}},wrapperClassName:{required:!1,tsType:{name:"string"},description:"Additional wrapper class",defaultValue:{value:"''",computed:!1}},onImageLoad:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Callback when image loads"},onImageError:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Callback when image fails to load"},className:{defaultValue:{value:"''",computed:!1},required:!1},loading:{defaultValue:{value:"'lazy'",computed:!1},required:!1}}};E.__docgenInfo={description:"",methods:[],displayName:"VehicleImage",props:{size:{required:!1,tsType:{name:"union",raw:"'card' | 'hero' | 'thumbnail'",elements:[{name:"literal",value:"'card'"},{name:"literal",value:"'hero'"},{name:"literal",value:"'thumbnail'"}]},description:"Size variant affecting aspect ratio",defaultValue:{value:"'card'",computed:!1}}},composes:["Omit"]};N.__docgenInfo={description:"",methods:[],displayName:"AvatarImage",props:{size:{required:!1,tsType:{name:"number"},description:"Avatar size in pixels",defaultValue:{value:"40",computed:!1}}},composes:["Omit"]};export{N as A,l as O,E as V};
